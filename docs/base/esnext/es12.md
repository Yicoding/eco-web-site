---
toc: menu
---

# ES 提案

![image](images/es/8.png)

## 1.声明

### 1）do 表达式

- 封装块级作用域的操作，返回内部最后执行表达式的值(do{})

### 2） throw 表达式

- 直接使用`throw new Error()`，`无需`()或{}包括

### !#命令

- 指定脚本执行器(写在文件首行)

## 2.数值扩展

### 1）数值分隔符(\_)

- 使用\_作为千分位分隔符(增加数值的可读性)

```js
const num = 1000000000;

// 使用数字分隔符
const num = 1_000_000_000;
```

### 2）Math.signbit()

- 返回数值符号是否设置

## 3.函数扩展

### 1）函数部分执行

- 复用函数功能(`?`表示单个参数占位符，`...`表示多个参数占位符)

### 2）管道操作符(|>)

- 把左边表达式的值传入右边的函数进行求值(`f(x) => x |> f`)

### 3）绑定运算符(::)

- 函数绑定(左边是对象右边是函数，`取代`bind、apply、call 调用)

  - bind：`bar.bind(foo)` => `foo::bar`
  - apply：`bar.apply(foo, arguments)` => `foo::bar(...arguments)`

## 4.Realm

### 1）定义

- 提供`沙箱功能`，允许隔离代码，防止被隔离的代码拿到全局对象

### 2）声明

- `new Realm().global`

## 5.Class

### 1）静态属性

- 使用 `static` 定义属性，该属性`不会被实例继承`，只能通过类来调用

### 2）私有属性

- 使用 `#` 定义属性，该属性只能在类内部访问

### 3）私有方法

- 使用 `#` 定义方法，该方法只能在类内部访问

### 4）装饰器

- 使用 `@` 注释或修改类和类方法

## 6.Module-import.meta

- 返回脚本元信息

## 7.Promise

### 1）Promise.any()

- 将多个实例包装成一个新实例，返回全部实例状态变更后的结果数组(齐变更再返回)

  - 入参：具有 `Iterator 接口`的数据结构
  - 成功：其中一个实例状态变成 `fulfilled`，最终状态就会变成 `fulfilled`
  - 失败：只有全部实例状态变成 `rejected`，最终状态才会变成 `rejected`

### 2）Promise.try()

- 不想区分是否同步异步函数，包装函数为实例，使用 `then()`指定下一步流程，使用 `catch()`捕获错误

## 8.Async-顶层 Await

- 允许在模块的顶层独立使用 `await 命令`(借用 `await` 解决模块异步加载的问题)
