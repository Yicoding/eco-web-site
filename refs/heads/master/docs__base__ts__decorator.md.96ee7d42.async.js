(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[77],{JjdP:function(e,n,t){"use strict";t.r(n),n["default"]={}},OVtr:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),l=t.n(a),r=t("dEAq"),c=t("H1Ra");t("JjdP");n["default"]=e=>(l.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"\u88c5\u9970\u5668"},l.a.createElement(r["AnchorLink"],{to:"#\u88c5\u9970\u5668","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u88c5\u9970\u5668"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",null,"\u88c5\u9970\u5668(decorator)\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u7ed9\u4e00\u4e2a\u5df2\u6709\u7684\u65b9\u6cd5\u6216\u7c7b",l.a.createElement("code",null,"\u6269\u5c55"),"\u4e00\u4e9b\u65b0\u7684\u884c\u4e3a\uff0c\u800c",l.a.createElement("code",null,"\u4e0d"),"\u662f\u53bb\u76f4\u63a5",l.a.createElement("code",null,"\u4fee\u6539"),"\u5b83",l.a.createElement("code",null,"\u672c\u8eab"))),l.a.createElement("li",null,l.a.createElement("p",null,"\u5728 ES2015 \u8fdb\u5165 Class \u4e4b\u540e,\u5f53\u6211\u4eec\u9700\u8981\u5728\u591a\u4e2a\u4e0d\u540c\u7684\u7c7b\u4e4b\u95f4\u5171\u4eab\u6216\u8005\u6269\u5c55\u4e00\u4e9b\u65b9\u6cd5\u6216\u884c\u4e3a\u7684\u65f6\u5019\uff0c\u4ee3\u7801\u4f1a\u53d8\u5f97\u9519\u7efc\u590d\u6742\uff0c\u6781\u5176\u4e0d\u4f18\u96c5\uff0c\u8fd9\u4e5f\u5c31\u662f\u88c5\u9970\u5668\u88ab\u63d0\u51fa\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u539f\u56e0")),l.a.createElement("li",null,l.a.createElement("p",null,"\u88c5\u9970\u5668\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u51fd\u6570,@expression \u7684\u5f62\u5f0f\u5176\u5b9e\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6, expression \u6c42\u503c\u540e\u5fc5\u987b\u4e5f\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u4f1a\u5728\u8fd0\u884c\u65f6\u88ab\u8c03\u7528\uff0c\u88ab\u88c5\u9970\u7684\u58f0\u660e\u4fe1\u606f\u505a\u4e3a\u53c2\u6570\u4f20\u5165")),l.a.createElement("li",null,l.a.createElement("p",null,"JavaScript \u4e2d\u7684 Class \u5176\u5b9e\u4e5f\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6"))),l.a.createElement("h2",{id:"1\u7c7b\u88c5\u9970\u5668"},l.a.createElement(r["AnchorLink"],{to:"#1\u7c7b\u88c5\u9970\u5668","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.\u7c7b\u88c5\u9970\u5668"),l.a.createElement(c["a"],{code:"function addAge(constructor: Function) {\n  constructor.prototype.age = 18;\n}\n\n@addAge\nclass Person {\n  name: string;\n  age!: number;\n  constructor() {\n    this.name = 'xiaomuzhu';\n  }\n}\n\nlet person = new Person();\n\nconsole.log(person.age); // 18",lang:"ts"}),l.a.createElement("p",null,l.a.createElement("strong",null,"\u7b49\u540c\u4e8e")),l.a.createElement(c["a"],{code:"Person = addAge(function Person() {\n  //  ...\n});",lang:"ts"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5f53\u88c5\u9970\u5668\u4f5c\u4e3a\u4fee\u9970\u7c7b\u7684\u65f6\u5019\uff0c\u4f1a\u628a",l.a.createElement("code",null,"\u6784\u9020\u5668"),"\u4f20\u9012\u8fdb\u53bb\u3002 constructor.prototype.age \u5c31\u662f\u5728\u6bcf\u4e00\u4e2a\u5b9e\u4f8b\u5316\u5bf9\u8c61\u4e0a\u9762\u6dfb\u52a0\u4e00\u4e2a age \u503c")),l.a.createElement("h2",{id:"2\u5c5e\u6027\u65b9\u6cd5\u88c5\u9970\u5668"},l.a.createElement(r["AnchorLink"],{to:"#2\u5c5e\u6027\u65b9\u6cd5\u88c5\u9970\u5668","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"2.\u5c5e\u6027/\u65b9\u6cd5\u88c5\u9970\u5668"),l.a.createElement("ul",null,l.a.createElement("li",null,"Class \u7684\u5c5e\u6027/\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u88ab\u88c5\u9970")),l.a.createElement(c["a"],{code:"// \u58f0\u660e\u88c5\u9970\u5668\u4fee\u9970\u65b9\u6cd5/\u5c5e\u6027\nfunction method(\n  target: any,\n  propertyKey: string,\n  descriptor: PropertyDescriptor,\n) {\n  console.log(target);\n  console.log('prop ' + propertyKey);\n  console.log('desc ' + JSON.stringify(descriptor) + '\\n\\n');\n  descriptor.writable = false;\n}\n\nclass Person {\n  name: string;\n  constructor() {\n    this.name = 'xiaomuzhu';\n  }\n\n  @method\n  say() {\n    return 'instance method';\n  }\n  // Person { say: [Function] }\n  // prop say\n  // desc {\"writable\":true,\"enumerable\":true,\"configurable\":true}\n\n  @method\n  static run() {\n    return 'static method';\n  }\n  // [Function: Person] { run: [Function] }\n  // prop run\n  // desc {\"writable\":true,\"enumerable\":true,\"configurable\":true}\n}\n\nconst xmz = new Person();\n\n// \u4fee\u6539\u5b9e\u4f8b\u65b9\u6cd5say\nxmz.say = function () {\n  // TypeError: Cannot assign to read only property 'say' of object '#<Person>'\n  return 'edit';\n};\n\n// \u6253\u5370\u7ed3\u679c,\u68c0\u67e5\u662f\u5426\u6210\u529f\u4fee\u6539\u5b9e\u4f8b\u65b9\u6cd5\nconsole.log(xmz.say());",lang:"ts"}),l.a.createElement("h2",{id:"3\u9ad8\u7ea7\u88c5\u9970\u5668"},l.a.createElement(r["AnchorLink"],{to:"#3\u9ad8\u7ea7\u88c5\u9970\u5668","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"3.\u9ad8\u7ea7\u88c5\u9970\u5668"),l.a.createElement("h3",{id:"1\u53c2\u6570\u88c5\u9970\u5668"},l.a.createElement(r["AnchorLink"],{to:"#1\u53c2\u6570\u88c5\u9970\u5668","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u53c2\u6570\u88c5\u9970\u5668"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u7528\u4e8e\u4fee\u9970\u53c2\u6570\u7684\u88c5\u9970\u5668")),l.a.createElement(c["a"],{code:"function logParameter(target: Object, propertyKey: string, index: number) {\n  console.log(target, propertyKey, index);\n}\n\nclass Person {\n  greet(@logParameter message: string, @logParameter name: string): string {\n    return `${message} ${name}`;\n  }\n}\nconst p = new Person();\np.greet('hello', 'xiaomuzhu');\n\n// Person { greet: [Function] } greet 1\n// Person { greet: [Function] } greet 0",lang:"ts"}),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",null,"\u9700\u8981\u4e09\u4e2a\u53c2\u6570 target\u3001propertyKey\u3001index:"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("code",null,"target")," \u2014\u2014 \u5f53\u524d\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5047\u8bbe Person \u662f\u5f53\u524d\u5bf9\u8c61\uff0c\u90a3\u4e48\u5f53\u524d\u5bf9\u8c61 target \u7684\u539f\u578b\u5c31\u662f Person.prototype"),l.a.createElement("li",null,l.a.createElement("code",null,"propertyKey")," \u2014\u2014 \u53c2\u6570\u7684\u540d\u79f0\uff0c\u4e0a\u4f8b\u4e2d\u6307\u7684\u5c31\u662f greet"),l.a.createElement("li",null,l.a.createElement("code",null,"index")," \u2014\u2014 \u53c2\u6570\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\uff0c\u6bd4\u5982\u4e0a\u4f8b\u4e2d\u53c2\u6570 name \u7684\u4f4d\u7f6e\u662f 1, message \u7684\u4f4d\u7f6e\u4e3a 0"))),l.a.createElement("li",null,l.a.createElement("p",null,"\u88c5\u9970\u5668\u662f\u53ef\u4ee5",l.a.createElement("code",null,"\u4fee\u6539\u88ab\u4fee\u9970\u8005\u7684\u884c\u4e3a\u7684"))),l.a.createElement("li",null,l.a.createElement("p",null,"\u53c2\u6570\u88c5\u9970\u5668\u53ef\u4ee5\u63d0\u4f9b\u4fe1\u606f\uff0c\u7ed9\u6bd4\u5982\u7ed9\u7c7b\u539f\u578b\u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027\uff0c\u5c5e\u6027\u4e2d\u5305\u542b\u4e00\u7cfb\u5217\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5c31\u88ab\u6210\u4e3a\u300c\u5143\u6570\u636e\u300d\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u53e6\u5916\u4e00\u4e2a\u88c5\u9970\u5668\u6765\u8bfb\u53d6\u300c\u5143\u6570\u636e\u300d"))),l.a.createElement("h3",{id:"2\u88c5\u9970\u5668\u5de5\u5382"},l.a.createElement(r["AnchorLink"],{to:"#2\u88c5\u9970\u5668\u5de5\u5382","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u88c5\u9970\u5668\u5de5\u5382"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",null,"\u88c5\u9970\u5668\u5de5\u5382\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u51fd\u6570\uff0c\u5b83\u8fd4\u56de\u4e00\u79cd\u7c7b\u578b\u7684\u88c5\u9970\u5668")),l.a.createElement("li",null,l.a.createElement("p",null,"\u88c5\u9970\u5668\u901a\u5e38\u662f\u7528\u4e8e\u62bd\u8c61\u548c\u91cd\u7528")),l.a.createElement("li",null,l.a.createElement("p",null,"\u5206\u522b\u628a\u4e00\u4e2a\u7c7b\u4e2d\u7684\u90e8\u5206\u5c5e\u6027\u3001\u7c7b\u672c\u8eab\u3001\u65b9\u6cd5\u3001\u53c2\u6570\u7684\u540d\u79f0\u6253\u5370\u51fa\u6765"))),l.a.createElement(c["a"],{code:"function log(...args: any[]) {\n  switch (args.length) {\n    case 1:\n      return logClass.apply(this, args);\n    case 2:\n      return logProperty.apply(this, args);\n    case 3:\n      if (typeof args[2] === 'number') {\n        return logParameter.apply(this, args);\n      }\n      return logMethod.apply(this, args);\n    default:\n      throw new Error('Decorators are not valid here!');\n  }\n}\n\n@log\nclass Person {\n  @log\n  public name: string;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n\n  @log\n  public greet(@log message: string): string {\n    return `${this.name} say: ${message}`;\n  }\n}",lang:"ts"}),l.a.createElement("h3",{id:"3\u88c5\u9970\u5668\u987a\u5e8f"},l.a.createElement(r["AnchorLink"],{to:"#3\u88c5\u9970\u5668\u987a\u5e8f","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u88c5\u9970\u5668\u987a\u5e8f"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u591a\u4e2a\u88c5\u9970\u5668\u53ef\u4ee5\u540c\u65f6\u5e94\u7528\u5230\u4e00\u4e2a\u58f0\u660e\u4e0a")),l.a.createElement("p",null,l.a.createElement("strong",null,"1.\u4e66\u5199\u5728\u540c\u4e00\u884c\u4e0a")),l.a.createElement(c["a"],{code:"@f @g x",lang:"ts"}),l.a.createElement("p",null,l.a.createElement("strong",null,"2.\u4e66\u5199\u5728\u591a\u884c\u4e0a")),l.a.createElement(c["a"],{code:"@f\n@g\nx",lang:"ts"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5728 TypeScript \u91cc\uff0c\u5f53\u591a\u4e2a\u88c5\u9970\u5668\u5e94\u7528\u5728\u4e00\u4e2a\u58f0\u660e\u4e0a\u65f6\u4f1a\u8fdb\u884c\u5982\u4e0b\u6b65\u9aa4\u7684\u64cd\u4f5c\uff1a",l.a.createElement("ul",null,l.a.createElement("li",null,"\u7531\u4e0a\u81f3\u4e0b\u4f9d\u6b21\u5bf9\u88c5\u9970\u5668\u8868\u8fbe\u5f0f\u6c42\u503c"),l.a.createElement("li",null,"\u6c42\u503c\u7684\u7ed3\u679c\u4f1a\u88ab\u5f53\u4f5c\u51fd\u6570\uff0c\u7531\u4e0b\u81f3\u4e0a\u4f9d\u6b21\u8c03\u7528")))),l.a.createElement(c["a"],{code:"function f() {\n  console.log('f(): evaluated');\n  return function (\n    target,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    console.log('f(): called');\n  };\n}\n\nfunction g() {\n  console.log('g(): evaluated');\n  return function (\n    target,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    console.log('g(): called');\n  };\n}\n\nclass C {\n  @f()\n  @g()\n  method() {}\n}\n\n// \u4f9d\u6b21\u8f93\u51fa\n// f(): evaluated\n// g(): evaluated\n// g(): called\n// f(): called",lang:"ts"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u53c2\u6570\u88c5\u9970\u5668\uff0c\u7136\u540e\u4f9d\u6b21\u662f\u65b9\u6cd5\u88c5\u9970\u5668\uff0c\u8bbf\u95ee\u7b26\u88c5\u9970\u5668\uff0c\u6216\u5c5e\u6027\u88c5\u9970\u5668\u5e94\u7528\u5230\u6bcf\u4e2a\u5b9e\u4f8b\u6210\u5458"),l.a.createElement("li",null,"\u53c2\u6570\u88c5\u9970\u5668\uff0c\u7136\u540e\u4f9d\u6b21\u662f\u65b9\u6cd5\u88c5\u9970\u5668\uff0c\u8bbf\u95ee\u7b26\u88c5\u9970\u5668\uff0c\u6216\u5c5e\u6027\u88c5\u9970\u5668\u5e94\u7528\u5230\u6bcf\u4e2a\u9759\u6001\u6210\u5458"),l.a.createElement("li",null,"\u53c2\u6570\u88c5\u9970\u5668\u5e94\u7528\u5230\u6784\u9020\u51fd\u6570"),l.a.createElement("li",null,"\u7c7b\u88c5\u9970\u5668\u5e94\u7528\u5230\u7c7b")))))},Zs1V:function(e){e.exports=JSON.parse("{}")}}]);