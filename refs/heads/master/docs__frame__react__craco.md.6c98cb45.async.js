(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[160],{JjdP:function(e,n,a){"use strict";a.r(n),n["default"]={}},Zs1V:function(e){e.exports=JSON.parse("{}")},nzub:function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),r=a.n(t),c=a("dEAq"),l=a("H1Ra");a("JjdP");n["default"]=e=>(r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"craco"},r.a.createElement(c["AnchorLink"],{to:"#craco","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"craco"),r.a.createElement("h2",{id:"1\u80cc\u666f"},r.a.createElement(c["AnchorLink"],{to:"#1\u80cc\u666f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"1.\u80cc\u666f"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",null,"\u4f7f\u7528 CRA \u811a\u624b\u67b6\u521b\u5efa\u7684\u9879\u76ee\uff0c\u5982\u679c\u60f3\u8981\u4fee\u6539\u7f16\u8bd1\u914d\u7f6e\uff0c\u901a\u5e38\u53ef\u80fd\u4f1a\u9009\u62e9 npm run eject \u5f39\u51fa\u914d\u7f6e\u540e\u9b54\u6539\u3002\u4f46\u662f\uff0ceject \u662f\u4e0d\u53ef\u9006\u64cd\u4f5c\uff0c\u5f39\u51fa\u914d\u7f6e\u540e\uff0c",r.a.createElement("code",null,"\u5c06\u65e0\u6cd5\u8ddf\u968f\u5b98\u65b9\u7684\u811a\u6b65\u53bb\u5347\u7ea7\u9879\u76ee\u7684 react-script \u7248\u672c"))),r.a.createElement("li",null,r.a.createElement("p",null,"\u5982\u679c\u60f3\u8981\u65e0 eject \u91cd\u5199 CRA \u914d\u7f6e\uff0c\u76ee\u524d\u6210\u719f\u7684\u662f\u4e0b\u9762\u8fd9\u51e0\u79cd\u65b9\u5f0f"),r.a.createElement("ul",null,r.a.createElement("li",null,"1.\u901a\u8fc7 CRA \u5b98\u65b9\u652f\u6301\u7684 ",r.a.createElement("code",null,"--scripts-version")," \u53c2\u6570\uff0c\u521b\u5efa\u9879\u76ee\u65f6\u4f7f\u7528\u81ea\u5df1\u91cd\u5199\u8fc7\u7684 react-scripts \u5305"),r.a.createElement("li",null,"2.\u4f7f\u7528 ",r.a.createElement("code",null,"react-app-rewired + customize-cra")," \u7ec4\u5408\u8986\u76d6\u914d\u7f6e"),r.a.createElement("li",null,"3.\u4f7f\u7528 ",r.a.createElement("code",null,"craco")," \u8986\u76d6\u914d\u7f6e")))),r.a.createElement("h2",{id:"2\u4ec0\u4e48\u662f-craco"},r.a.createElement(c["AnchorLink"],{to:"#2\u4ec0\u4e48\u662f-craco","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"2.\u4ec0\u4e48\u662f CRACO\uff1f"),r.a.createElement("ul",null,r.a.createElement("li",null,"CRACO \u662f Create React App Configuration Override \u7684\u7f29\u5199\uff0c\u987e\u540d\u601d\u4e49\u5c31\u662f\u5bf9\u901a\u8fc7 create-react-app \u521b\u5efa\u7684\u9879\u76ee\u914d\u7f6e\u5b9e\u73b0\u91cd\u5199")),r.a.createElement("h2",{id:"3craco-\u4f5c\u7528"},r.a.createElement(c["AnchorLink"],{to:"#3craco-\u4f5c\u7528","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"3.CRACO \u4f5c\u7528"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u53ef\u4ee5\u901a\u8fc7\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u6839\u76ee\u5f55\u6dfb\u52a0\u5355\u4e2a\u914d\u7f6e\u5982 craco.config.js \u6587\u4ef6\u5e76\u81ea\u5b9a\u4e49 eslint\u3001babel\u3001postcss \u914d\u7f6e\u7b49\uff0c\u4e0d\u9700\u8981\u4f7f\u7528 eject \u5373\u53ef\u83b7\u5f97 create-react-app \u548c\u81ea\u5b9a\u4e49\u914d\u7f6e\u7684\u597d\u5904\u3002\uff08\u901a\u5e38\u53ef\u80fd\u4f1a\u9009\u62e9 \xa0npm run eject \u5f39\u51fa\u914d\u7f6e\u540e\u9b54\u6539\u3002\u4f46\u662f\uff0ceject \u662f\u4e0d\u53ef\u9006\u64cd\u4f5c\uff0c\u5f39\u51fa\u914d\u7f6e\u540e\uff0c\u4f60\u5c06\u65e0\u6cd5\u8ddf\u968f\u5b98\u65b9\u7684\u811a\u6b65\u53bb\u5347\u7ea7\u9879\u76ee\u7684 \xa0react-script\xa0 \u7248\u672c\uff09")),r.a.createElement("h2",{id:"4\u5b89\u88c5"},r.a.createElement(c["AnchorLink"],{to:"#4\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"4.\u5b89\u88c5"),r.a.createElement("h3",{id:"1\u5b89\u88c5-craco"},r.a.createElement(c["AnchorLink"],{to:"#1\u5b89\u88c5-craco","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u5b89\u88c5 craco"),r.a.createElement(l["a"],{code:"yarn add  @craco/craco\n # \u6216\u8005\n npm install  @craco/craco --save",lang:"bash"}),r.a.createElement("h3",{id:"2\u5728\u9879\u76ee\u6839\u76ee\u5f55\u65b0\u5efa-cracoconfigjs-\u6587\u4ef6"},r.a.createElement(c["AnchorLink"],{to:"#2\u5728\u9879\u76ee\u6839\u76ee\u5f55\u65b0\u5efa-cracoconfigjs-\u6587\u4ef6","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u5728\u9879\u76ee\u6839\u76ee\u5f55\u65b0\u5efa craco.config.js \u6587\u4ef6"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u4e5f\u53ef\u4ee5\u662f .cracorc.js \u3001.cracorc\uff0ccosmiconfig \u4e86\u89e3\u4e00\u4e0b")),r.a.createElement(l["a"],{code:"module.exports = {};",lang:"js"}),r.a.createElement("h3",{id:"3\u4fee\u6539-packagejson-\u4e2d\u7684\u542f\u52a8\u547d\u4ee4"},r.a.createElement(c["AnchorLink"],{to:"#3\u4fee\u6539-packagejson-\u4e2d\u7684\u542f\u52a8\u547d\u4ee4","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u4fee\u6539 package.json \u4e2d\u7684\u542f\u52a8\u547d\u4ee4"),r.a.createElement(l["a"],{code:'{\n  "scripts": {\n    "start": "craco start",\n    "build": "craco build",\n    "test": "craco test"\n  }\n}',lang:"json"}),r.a.createElement("h2",{id:"5\u914d\u7f6e"},r.a.createElement(c["AnchorLink"],{to:"#5\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"5.\u914d\u7f6e"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",null,"CRACO \u914d\u7f6e\u6709 craco.config.ts\uff0ccraco.config.js\uff0c.cracorc.ts\uff0c.cracorc.js \u6216.cracorc \u6587\u4ef6\uff0c\u6216\u5728\u6307\u5b9a\u7684\u6587\u4ef6 package.json\u3002\u8be5\u6587\u4ef6\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\uff0c\u4ee3\u8868\u6784\u6210\u9ed8\u8ba4 create react app \u7684\u4e3b\u8981\u90e8\u5206")),r.a.createElement("li",null,r.a.createElement("p",null,"\u5982\u679c\u540c\u4e00\u76ee\u5f55\u4e0b\u6709\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0cCRACO \u53ea\u4f1a\u4f7f\u7528\u4e00\u4e2a\u3002\u4f18\u5148\u987a\u5e8f\u662f\uff1a"),r.a.createElement("ul",null,r.a.createElement("li",null,"package.json"),r.a.createElement("li",null,"craco.config.ts"),r.a.createElement("li",null,"craco.config.js"),r.a.createElement("li",null,".cracorc.ts"),r.a.createElement("li",null,".cracorc.js"),r.a.createElement("li",null,".cracorc")))),r.a.createElement("h3",{id:"1\u6269\u5c55-babel-\u914d\u7f6e"},r.a.createElement(c["AnchorLink"],{to:"#1\u6269\u5c55-babel-\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u6269\u5c55 babel \u914d\u7f6e"),r.a.createElement(l["a"],{code:"/* craco.config.js */\n\nmodule.exports = {\n  babel: {\n    presets: [\n      [\n        '@babel/preset-env',\n        {\n          modules: false, // \u5bf9ES6\u7684\u6a21\u5757\u6587\u4ef6\u4e0d\u505a\u8f6c\u5316\uff0c\u4ee5\u4fbf\u4f7f\u7528tree shaking\u3001sideEffects\u7b49\n          useBuiltIns: 'entry', // browserslist\u73af\u5883\u4e0d\u652f\u6301\u7684\u6240\u6709\u57ab\u7247\u90fd\u5bfc\u5165\n          // https://babeljs.io/docs/en/babel-preset-env#usebuiltins\n          // https://github.com/zloirock/core-js/blob/master/docs/2019-03-19-core-js-3-babel-and-a-look-into-the-future.md\n          corejs: {\n            version: 3, // \u4f7f\u7528core-js@3\n            proposals: true,\n          },\n        },\n      ],\n    ],\n    plugins: [\n      // \u914d\u7f6e babel-plugin-import\n      [\n        'import',\n        { libraryName: 'antd', libraryDirectory: 'es', style: true },\n        'antd',\n      ],\n      // \u914d\u7f6e\u89e3\u6790\u5668\n      ['@babel/plugin-proposal-decorators', { legacy: true }],\n      ['@babel/plugin-proposal-class-properties', { loose: true }],\n      ['babel-plugin-styled-components', { displayName: true }],\n    ],\n    loaderOptions: {},\n    loaderOptions: (babelLoaderOptions, { env, paths }) => {\n      return babelLoaderOptions;\n    },\n  },\n};",lang:"js"}),r.a.createElement("h3",{id:"2\u68c0\u6d4b\u6a21\u5757\u7f16\u8bd1\u60c5\u51b5"},r.a.createElement(c["AnchorLink"],{to:"#2\u68c0\u6d4b\u6a21\u5757\u7f16\u8bd1\u60c5\u51b5","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u68c0\u6d4b\u6a21\u5757\u7f16\u8bd1\u60c5\u51b5"),r.a.createElement(l["a"],{code:"new WebpackBar({ profile: true }),\n  new CircularDependencyPlugin({\n    exclude: /node_modules/,\n    include: /src/,\n    failOnError: true,\n    allowAsyncCycles: false,\n    cwd: process.cwd(),\n  });",lang:"js"}),r.a.createElement("h3",{id:"3\u89c2\u5bdf\u6253\u5305\u8fdb\u5ea6"},r.a.createElement(c["AnchorLink"],{to:"#3\u89c2\u5bdf\u6253\u5305\u8fdb\u5ea6","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u89c2\u5bdf\u6253\u5305\u8fdb\u5ea6"),r.a.createElement(l["a"],{code:"const SimpleProgressWebpackPlugin = require('simple-progress-webpack-plugin')\nmodule export = {\n  webpack: {\n\n    plugins: [\n      // \u67e5\u770b\u6253\u5305\u7684\u8fdb\u5ea6\n      new SimpleProgressWebpackPlugin()\n    ]\n  }\n}",lang:"js"}),r.a.createElement("h3",{id:"4\u4fee\u6539\u6253\u5305\u8f93\u51fa\u76ee\u5f55"},r.a.createElement(c["AnchorLink"],{to:"#4\u4fee\u6539\u6253\u5305\u8f93\u51fa\u76ee\u5f55","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"4\uff09\u4fee\u6539\u6253\u5305\u8f93\u51fa\u76ee\u5f55"),r.a.createElement(l["a"],{code:"module.exports = {\n  webpack: {\n    configure: (webpackConfig, { env, paths }) => {\n      // paths.appPath='public'\n      paths.appBuild = 'dist';\n      webpackConfig.output = {\n        ...webpackConfig.output,\n        // ...{\n        //   filename: whenDev(() => 'static/js/bundle.js', 'static/js/[name].js'),\n        //   chunkFilename: 'static/js/[name].js'\n        // },\n        path: path.resolve(__dirname, 'dist'), // \u4fee\u6539\u8f93\u51fa\u6587\u4ef6\u76ee\u5f55\n        publicPath: '/',\n      };\n      return webpackConfig;\n    },\n  },\n};",lang:"js"}),r.a.createElement("h3",{id:"5\u70ed\u66f4\u65b0-hot-loader-\u6269\u5c55"},r.a.createElement(c["AnchorLink"],{to:"#5\u70ed\u66f4\u65b0-hot-loader-\u6269\u5c55","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"5\uff09\u70ed\u66f4\u65b0 Hot-loader \u6269\u5c55"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",null,"\u5e38\u7528\u7684\u70ed\u66f4\u65b0\u65b9\u6848 react-hot-loader")),r.a.createElement("li",null,r.a.createElement("p",null,"craco \u4e5f\u5e2e\u6211\u4eec\u63d0\u4f9b\u4e86\u4e24\u79cd craco-plugin-react-hot-reload\u3001craco-fast-refresh"))),r.a.createElement("p",null,r.a.createElement("strong",null,"1.react-hot-loader")),r.a.createElement(l["a"],{code:"// step1\uff1awebpack.config.js\u4e2d\u5f15\u5165\u522b\u540d\u914d\u7f6e\u89e3\u9664\u76f8\u5173\u8b66\u544a\n// yarn add @hot-loader/react-dom\nmodule.exports = {\n  // ...\n  resolve: {\n    alias: {\n      'react-dom': '@hot-loader/react-dom',\n    },\n  },\n};\nstep2\uff1a\u6ce8\u5165\u5f15\u7528App.js\nimport { hot } from 'react-hot-loader/root'\nfunction App {\n    return (\n    <div>ceshi</div>\n    )\n}\nexport default hot(App)",lang:"js"}),r.a.createElement("p",null,r.a.createElement("strong",null,"2.craco-plugin-react-hot-reload")),r.a.createElement(l["a"],{code:"/* craco.config.js */\nconst reactHotReloadPlugin = require('craco-plugin-react-hot-reload');\nconst reactHotReloadPlugin = require('craco-plugin-react-hot-reload');\nmodule.exports = {\n  plugins: [\n    {\n      plugin: reactHotReloadPlugin,\n    },\n  ],\n};",lang:"js"}),r.a.createElement("p",null,r.a.createElement("strong",null,"3.craco-fast-refresh")),r.a.createElement("ul",null,r.a.createElement("li",null,"\u76f8\u5bf9\u4e8e react-hot-loader \u597d\u7528\u5f97\u591a\uff0c\u96f6\u914d\u7f6e\uff0c\u4e0d\u9700\u8981\u4fee\u6539\u9879\u76ee\u4ee3\u7801")),r.a.createElement(l["a"],{code:"// step1\uff1a\u589e\u52a0\u63d2\u4ef6\n/* craco.config.js */\nconst FastRefreshCracoPlugin = require('craco-fast-refresh');\nmodule.exports = () => {\n  return {\n    plugins: [\n      {\n        plugin: FastRefreshCracoPlugin,\n      },\n    ],\n  };\n};\n// step2\uff1a \u6ce8\u5165\u5f15\u7528App.js\nimport React from 'react';\nimport { hot } from 'react-hot-loader';\nconst App = () => <div>Hello World!</div>;\n\nexport default hot(module)(App);",lang:"js"}),r.a.createElement("h2",{id:"6\u5b8c\u6574\u914d\u7f6e"},r.a.createElement(c["AnchorLink"],{to:"#6\u5b8c\u6574\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"6.\u5b8c\u6574\u914d\u7f6e"),r.a.createElement(l["a"],{code:"/* craco.config.js */\n/**\n * TODO: \u533a\u5206\u73af\u5883 \u2014\u2014 NODE_ENV\n * - whenDev \u261e process.env.NODE_ENV === 'development'\n * - whenTest \u261e process.env.NODE_ENV === 'test'\n * - whenProd \u261e process.env.NODE_ENV === 'production'\n */\nconst {\n  when, whenDev, whenProd, whenTest, ESLINT_MODES, POSTCSS_MODES\n} = require('@craco/craco')\nconst webpack = require('webpack')\nconst CracoLessPlugin = require('craco-less')\nconst CracoAntDesignPlugin = require('craco-antd')\nconst CracoVtkPlugin = require('craco-vtk')\nconst WebpackBar = require('webpackbar')\nconst CircularDependencyPlugin = require('circular-dependency-plugin')\nconst FastRefreshCracoPlugin = require('craco-fast-refresh')\nconst TerserPlugin = require('terser-webpack-plugin')\nconst AntdDayjsWebpackPlugin = require('antd-dayjs-webpack-plugin')\nconst {\n  BundleAnalyzerPlugin\n} = require('webpack-bundle-analyzer')\nconst CompressionWebpackPlugin = require('compression-webpack-plugin')\nconst DashboardPlugin = require('webpack-dashboard/plugin')\nconst SimpleProgressWebpackPlugin = require('simple-progress-webpack-plugin')\n\nconst path = require('path')\n\n// \u5224\u65ad\u7f16\u8bd1\u73af\u5883\u662f\u5426\u4e3a\u751f\u4ea7\nconst isBuildAnalyzer = process.env.BUILD_ANALYZER === 'true'\n\nconst pathResolve = pathUrl => path.join(__dirname, pathUrl)\n\nmodule.exports = {\n  webpack: {\n    // \u522b\u540d\u914d\u7f6e\n    alias: {\n      '@': pathResolve('.'),\n      src: pathResolve('src'),\n      assets: pathResolve('src/assets'),\n      common: pathResolve('src/common'),\n      components: pathResolve('src/components'),\n      hooks: pathResolve('src/hooks'),\n      pages: pathResolve('src/pages'),\n      store: pathResolve('src/store'),\n      utils: pathResolve('src/utils')\n        // \u6b64\u5904\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u5b9e\u9645\u53ef\u6839\u636e\u5404\u81ea\u9700\u6c42\u914d\u7f6e\n    },\n    plugins: [\n      // webpack\u6784\u5efa\u8fdb\u5ea6\u6761\n      new WebpackBar({\n        profile: true\n      }),\n      new webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/),\n      // \u67e5\u770b\u6253\u5305\u7684\u8fdb\u5ea6\n      new SimpleProgressWebpackPlugin(),\n      // \u65f6\u95f4\u8f6c\u6362\u5de5\u5177\u91c7\u53d6day\u66ff\u6362moment\n      new AntdDayjsWebpackPlugin(),\n      // // \u65b0\u589e\u6a21\u5757\u5faa\u73af\u4f9d\u8d56\u68c0\u6d4b\u63d2\u4ef6\n      ...whenDev(\n        () => [\n          new CircularDependencyPlugin({\n            exclude: /node_modules/,\n            include: /src/,\n            failOnError: true,\n            allowAsyncCycles: false,\n            cwd: process.cwd()\n          }),\n          // webpack-dev-server \u5f3a\u5316\u63d2\u4ef6\n          new DashboardPlugin(),\n          new webpack.HotModuleReplacementPlugin()\n        ], []\n      ),\n      /**\n       * \u7f16\u8bd1\u4ea7\u7269\u5206\u6790\n       *  - https://www.npmjs.com/package/webpack-bundle-analyzer\n       * \u65b0\u589e\u6253\u5305\u4ea7\u7269\u5206\u6790\u63d2\u4ef6\n       */\n      ...when(\n        isBuildAnalyzer, () => [\n          new BundleAnalyzerPlugin({\n            analyzerMode: 'static', // html \u6587\u4ef6\u65b9\u5f0f\u8f93\u51fa\u7f16\u8bd1\u5206\u6790\n            openAnalyzer: false,\n            reportFilename: path.resolve(__dirname, `analyzer/index.html`)\n          })\n        ], []\n      ),\n      ...whenProd(\n        () => [\n          // new TerserPlugin({\n          //   // sourceMap: true, // Must be set to true if using source-maps in production\n          //   terserOptions: {\n          //     ecma: undefined,\n          //     parse: {},\n          //     compress: {\n          //       warnings: false,\n          //       drop_console: true, // \u751f\u4ea7\u73af\u5883\u4e0b\u79fb\u9664\u63a7\u5236\u53f0\u6240\u6709\u7684\u5185\u5bb9\n          //       drop_debugger: true, // \u79fb\u9664\u65ad\u70b9\n          //       pure_funcs: ['console.log'] // \u751f\u4ea7\u73af\u5883\u4e0b\u79fb\u9664console\n          //     }\n          //   }\n          // }),\n          // \u6253\u538b\u7f29\u5305\n          new CompressionWebpackPlugin({\n            algorithm: 'gzip',\n            test: new RegExp('\\\\.(' + ['js', 'css'].join('|') + ')/div>),\n            threshold: 1024,\n            minRatio: 0.8\n          })\n        ], []\n      )\n    ],\n    //\u62bd\u79bb\u516c\u7528\u6a21\u5757\n    optimization: {\n      splitChunks: {\n        cacheGroups: {\n          commons: {\n            chunks: 'initial',\n            minChunks: 2,\n            maxInitialRequests: 5,\n            minSize: 0\n          },\n          vendor: {\n            test: /node_modules/,\n            chunks: 'initial',\n            name: 'vendor',\n            priority: 10,\n            enforce: true\n          }\n        }\n      }\n    },\n    /**\n     * \u91cd\u5199 webpack \u4efb\u610f\u914d\u7f6e\n     *  - configure \u80fd\u591f\u91cd\u5199 webpack \u76f8\u5173\u7684\u6240\u6709\u914d\u7f6e\uff0c\u4f46\u662f\uff0c\u4ecd\u7136\u63a8\u8350\u4f60\u4f18\u5148\u9605\u8bfb craco \u63d0\u4f9b\u7684\u5feb\u6377\u914d\u7f6e\uff0c\u628a\u89e3\u51b3\u4e0d\u4e86\u7684\u914d\u7f6e\u653e\u5230 configure \u91cc\u89e3\u51b3\uff1b\n     *  - \u8fd9\u91cc\u9009\u62e9\u914d\u7f6e\u4e3a\u51fd\u6570\uff0c\u4e0e\u76f4\u63a5\u5b9a\u4e49 configure \u5bf9\u8c61\u65b9\u5f0f\u4e92\u65a5\uff1b\n     */\n    configure: (webpackConfig, {\n      env, paths\n    }) => {\n      // paths.appPath='public'\n      paths.appBuild = 'dist' // \u914d\u5408\u8f93\u51fa\u6253\u5305\u4fee\u6539\u6587\u4ef6\u76ee\u5f55\n        // webpackConfig\u4e2d\u53ef\u4ee5\u89e3\u6784\u51fa\u4f60\u60f3\u8981\u7684\u53c2\u6570\u6bd4\u5982mode\u3001devtool\u3001entry\u7b49\u7b49\uff0c\u66f4\u591a\u4fe1\u606f\u8bf7\u67e5\u770bwebpackConfig.json\u6587\u4ef6\n        /**\n         * \u4fee\u6539 output\n         */\n      webpackConfig.output = {\n          ...webpackConfig.output,\n            // ...{\n            //   filename: whenDev(() => 'static/js/bundle.js', 'static/js/[name].js'),\n            //   chunkFilename: 'static/js/[name].js'\n            // },\n            path: path.resolve(__dirname, 'dist'), // \u4fee\u6539\u8f93\u51fa\u6587\u4ef6\u76ee\u5f55\n            publicPath: '/'\n        }\n        /**\n         * webpack split chunks\n         */\n        // webpackConfig.optimization.splitChunks = {\n        //   ...webpackConfig.optimization.splitChunks,\n        //   ...{\n        //     chunks: 'all',\n        //     name: true\n        //   }\n        // }\n        // \u8fd4\u56de\u91cd\u5199\u540e\u7684\u65b0\u914d\u7f6e\n      return webpackConfig\n    }\n  },\n  babel: {\n    presets: [],\n    plugins: [\n      // AntDesign \u6309\u9700\u52a0\u8f7d\n      ['import', {\n        libraryName: 'antd',\n        libraryDirectory: 'es',\n        style: true\n      }, 'antd'],\n      ['@babel/plugin-proposal-decorators', {\n        legacy: true\n      }] // \u7528\u6765\u652f\u6301\u88c5\u9970\u5668\n    ],\n    loaderOptions: {},\n    loaderOptions: (babelLoaderOptions, {\n      env, paths\n    }) => {\n      return babelLoaderOptions\n    }\n  },\n  /**\n   * \u65b0\u589e craco \u63d0\u4f9b\u7684 plugin\n   */\n  plugins: [\n    // \u70ed\u66f4\u65b0\n    ...whenDev(\n      () => [{\n        plugin: FastRefreshCracoPlugin\n      }, {\n        plugin: CracoVtkPlugin()\n      }, {\n        plugin: new AntdDayjsWebpackPlugin()\n      }], []\n    ),\n    // \u65b9\u68481\u3001\u914d\u7f6eAntd\u4e3b\u9898less\n    // {\n    //   plugin: CracoLessPlugin,\n    //   options: {\n    //     lessLoaderOptions: {\n    //       lessOptions: {\n    //         modifyVars: { '@primary-color': '#1DA57A' },\n    //         javascriptEnabled: true\n    //       }\n    //     }\n    //   }\n    // },\n    // \u65b9\u68482\u3001\u914d\u7f6eAntd\u4e3b\u9898\n    // {\n    //   plugin: CracoAntDesignPlugin,\n    //   options: {\n    //     customizeTheme: {\n    //       '@primary-color': '#FF061C'\n    //     }\n    //   }\n    // },\n    // \u65b9\u68483\u3001\u914d\u7f6eAntd\u4e3b\u9898\n    {\n      plugin: CracoAntDesignPlugin,\n      options: {\n        customizeThemeLessPath: path.join(\n          __dirname,\n          \"antd.customize.less\"\n        ),\n      },\n    },\n  ],\n  devServer: {\n    port: 9000,\n    proxy: {\n      '/api': {\n        target: 'https://placeholder.com/',\n        changeOrigin: true,\n        secure: false,\n        xfwd: false,\n      }\n    }\n  }\n}",lang:"js"}))))}}]);