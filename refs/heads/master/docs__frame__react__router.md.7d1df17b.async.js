(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[200],{"0g8/":function(e,t,n){"use strict";n.r(t);var l=n("q1tI"),a=n.n(l),r=n("dEAq"),c=n("H1Ra");n("JjdP");t["default"]=e=>(a.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"react-router"},a.a.createElement(r["AnchorLink"],{to:"#react-router","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"react-router"),a.a.createElement("h2",{id:"1\u5355\u9875\u9762\u5e94\u7528"},a.a.createElement(r["AnchorLink"],{to:"#1\u5355\u9875\u9762\u5e94\u7528","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1.\u5355\u9875\u9762\u5e94\u7528"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5355\u9875\u9762\u5e94\u7528\u662f\u4f7f\u7528\u4e00\u4e2a html \u524d\u63d0\u4e0b\uff0c\u4e00\u6b21\u6027\u52a0\u8f7d js \uff0c css \u7b49\u8d44\u6e90\uff0c\u6240\u6709\u9875\u9762\u90fd\u5728\u4e00\u4e2a\u5bb9\u5668\u9875\u9762\u4e0b\uff0c\u9875\u9762\u5207\u6362",a.a.createElement("code",null,"\u5b9e\u8d28"),"\u662f",a.a.createElement("code",null,"\u7ec4\u4ef6\u7684\u5207\u6362"))),a.a.createElement("h2",{id:"2history-react-router--react-router-dom-\u4e09\u8005\u5173\u7cfb"},a.a.createElement(r["AnchorLink"],{to:"#2history-react-router--react-router-dom-\u4e09\u8005\u5173\u7cfb","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2.history ,React-router , React-router-dom \u4e09\u8005\u5173\u7cfb"),a.a.createElement("p",null,a.a.createElement("img",{src:n("kudJ"),alt:"image"})),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"history\uff1a")," history \u662f\u6574\u4e2a React-router \u7684\u6838\u5fc3\uff0c\u91cc\u9762\u5305\u62ec\u4e24\u79cd\u8def\u7531\u6a21\u5f0f\u4e0b\u6539\u53d8\u8def\u7531\u7684\u65b9\u6cd5\uff0c\u548c\u76d1\u542c\u8def\u7531\u53d8\u5316\u65b9\u6cd5\u7b49"),a.a.createElement("li",null,a.a.createElement("code",null,"react-router"),"\uff1aReact-router \u5728 history \u6838\u5fc3\u57fa\u7840\u4e0a\uff0c\u589e\u52a0\u4e86 ",a.a.createElement("code",null,"Router")," \u3001",a.a.createElement("code",null,"Switch")," \u3001",a.a.createElement("code",null,"Route")," \u7b49\u7ec4\u4ef6\u6765\u5904\u7406\u89c6\u56fe\u6e32\u67d3"),a.a.createElement("li",null,a.a.createElement("code",null,"react-router-dom"),"\uff1a \u5728 react-router \u57fa\u7840\u4e0a\uff0c\u589e\u52a0\u4e86\u4e00\u4e9b UI \u5c42\u9762\u7684\u62d3\u5c55\u6bd4\u5982 ",a.a.createElement("code",null,"Link")," \u3001",a.a.createElement("code",null,"NavLink")," \u4ee5\u53ca\u4e24\u79cd\u6a21\u5f0f\u7684\u6839\u90e8\u8def\u7531 ",a.a.createElement("code",null,"BrowserRouter")," \u3001",a.a.createElement("code",null,"HashRouter"))),a.a.createElement("h2",{id:"3\u4e24\u79cd\u8def\u7531\u4e3b\u8981\u65b9\u5f0f"},a.a.createElement(r["AnchorLink"],{to:"#3\u4e24\u79cd\u8def\u7531\u4e3b\u8981\u65b9\u5f0f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3.\u4e24\u79cd\u8def\u7531\u4e3b\u8981\u65b9\u5f0f"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"history")," \u6a21\u5f0f\uff1a",a.a.createElement(r["Link"],{to:"http://www.xxx.com/home"},"http://www.xxx.com/home")),a.a.createElement(c["a"],{code:"import { BrowserRouter as Router } from 'react-router-dom';\nfunction Index() {\n  return <Router>{/* ...\u5f00\u542fhistory\u6a21\u5f0f */}</Router>;\n}",lang:"js"})),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"hash")," \u6a21\u5f0f\uff1a ",a.a.createElement(r["Link"],{to:"http://www.xxx.com/#/home"},"http://www.xxx.com/#/home")),a.a.createElement(c["a"],{code:"import { HashRouter as Router } from 'react-router-dom';\nfunction Index() {\n  return <Router>{/* ...\u5f00\u542fhash\u6a21\u5f0f */}</Router>;\n}",lang:"js"})),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"\u975e\u6d4f\u89c8\u5668\u6a21\u5f0f"),"\uff1a\u5728\u975e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u4f7f\u7528\u62bd\u8c61\u8def\u7531\u5b9e\u73b0\u5bfc\u822a\u7684\u8bb0\u5f55\u529f\u80fd"),a.a.createElement("ul",null,a.a.createElement("li",null,"react-router \u7684 ",a.a.createElement("code",null,"memoryHistory")),a.a.createElement("li",null,"vue-router \u7684 abstract \u5c01\u88c5")))),a.a.createElement("h2",{id:"4browserrouter--hashrouter-\u539f\u7406"},a.a.createElement(r["AnchorLink"],{to:"#4browserrouter--hashrouter-\u539f\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4.BrowserRouter / HashRouter \u539f\u7406"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"React-Router-dom \u6839\u636e history \u63d0\u4f9b\u7684 createBrowserHistory \u6216\u8005 createHashHistory ",a.a.createElement("code",null,"\u521b\u5efa"),"\u51fa\u4e0d\u540c\u7684 ",a.a.createElement("code",null,"history \u5bf9\u8c61")),a.a.createElement(c["a"],{code:"import { createBrowserHistory as createHistory } from 'history';\nclass BrowserRouter extends React.Component {\n  history = createHistory(this.props);\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}",lang:"js"})),a.a.createElement("li",null,a.a.createElement("p",null,"\u901a\u8fc7 createBrowserHistory \u521b\u5efa\u4e00\u4e2a history \u5bf9\u8c61\uff0c\u5e76",a.a.createElement("code",null,"\u4f20\u9012\u7ed9 Router")," \u7ec4\u4ef6"))),a.a.createElement("h2",{id:"5browserhistory-\u8def\u7531\u539f\u7406"},a.a.createElement(r["AnchorLink"],{to:"#5browserhistory-\u8def\u7531\u539f\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5.BrowserHistory \u8def\u7531\u539f\u7406"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u7279\u70b9"),a.a.createElement("ul",null,a.a.createElement("li",null,"url ",a.a.createElement("code",null,"\u65e0#"),"\uff0c\u7f8e\u89c2\uff0c\u670d\u52a1\u5668\u53ef\u63a5\u6536\u5230\u8def\u5f84\u548c\u53c2\u6570\u53d8\u5316\uff0c",a.a.createElement("code",null,"\u9700\u670d\u52a1\u5668\u9002\u914d")),a.a.createElement("li",null,"\u57fa\u4e8e",a.a.createElement("code",null,"\u6d4f\u89c8\u5668"),"\u7684 ",a.a.createElement("code",null,"history")," \u5bf9\u8c61\u5b9e\u73b0\uff0c\u4e3b\u8981\u4e3a history.",a.a.createElement("code",null,"pushState")," \u548c history.",a.a.createElement("code",null,"replaceState")," \u6765\u8fdb\u884c\u8def\u7531\u63a7\u5236\u3002\u901a\u8fc7\u8fd9\u4e24\u4e2a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5b9e\u73b0\u6539\u53d8 url \u4e14",a.a.createElement("code",null,"\u4e0d\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42")))),a.a.createElement("li",null,a.a.createElement("p",null,"\u4fee\u6539"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u70b9\u51fb\u540e\u9000/\u524d\u8fdb\u89e6\u53d1 popstate \u4e8b\u4ef6\uff0c\u76d1\u542c\u8fdb\u884c\u9875\u9762\u66f4\u65b0"),a.a.createElement("li",null,"\u8c03\u7528 history.pushState \u6216 history.replaceState \u89e6\u53d1\u76f8\u5e94\u7684\u51fd\u6570\u540e\uff0c\u5728\u540e\u9762\u624b\u52a8\u6dfb\u52a0\u56de\u8c03\u66f4\u65b0\u9875\u9762")))),a.a.createElement("h3",{id:"1\u6539\u53d8\u8def\u7531"},a.a.createElement(r["AnchorLink"],{to:"#1\u6539\u53d8\u8def\u7531","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u6539\u53d8\u8def\u7531"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u901a\u8fc7\u8c03\u7528 api \u5b9e\u73b0\u7684\u8def\u7531\u8df3\u8f6c")),a.a.createElement("li",null,a.a.createElement("p",null,"React \u4e2d\u8c03\u7528 history.push \u6539\u53d8\u8def\u7531\uff0c",a.a.createElement("code",null,"\u672c\u8d28"),"\u4e0a\u662f\u8c03\u7528 ",a.a.createElement("code",null,"window"),".history.pushState \u65b9\u6cd5"))),a.a.createElement("p",null,a.a.createElement("strong",null,"1.history.pushState(state, title, path)")),a.a.createElement("ul",null,a.a.createElement("li",null,"1.",a.a.createElement("code",null,"state"),"\uff1a\u4e00\u4e2a\u4e0e\u6307\u5b9a\u7f51\u5740\u76f8\u5173\u7684\u72b6\u6001\u5bf9\u8c61\uff0c popstate \u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u8be5\u5bf9\u8c61\u4f1a\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002\u5982\u679c\u4e0d\u9700\u8981\u53ef\u586b null"),a.a.createElement("li",null,"2.",a.a.createElement("code",null,"title"),"\uff1a\u65b0\u9875\u9762\u7684\u6807\u9898\uff0c\u4f46\u662f\u6240\u6709\u6d4f\u89c8\u5668\u76ee\u524d\u90fd\u5ffd\u7565\u8fd9\u4e2a\u503c\uff0c\u53ef\u586b null"),a.a.createElement("li",null,"3.",a.a.createElement("code",null,"path"),"\uff1a\u65b0\u7684\u7f51\u5740\uff0c\u5fc5\u987b\u4e0e\u5f53\u524d\u9875\u9762\u5904\u5728\u540c\u4e00\u4e2a\u57df\u3002\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u5c06\u663e\u793a\u8fd9\u4e2a\u5730\u5740")),a.a.createElement("p",null,a.a.createElement("strong",null,"2.history.replaceState(state, title, path)")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8fd9\u4e2a\u65b9\u6cd5\u4f1a",a.a.createElement("code",null,"\u4fee\u6539"),"\u5f53\u524d\u7684 history \u5bf9\u8c61\u8bb0\u5f55\uff0c \u4f46\u662f history.length \u7684",a.a.createElement("code",null,"\u957f\u5ea6\u4e0d\u4f1a\u6539\u53d8"))),a.a.createElement("h3",{id:"2\u76d1\u542c\u8def\u7531-popstate"},a.a.createElement(r["AnchorLink"],{to:"#2\u76d1\u542c\u8def\u7531-popstate","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u76d1\u542c\u8def\u7531 popstate"),a.a.createElement(c["a"],{code:"window.addEventListener('popstate', function (e) {\n  /* \u76d1\u542c\u6539\u53d8 */\n});",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u540c\u4e00\u4e2a\u6587\u6863\u7684 history \u5bf9\u8c61\u51fa\u73b0\u53d8\u5316\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6"),a.a.createElement("li",null,"history.pushState \u53ef\u4ee5\u4f7f\u6d4f\u89c8\u5668\u5730\u5740\u6539\u53d8\uff0c\u4f46\u662f\u65e0\u9700\u5237\u65b0\u9875\u9762"),a.a.createElement("li",null,"\u6ce8\u610f\uff1a\u7528 history.pushState() \u6216\u8005 history.replaceState() \u4e0d\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6"),a.a.createElement("li",null,"popstate \u4e8b\u4ef6\u53ea\u4f1a\u5728\u6d4f\u89c8\u5668\u67d0\u4e9b\u884c\u4e3a\u4e0b\u89e6\u53d1, \u6bd4\u5982\u70b9\u51fb\u540e\u9000\u3001\u524d\u8fdb\u6309\u94ae\u6216\u8005\u8c03\u7528 history.back()\u3001history.forward()\u3001history.go()\u65b9\u6cd5")),a.a.createElement("h3",{id:"3\u603b\u7ed3"},a.a.createElement(r["AnchorLink"],{to:"#3\u603b\u7ed3","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u603b\u7ed3"),a.a.createElement("ul",null,a.a.createElement("li",null,"BrowserHistory \u6a21\u5f0f\u4e0b\u7684 history \u5e93\u5c31\u662f\u57fa\u4e8e\u4e0a\u9762\u6539\u53d8\u8def\u7531\uff0c",a.a.createElement("code",null,"\u76d1\u542c\u8def\u7531\u7684\u65b9\u6cd5\u8fdb\u884c\u5c01\u88c5\u5904\u7406\uff0c\u6700\u540e\u5f62\u6210 history \u5bf9\u8c61\uff0c\u5e76\u4f20\u9012\u7ed9 Router"))),a.a.createElement("h2",{id:"6hashhistory-\u8def\u7531\u539f\u7406"},a.a.createElement(r["AnchorLink"],{to:"#6hashhistory-\u8def\u7531\u539f\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"6.HashHistory \u8def\u7531\u539f\u7406"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u54c8\u5e0c\u8def\u7531\u539f\u7406\u548c history \u76f8\u4f3c")),a.a.createElement("li",null,a.a.createElement("p",null,"\u7279\u70b9\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,"url \u4e2d\u5e26\u6709\u4e00\u4e2a",a.a.createElement("code",null,"#"),"\u7b26\u53f7\uff0c\u4f46\u662f#\u53ea\u662f\u6d4f\u89c8\u5668\u7aef/\u5ba2\u6237\u7aef\u7684\u72b6\u6001\uff0c",a.a.createElement("code",null,"\u4e0d\u4f1a\u4f20\u9012\u7ed9\u670d\u52a1\u7aef")),a.a.createElement("li",null,a.a.createElement("code",null,"hash \u503c\u7684\u66f4\u6539\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u9875\u9762\u7684\u5237\u65b0")),a.a.createElement("li",null,"hash \u503c\u7684\u66f4\u6539\uff0c\u4f1a\u5728\u6d4f\u89c8\u5668\u7684\u8bbf\u95ee",a.a.createElement("code",null,"\u5386\u53f2\u4e2d\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55"),"\u3002\u6240\u4ee5\u6211\u4eec\u624d\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u7684",a.a.createElement("code",null,"\u8fd4\u56de\u3001\u524d\u8fdb\u6309\u94ae\u6765\u63a7\u5236 hash \u7684\u5207\u6362"))))),a.a.createElement("h3",{id:"1\u6539\u53d8\u8def\u7531-windowlocationhash"},a.a.createElement(r["AnchorLink"],{to:"#1\u6539\u53d8\u8def\u7531-windowlocationhash","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u6539\u53d8\u8def\u7531 window.location.hash"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u901a\u8fc7 window.location.hash \u5c5e\u6027\u83b7\u53d6\u548c\u8bbe\u7f6e hash \u503c: location.hash='#aaa'"),a.a.createElement("li",null,"\u5207\u6362\u8def\u7531\uff0c\u672c\u8d28\u4e0a\u662f\u6539\u53d8 window.location.hash")),a.a.createElement("h3",{id:"2\u76d1\u542c\u8def\u7531-onhashchange"},a.a.createElement(r["AnchorLink"],{to:"#2\u76d1\u542c\u8def\u7531-onhashchange","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u76d1\u542c\u8def\u7531 onhashchange"),a.a.createElement(c["a"],{code:"window.addEventListener('hashchange', function (e) {\n  /* \u76d1\u542c\u6539\u53d8 */\n});",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"hash \u8def\u7531\u6a21\u5f0f\u4e0b\uff0c\u76d1\u542c\u8def\u7531\u53d8\u5316\u7528\u7684\u662f ",a.a.createElement("code",null,"hashchange"))),a.a.createElement("h2",{id:"7historylocationmatch"},a.a.createElement(r["AnchorLink"],{to:"#7historylocationmatch","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"7.history\u3001location\u3001match"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"history")," \u5bf9\u8c61\uff1ahistory \u5bf9\u8c61\u4fdd\u5b58\u6539\u53d8\u8def\u7531\u65b9\u6cd5 ",a.a.createElement("code",null,"push")," \uff0c",a.a.createElement("code",null,"replace"),"\uff0c\u548c\u76d1\u542c\u8def\u7531\u65b9\u6cd5 ",a.a.createElement("code",null,"listen")," \u7b49"),a.a.createElement("li",null,a.a.createElement("code",null,"location")," \u5bf9\u8c61\uff1a\u53ef\u4ee5\u7406\u89e3\u4e3a\u5f53\u524d\u72b6\u6001\u4e0b\u7684\u8def\u7531\u4fe1\u606f\uff0c\u5305\u62ec ",a.a.createElement("code",null,"pathname")," \uff0c",a.a.createElement("code",null,"state")," \u7b49"),a.a.createElement("li",null,a.a.createElement("code",null,"match")," \u5bf9\u8c61\uff1a\u8fd9\u4e2a\u7528\u6765\u8bc1\u660e\u5f53\u524d\u8def\u7531\u7684\u5339\u914d\u4fe1\u606f\u7684\u5bf9\u8c61\u3002\u5b58\u653e\u5f53\u524d\u8def\u7531 path \u7b49\u4fe1\u606f")),a.a.createElement("h2",{id:"8\u8def\u7531\u7ec4\u4ef6"},a.a.createElement(r["AnchorLink"],{to:"#8\u8def\u7531\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"8.\u8def\u7531\u7ec4\u4ef6"),a.a.createElement("h3",{id:"1router"},a.a.createElement(r["AnchorLink"],{to:"#1router","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09Router"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"Router \u662f\u6574\u4e2a\u5e94\u7528\u8def\u7531\u7684",a.a.createElement("code",null,"\u4f20\u9012\u8005"),"\u548c",a.a.createElement("code",null,"\u6d3e\u53d1\u66f4\u65b0\u8005"))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"BrowserRouter")," \u6216 ",a.a.createElement("code",null,"HashRouter")," \u662f",a.a.createElement("code",null,"\u4e0d\u540c\u6a21\u5f0f"),"\u4e0b\u5411\u5bb9\u5668 Router \u4e2d",a.a.createElement("code",null,"\u6ce8\u5165\u4e0d\u540c"),"\u7684 ",a.a.createElement("code",null,"history \u5bf9\u8c61")))),a.a.createElement("p",null,a.a.createElement("img",{src:n("5yDY"),alt:"image"})),a.a.createElement(c["a"],{code:"class Router extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.history.location,\n    };\n    this.unlisten = props.history.listen((location) => {\n      /* \u5f53\u8def\u7531\u53d1\u751f\u53d8\u5316\uff0c\u6d3e\u53d1\u66f4\u65b0 */\n      this.setState({ location });\n    });\n  }\n  /* .... */\n  componentWillUnmount() {\n    if (this.unlisten) this.unlisten();\n  }\n  render() {\n    return (\n      <RouterContext.Provider\n        children={this.props.children || null}\n        value={{\n          history: this.props.history,\n          location: this.state.location,\n          match: Router.computeRootMatch(this.state.location.pathname),\n          staticContext: this.props.staticContext,\n        }}\n      />\n    );\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u9996\u5148 React-Router \u662f\u901a\u8fc7 ",a.a.createElement("code",null,"context")," \u4e0a\u4e0b\u6587\u65b9\u5f0f\u4f20\u9012\u7684\u8def\u7531\u4fe1\u606f\u3002context \u6539\u53d8\uff0c\u4f1a\u4f7f\u6d88\u8d39 context \u7ec4\u4ef6\u66f4\u65b0\uff0c\u5f53\u5f00\u53d1\u8005\u89e6\u53d1\u8def\u7531\u6539\u53d8\uff0c\u80fd\u591f\u91cd\u65b0\u6e32\u67d3\u5339\u914d\u7ec4\u4ef6"),a.a.createElement("li",null,a.a.createElement("code",null,"props.history")," \u662f\u901a\u8fc7 BrowserRouter \u6216 HashRouter \u521b\u5efa\u7684 history \u5bf9\u8c61\uff0c\u5e76\u4f20\u9012\u8fc7\u6765\u7684\uff0c\u5f53",a.a.createElement("code",null,"\u8def\u7531\u6539\u53d8"),"\uff0c\u4f1a\u89e6\u53d1 ",a.a.createElement("code",null,"listen")," \u65b9\u6cd5\uff0c\u4f20\u9012\u65b0\u751f\u6210\u7684 location \uff0c\u7136\u540e\u901a\u8fc7 setState \u6765\u6539\u53d8 context \u4e2d\u7684 value \uff0c\u6240\u4ee5\u6539\u53d8\u8def\u7531\uff0c",a.a.createElement("code",null,"\u672c\u8d28"),"\u4e0a\u662f ",a.a.createElement("code",null,"location \u6539\u53d8\u5e26\u6765\u7684\u66f4\u65b0\u4f5c\u7528"))),a.a.createElement("h3",{id:"2route"},a.a.createElement(r["AnchorLink"],{to:"#2route","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09Route"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"Route \u662f\u6574\u4e2a\u8def\u7531\u6838\u5fc3\u90e8\u5206: ",a.a.createElement("code",null,"\u5339\u914d\u8def\u7531"),"\uff0c",a.a.createElement("code",null,"\u8def\u7531\u5339\u914d"),"\uff0c",a.a.createElement("code",null,"\u6e32\u67d3\u7ec4\u4ef6"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u6574\u4e2a\u8def\u7531\u72b6\u6001\u662f\u7528 ",a.a.createElement("code",null,"context")," \u4f20\u9012\u7684\uff0c\u901a\u8fc7 RouterContext.",a.a.createElement("code",null,"Consumer")," \u6765\u83b7\u53d6\u4e0a\u4e00\u7ea7\u4f20\u9012\u6765\u7684\u8def\u7531\u8fdb\u884c\u8def\u7531\u5339\u914d"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5982\u679c",a.a.createElement("code",null,"\u5339\u914d"),"\uff0c",a.a.createElement("code",null,"\u6e32\u67d3"),"\u5b50\u4ee3\u8def\u7531"),a.a.createElement("li",null,"\u5229\u7528 context \u9010\u5c42\u4f20\u9012\u7684\u7279\u70b9\uff0c\u5c06\u81ea\u5df1\u7684\u8def\u7531\u4fe1\u606f\uff0c\u5411\u5b50\u4ee3\u8def\u7531\u4f20\u9012\u4e0b\u53bb,\u5b9e\u73b0\u4e86\u5d4c\u5957\u8def\u7531"))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"path")," \u5c5e\u6027\uff1aRoute \u63a5\u53d7 path \u5c5e\u6027\uff0c\u7528\u4e8e\u5339\u914d\u6b63\u786e\u7684\u7406\u7531\uff0c\u6e32\u67d3\u7ec4\u4ef6"))),a.a.createElement("p",null,a.a.createElement("strong",null,"\u56db\u79cd Route \u7f16\u5199\u683c\u5f0f:")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"Component \u5f62\u5f0f"),"\uff1a\u5c06\u7ec4\u4ef6\u76f4\u63a5\u4f20\u9012\u7ed9 Route \u7684 component \u5c5e\u6027\uff0cRoute \u53ef\u4ee5\u5c06\u8def\u7531\u4fe1\u606f\u9690\u5f0f\u6ce8\u5165\u5230\u9875\u9762\u7ec4\u4ef6\u7684 props \u4e2d\uff0c\u4f46\u662f\u65e0\u6cd5\u4f20\u9012\u7236\u7ec4\u4ef6\u4e2d\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u5982\u4e0a mes"),a.a.createElement("li",null,a.a.createElement("code",null,"render \u5f62\u5f0f"),"\uff1aRoute \u7ec4\u4ef6\u7684 render \u5c5e\u6027\uff0c\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6e32\u67d3\u51fd\u6570\uff0c\u51fd\u6570\u53c2\u6570\u5c31\u662f\u8def\u7531\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f20\u9012\u7ed9\u9875\u9762\u7ec4\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u6df7\u5165\u7236\u7ec4\u4ef6\u4fe1\u606f"),a.a.createElement("li",null,a.a.createElement("code",null,"children \u5f62\u5f0f"),"\uff1a\u76f4\u63a5\u4f5c\u4e3a children \u5c5e\u6027\u6765\u6e32\u67d3\u5b50\u7ec4\u4ef6\uff0c\u4f46\u662f\u8fd9\u6837\u65e0\u6cd5\u76f4\u63a5\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u8def\u7531\u4fe1\u606f\uff0c\u4f46\u662f\u53ef\u4ee5\u6df7\u5165\u7236\u7ec4\u4ef6\u4fe1\u606f"),a.a.createElement("li",null,a.a.createElement("code",null,"renderProps \u5f62\u5f0f"),"\uff1a\u53ef\u4ee5\u5c06 childen \u4f5c\u4e3a\u6e32\u67d3\u51fd\u6570\u6267\u884c\uff0c\u53ef\u4ee5\u4f20\u9012\u8def\u7531\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u4f20\u9012\u7236\u7ec4\u4ef6\u4fe1\u606f")),a.a.createElement(c["a"],{code:"function Index() {\n  const mes = { name: 'alien', say: 'let us learn React!' };\n  return (\n    <div>\n      <Switch>\n        {/* 1.Route Component\u5f62\u5f0f */}\n        <Route path=\"/router/component\" component={RouteComponent} />\n\n        {/* 2.Render\u5f62\u5f0f */}\n        <Route\n          path=\"/router/render\"\n          render={(props) => <RouterRender {...props} />}\n          {...mes}\n        />\n\n        {/* 3.chilren\u5f62\u5f0f */}\n        <Route path=\"/router/children\">\n          {' '}\n          <RouterChildren {...mes} />\n        </Route>\n\n        {/* 4.renderProps\u5f62\u5f0f */}\n        <Route path=\"/router/renderProps\">\n          {(props) => <RouterRenderProps {...props} {...mes} />}{' '}\n        </Route>\n      </Switch>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("h3",{id:"3exact"},a.a.createElement(r["AnchorLink"],{to:"#3exact","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09exact"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"route")," \u8fdb\u884c",a.a.createElement("code",null,"\u7cbe\u786e\u5339\u914d"))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"pathname")," \u5fc5\u987b",a.a.createElement("code",null,"\u548c")," Route \u7684 ",a.a.createElement("code",null,"path \u5b8c\u5168\u5339\u914d"),"\uff0c\u624d\u80fd\u5c55\u793a\u8be5\u8def\u7531\u4fe1\u606f"),a.a.createElement(c["a"],{code:'<Route path="/router/component" exact component={RouteComponent} />',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u8868\u793a\u8be5\u8def\u7531\u9875\u9762\u53ea\u6709 ",a.a.createElement("code",null,"/router/component")," \u8fd9\u4e2a\u683c\u5f0f",a.a.createElement("code",null,"\u624d\u80fd\u6e32\u67d3"),"\uff0c\u5982\u679c ",a.a.createElement("code",null,"/router/component/a")," \u90a3\u4e48\u4f1a\u88ab\u5224\u5b9a\u4e0d\u5339\u914d\uff0c\u4ece\u800c\u5bfc\u81f4",a.a.createElement("code",null,"\u6e32\u67d3\u5931\u8d25"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u53ea\u8981\u5f53\u524d\u8def\u7531\u4e0b\u6709",a.a.createElement("code",null,"\u5d4c\u5957\u5b50\u8def\u7531"),"\uff0c\u5c31",a.a.createElement("code",null,"\u4e0d\u8981"),"\u52a0 ",a.a.createElement("code",null,"exact"))))),a.a.createElement("li",null,a.a.createElement("p",null,"\u4f18\u96c5\u5199\u6cd5(\u914d\u7f6e\u5f62\u5f0f):"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"react-router-config")," \u5e93\u4e2d\u63d0\u4f9b\u7684 ",a.a.createElement("code",null,"renderRoutes")," \uff0c\u66f4\u4f18\u96c5\u7684\u6e32\u67d3 Route")))),a.a.createElement(c["a"],{code:"import { renderRoutes } from 'react-router-config';\n\nconst RouteList = [\n  {\n    name: '\u9996\u9875',\n    path: '/router/home',\n    exact: true,\n    component: Home,\n  },\n  {\n    name: '\u5217\u8868\u9875',\n    path: '/router/list',\n    render: () => <List />,\n  },\n  {\n    name: '\u8be6\u60c5\u9875',\n    path: '/router/detail',\n    component: detail,\n  },\n];\nfunction Index() {\n  return <div>{renderRoutes(RouteList)}</div>;\n}",lang:"js"}),a.a.createElement("h3",{id:"4switch"},a.a.createElement(r["AnchorLink"],{to:"#4switch","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09Switch"),a.a.createElement(c["a"],{code:'<div>\n  <Route path="/home" component={Home} />\n  <Route path="/list" component={List} />\n  <Route path="/my" component={My} />\n</div>',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u5982\u679c\u5728\u9875\u9762\u4e2d\u8fd9\u4e48\u5199\uff0c\u4e09\u4e2a\u8def\u7531",a.a.createElement("code",null,"\u90fd\u4f1a\u88ab\u6302\u8f7d"),"\uff0c\u4f46\u662f\u6bcf\u4e2a\u9875\u9762\u8def\u7531\u5c55\u793a\u4e0e\u5426\uff0c\u662f\u901a\u8fc7 Route \u5185\u90e8 ",a.a.createElement("code",null,"location")," \u4fe1\u606f\u5339\u914d\u7684(\u6027\u80fd\u6d6a\u8d39)")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"Switch")," \u4f5c\u7528\u662f\u5148\u901a\u8fc7\u5339\u914d",a.a.createElement("code",null,"\u9009\u51fa\u4e00\u4e2a"),"\u6b63\u786e\u8def\u7531 ",a.a.createElement("code",null,"Route")," \u8fdb\u884c",a.a.createElement("code",null,"\u6e32\u67d3"))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"Switch")," \u4f5c\u7528\u5c31\u662f",a.a.createElement("code",null,"\u5339\u914d\u552f\u4e00\u6b63\u786e\u7684\u8def\u7531\u5e76\u6e32\u67d3")))),a.a.createElement(c["a"],{code:'<Switch>\n  <Route path="/home" component={Home} />\n  <Route path="/list" component={List} />\n  <Route path="/my" component={My} />\n</Switch>',lang:"js"}),a.a.createElement("h3",{id:"5redirect"},a.a.createElement(r["AnchorLink"],{to:"#5redirect","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5\uff09Redirect"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"\u91cd\u5b9a\u5411"),"\u7ec4\u4ef6\uff0c",a.a.createElement("code",null,"Redirect")," \u53ef\u4ee5\u5728",a.a.createElement("code",null,"\u8def\u7531\u4e0d\u5339\u914d\u60c5\u51b5"),"\u4e0b\u8df3\u8f6c\u6307\u5b9a\u67d0\u4e00\u8def\u7531\uff0c\u9002\u5408",a.a.createElement("code",null,"\u8def\u7531\u4e0d\u5339\u914d"),"\u6216",a.a.createElement("code",null,"\u6743\u9650\u8def\u7531"),"\u7684\u60c5\u51b5")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"Switch")," \u5305\u88f9\u7684 ",a.a.createElement("code",null,"Redirect")," \u8981\u653e\u5728",a.a.createElement("code",null,"\u6700\u4e0b\u9762"),"\uff0c",a.a.createElement("code",null,"\u5426\u5219"),"\u4f1a\u88ab Switch \u4f18\u5148\u6e32\u67d3 Redirect \uff0c\u5bfc\u81f4\u8def\u7531\u9875\u9762",a.a.createElement("code",null,"\u65e0\u6cd5\u5c55\u793a"))),a.a.createElement("li",null,a.a.createElement("p",null,"1.\u8def\u7531\u4e0d\u5339\u914d"))),a.a.createElement(c["a"],{code:"<Switch>\n  <Route path=\"/router/home\" component={Home} />\n  <Route path=\"/router/list\" component={List} />\n  <Redirect from={'/router/*'} to={'/router/home'} />\n</Switch>",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"2.\u6743\u9650\u8def\u7531")),a.a.createElement(c["a"],{code:"noPermission ? (\n  <Redirect from={'/router/list'} to={'/router/home'} />\n) : (\n  <Route path=\"/router/list\" component={List} />\n);",lang:"js"}),a.a.createElement("h2",{id:"9\u4ece\u8def\u7531\u6539\u53d8\u5230\u9875\u9762\u8df3\u8f6c\u6d41\u7a0b\u56fe"},a.a.createElement(r["AnchorLink"],{to:"#9\u4ece\u8def\u7531\u6539\u53d8\u5230\u9875\u9762\u8df3\u8f6c\u6d41\u7a0b\u56fe","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"9.\u4ece\u8def\u7531\u6539\u53d8\u5230\u9875\u9762\u8df3\u8f6c\u6d41\u7a0b\u56fe"),a.a.createElement("p",null,a.a.createElement("img",{src:n("fFLz"),alt:"image"})),a.a.createElement("h2",{id:"10\u8def\u7531\u72b6\u6001\u83b7\u53d6"},a.a.createElement(r["AnchorLink"],{to:"#10\u8def\u7531\u72b6\u6001\u83b7\u53d6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"10.\u8def\u7531\u72b6\u6001\u83b7\u53d6"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u90fd\u662f\u4ece\u4fdd\u5b58\u7684\u4e0a\u4e0b\u6587\u4e2d\u83b7\u53d6\u7684\u8def\u7531\u4fe1\u606f\uff0c\u6240\u4ee5\u8981\u4fdd\u8bc1\u60f3\u8981\u83b7\u53d6\u8def\u7531\u4fe1\u606f\u7684\u9875\u9762\uff0c\u90fd\u5728\u6839\u90e8 Router \u5185\u90e8")),a.a.createElement("h3",{id:"1\u8def\u7531\u7ec4\u4ef6-props"},a.a.createElement(r["AnchorLink"],{to:"#1\u8def\u7531\u7ec4\u4ef6-props","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u8def\u7531\u7ec4\u4ef6 props"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u53ef\u4ee5\u901a\u8fc7 props \u65b9\u5f0f\u5411 Children \u5b50\u7ec4\u4ef6\u4e2d\u4f20\u9012\u8def\u7531\u72b6\u6001\u4fe1\u606f\uff08 histroy \uff0cloaction \uff09\u7b49")),a.a.createElement(c["a"],{code:"class Home extends React.Component {\n  render() {\n    return (\n      <div>\n        <Children {...this.props} />\n      </div>\n    );\n  }\n}",lang:"js"}),a.a.createElement("h3",{id:"2withrouter"},a.a.createElement(r["AnchorLink"],{to:"#2withrouter","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09withRouter"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5bf9\u4e8e\u8ddd\u79bb\u8def\u7531\u7ec4\u4ef6\u6bd4\u8f83\u8fdc\u7684\u6df1\u5c42\u6b21\u7ec4\u4ef6\uff0c\u901a\u5e38\u53ef\u4ee5\u7528 react-router \u63d0\u4f9b\u7684 ",a.a.createElement("code",null,"withRouter \u9ad8\u9636\u7ec4\u4ef6"),"\u65b9\u5f0f\u83b7\u53d6 histroy \uff0cloaction \u7b49\u4fe1\u606f")),a.a.createElement(c["a"],{code:"import { withRouter } from 'react-router-dom';\n@withRouter\nclass Home extends React.Component {\n  componentDidMount() {\n    console.log(this.props.history);\n  }\n  render() {\n    return <div>{/* ....*/}</div>;\n  }\n}",lang:"js"}),a.a.createElement("h3",{id:"3usehistory-\u548c-uselocation"},a.a.createElement(r["AnchorLink"],{to:"#3usehistory-\u548c-uselocation","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09useHistory \u548c useLocation"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5bf9\u4e8e",a.a.createElement("code",null,"\u51fd\u6570\u7ec4\u4ef6"),"\uff0c\u53ef\u4ee5\u7528 React-router \u63d0\u4f9b\u7684\u81ea\u5b9a\u4e49 ",a.a.createElement("code",null,"hooks")," \u4e2d\u7684 ",a.a.createElement("code",null,"useHistory")," \u83b7\u53d6 ",a.a.createElement("code",null,"history")," \u5bf9\u8c61\uff0c\u7528 ",a.a.createElement("code",null,"useLocation")," \u83b7\u53d6 ",a.a.createElement("code",null,"location")," \u5bf9\u8c61")),a.a.createElement(c["a"],{code:"import { useHistory, useLocation } from 'react-router-dom';\nfunction Home() {\n  const history = useHistory(); /* \u83b7\u53d6history\u4fe1\u606f */\n  const useLocation = useLocation(); /* \u83b7\u53d6location\u4fe1\u606f */\n}",lang:"js"}),a.a.createElement("h2",{id:"11\u8def\u7531\u5e26\u53c2\u6570\u8df3\u8f6c"},a.a.createElement(r["AnchorLink"],{to:"#11\u8def\u7531\u5e26\u53c2\u6570\u8df3\u8f6c","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"11.\u8def\u7531\u5e26\u53c2\u6570\u8df3\u8f6c"),a.a.createElement("h3",{id:"1\u8def\u7531\u8df3\u8f6c"},a.a.createElement(r["AnchorLink"],{to:"#1\u8def\u7531\u8df3\u8f6c","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u8def\u7531\u8df3\u8f6c"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u8def\u7531\u8df3\u8f6c\u6709",a.a.createElement("code",null,"\u58f0\u660e\u5f0f\u8def\u7531"),"\u548c",a.a.createElement("code",null,"\u51fd\u6570\u5f0f\u8def\u7531"),"\u4e24\u79cd")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"\u58f0\u660e\u5f0f\u8def\u7531"),"\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"<NavLink to='/home' />")," \uff0c\u5229\u7528 react-router-dom \u91cc\u9762\u7684 ",a.a.createElement("code",null,"Link")," \u6216\u8005 ",a.a.createElement("code",null,"NavLink")))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"\u51fd\u6570\u5f0f\u8def\u7531"),"\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"histor.push('/home')"))))),a.a.createElement("h3",{id:"2\u53c2\u6570\u4f20\u9012"},a.a.createElement(r["AnchorLink"],{to:"#2\u53c2\u6570\u4f20\u9012","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u53c2\u6570\u4f20\u9012"),a.a.createElement("p",null,a.a.createElement("strong",null,"1.url \u62fc\u63a5")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e0d\u63a8\u8350")),a.a.createElement(c["a"],{code:"const name = 'Bob';\nconst mes = 'let us learn React!';\nhistory.push(`/home?name=${name}&mes=${mes}`);",lang:"js"}),a.a.createElement("p",null,a.a.createElement("strong",null,"2.state \u8def\u7531\u72b6\u6001")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"\u4f20\u5165"))),a.a.createElement(c["a"],{code:"const name = 'Bob';\nconst mes = 'let us learn React!';\nhistory.push({\n  pathname: '/home',\n  state: {\n    name,\n    mes,\n  },\n});",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"\u83b7\u53d6"))),a.a.createElement(c["a"],{code:"const { state = {} } = this.prop.location;\nconst { name, mes } = state;",lang:"js"}),a.a.createElement("h3",{id:"3\u52a8\u6001\u8def\u5f84\u53c2\u6570\u8def\u7531"},a.a.createElement(r["AnchorLink"],{to:"#3\u52a8\u6001\u8def\u5f84\u53c2\u6570\u8def\u7531","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u52a8\u6001\u8def\u5f84\u53c2\u6570\u8def\u7531"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8def\u7531\u4e2d\u53c2\u6570\u53ef\u4ee5\u4f5c\u4e3a",a.a.createElement("code",null,"\u8def\u5f84"))),a.a.createElement(c["a"],{code:'<Route path="/post/:id" />',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,":id")," \u5c31\u662f\u52a8\u6001\u7684",a.a.createElement("code",null,"\u8def\u5f84\u53c2\u6570"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u8df3\u8f6c\uff1a"))),a.a.createElement(c["a"],{code:"history.push('/post/' + id);",lang:"js"}),a.a.createElement("h2",{id:"12\u5d4c\u5957\u8def\u7531"},a.a.createElement(r["AnchorLink"],{to:"#12\u5d4c\u5957\u8def\u7531","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"12.\u5d4c\u5957\u8def\u7531"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u8def\u7531\u7ec4\u4ef6\u4e0b\u9762\uff0c\u8fd8\u5b58\u5728",a.a.createElement("code",null,"\u5b50\u8def\u7531"),"\u7684\u60c5\u51b5")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5d4c\u5957\u8def\u7531\u4e2d\u7684\u5b50\u8def\u7531\u4e00\u5b9a\u8981\u8ddf\u968f\u7236\u8def\u7531"))),a.a.createElement(c["a"],{code:'// \u7236\u8def\u7531\nfunction Index() {\n  return (\n    <Switch>\n      <Route path="/home" component={Home} />\n      <Route path="/list" component={List} />\n    </Switch>\n  );\n}\n\n// \u5d4c\u5957\u7684\u8def\u7531\nfunction Home() {\n  return (\n    <div>\n      <Route path="/home/test" component={Test} />\n      <Route path="/home/test1" component={Test1} />\n    </div>\n  );\n}',lang:"js"}),a.a.createElement("h2",{id:"13\u8def\u7531\u62d3\u5c55"},a.a.createElement(r["AnchorLink"],{to:"#13\u8def\u7531\u62d3\u5c55","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"13.\u8def\u7531\u62d3\u5c55"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u53ef\u4ee5\u5bf9\u8def\u7531\u8fdb\u884c\u4e00\u4e9b\u529f\u80fd\u6027\u7684\u62d3\u5c55"),a.a.createElement("li",null,"\u6bd4\u5982\u53ef\u4ee5\u5b9e\u73b0\u81ea",a.a.createElement("code",null,"\u5b9a\u4e49\u8def\u7531"),"\uff0c\u6216\u8005\u7528 ",a.a.createElement("code",null,"HOC")," \u505a\u4e00\u4e9b",a.a.createElement("code",null,"\u62e6\u622a"),"\u3001",a.a.createElement("code",null,"\u76d1\u542c"),"\u7b49\u64cd\u4f5c")),a.a.createElement(c["a"],{code:'// \u81ea\u5b9a\u4e49\u8def\u7531\nfunction CustomRouter(props) {\n  const permissionList = useContext(permissionContext); /* \u83b7\u53d6\u6743\u9650\u5217\u8868 */\n  const haspermission = matchPermission(\n    permissionList,\n    props.path,\n  ); /* \u68c0\u67e5\u662f\u5426\u5177\u6709\u6743\u9650 */\n  return haspermission ? <Route {...props} /> : <Redirect to="/noPermission" />;\n}\n\n// \u4f7f\u7528\n<CustomRouter path="/list" component={List} />;',lang:"js"}),a.a.createElement("h2",{id:"14react-router-dom-\u4f7f\u7528"},a.a.createElement(r["AnchorLink"],{to:"#14react-router-dom-\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"14.react-router-dom \u4f7f\u7528"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"Link"),"\uff1a\u5c01\u88c5\u7684\u4e13\u5c5e a \u6807\u7b7e\uff0c\u7528\u4e8e\u8def\u7531\u8df3\u8f6c\uff0c\u7c7b\u4f3c\u4e8e router-link",a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"to"),"\uff1a\u5b57\u7b26\u4e32\u6216\u8005\u4f4d\u7f6e\u5bf9\u8c61\uff08\u5305\u542b\u8def\u5f84\u540d\uff0csearch\uff0chash \u548c state \u7684\u7ec4\u5408\uff09"))),a.a.createElement("li",null,a.a.createElement("code",null,"Switch"),"\uff1a\u5339\u914d\u591a\u4e2a\u8def\u7531\u9009\u62e9\u5176\u4e00\u7ec4\u4ef6\uff0c\u4ece\u524d\u5f80\u540e\uff0c\u5339\u914d\u6210\u529f\uff0c\u5c06 route \u514b\u9686\u8fd4\u56de"),a.a.createElement("li",null,a.a.createElement("code",null,"Route"),"\uff1a\u8def\u7531\u7ec4\u4ef6\uff0c\u7c7b\u4f3c\u4e8e router-view",a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"path"),"\uff1a\u5b57\u7b26\u4e32\uff0c\u63cf\u8ff0\u8def\u7531\u5339\u914d\u7684\u8def\u5f84\u540d\u7c7b\u578b"),a.a.createElement("li",null,a.a.createElement("code",null,"component"),"\uff1a\u4e00\u4e2a React \u7ec4\u4ef6\u3002\u5f53\u5e26\u6709 component\u200a \u53c2\u6570\u7684\u7684\u8def\u7531\u5339\u914d\u65f6\uff0c\u8def\u7531\u5c06\u8fd4\u56de\u4e00\u4e2a\u65b0\u5143\u7d20\uff0c\u5176\u7c7b\u578b\u662f\u4e00\u4e2a React component\u200a\uff08\u4f7f\u7528 React.createElement \u521b\u5efa\uff09"),a.a.createElement("li",null,a.a.createElement("code",null,"render"),"\uff1a\u4e00\u4e2a\u8fd4\u56de React \u5143\u7d20\u7684\u51fd\u6570\uff0c\u5b83\u5c06\u5728 path \u5339\u914d\u65f6\u88ab\u8c03\u7528\u3002\u8fd9\u4e0e component \u7c7b\u4f3c\uff0c\u5e94\u7528\u4e8e\u5185\u8054\u6e32\u67d3\u548c\u66f4\u591a\u53c2\u6570\u4f20\u9012"),a.a.createElement("li",null,a.a.createElement("code",null,"children"),"\uff1a\u4e00\u4e2a\u8fd4\u56de React \u5143\u7d20\u7684\u51fd\u6570\uff0c\u65e0\u8bba\u8def\u7531\u7684\u8def\u5f84\u662f\u5426\u4e0e\u5f53\u524d\u4f4d\u7f6e\u76f8\u5339\u914d\uff0c\u90fd\u5c06\u59cb\u7ec8\u88ab\u6e32\u67d3"),a.a.createElement("li",null,a.a.createElement("code",null,"exact"),"\u5c5e\u6027\uff1a\u6307\u5b9a path \u662f\u5426\u9700\u8981\u7edd\u5bf9\u5339\u914d\u624d\u4f1a\u8df3\u8f6c"))),a.a.createElement("li",null,a.a.createElement("code",null,"BrowserRouter"),"\uff1ahistroy \u8def\u7531\u7ec4\u4ef6"),a.a.createElement("li",null,a.a.createElement("code",null,"HashRouter"),"\uff1ahash \u8def\u7531\u7ec4\u4ef6"),a.a.createElement("li",null,a.a.createElement("code",null,"withRouter"),"\uff1a\u9ad8\u9636\u51fd\u6570\uff0c\u4f7f\u7528\u540e\u53ef\u4f7f\u7528\u6ce8\u5165\u7684 context \u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027")),a.a.createElement("h2",{id:"15\u8def\u7531\u5b88\u536b"},a.a.createElement(r["AnchorLink"],{to:"#15\u8def\u7531\u5b88\u536b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"15.\u8def\u7531\u5b88\u536b"),a.a.createElement("ul",null,a.a.createElement("li",null,"react-router-dom \u4f7f\u7528 ",a.a.createElement("code",null,"Prompt")," \u548c ",a.a.createElement("code",null,"getUserConfirmation")," \u51fd\u6570\u5b9e\u73b0\u8def\u7531\u5b88\u536b")),a.a.createElement(c["a"],{code:"// Home\u7ec4\u4ef6\nimport React from 'react';\nimport { Prompt } from 'react-router';\nexport default function Home({ location, history }) {\n  const [message, setMessage] = useState('');\n  return (\n    <>\n      <div\n        onClick={() =>\n          history.push({\n            pathname: '/about',\n            state: { state: 12 },\n          })\n        }\n      >\n        Home\n        {/* \u786e\u5b9a\u7ee7\u7eed\u8df3\u8f6c\u8def\u7531\uff0c\u53d6\u6d88\u4e0d\u8df3\u8f6c */}\n        <Prompt message={'\u662f\u5426\u8df3\u8f6c'} when={!!message} />\n      </div>\n      <span onClick={() => setMessage(Math.random())}>\u4fee\u6539\u4e86{message}</span>\n    </>\n  );\n}\n\n// App.js\u7ec4\u4ef6\n// \u4f7f\u7528\u5b50\u5b9a\u4e49\u51fd\u6570\u5904\u7406\u5b9e\u73b0\u8def\u7531\u5b88\u536b\uff0c\u5b9a\u4e49\u540e\uff0c\u4e0d\u4f1a\u5f39alert\u6846\n// getUserConfirmation\u51fd\u6570\u4f7f\u7528\u5728history.js\u4e2d\nconst getUserConfirmation = (msg, callback) => {\n  console.log(msg); // Home\u4e2dPrompt\u7684message\u503c\n  callback(true); // \u8df3\u8f6c\u8def\u7531\n};\nReactDOM.render(\n  <BrowserRouter getUserConfirmation={getUserConfirmation}>\n    <App>\n      <Switch>\n        <Route path=\"/home\" component={Home} />\n        <Route path=\"/about\" component={About} />\n        <Route path=\"*\" component={NoMatch} />\n      </Switch>\n    </App>\n  </BrowserRouter>,\n  document.getElementById('root'),\n);",lang:"js"}),a.a.createElement("h2",{id:"16v6-\u7248\u672c"},a.a.createElement(r["AnchorLink"],{to:"#16v6-\u7248\u672c","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"16.v6 \u7248\u672c"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5e9f\u5f03 ",a.a.createElement("code",null,"Switch")," \u7ec4\u4ef6\uff0c\u7531 ",a.a.createElement("code",null,"Routes")," \u4ee3\u66ff\uff08\u4f7f\u7528\u4e86\u667a\u80fd\u5339\u914d\u8def\u5f84\u7b97\u6cd5\uff09"),a.a.createElement("li",null,"\u5e9f\u5f03 ",a.a.createElement("code",null,"Redirect")," \u7ec4\u4ef6\uff0c\u7531 ",a.a.createElement("code",null,"Navigate")," \u4ee3\u66ff"),a.a.createElement("li",null,"\u5e9f\u5f03 ",a.a.createElement("code",null,"useHistory")," \u65b9\u6cd5\uff0c\u7531 ",a.a.createElement("code",null,"useNavigate")," \u4ee3\u66ff"),a.a.createElement("li",null,a.a.createElement("code",null,"Route")," \u7ec4\u4ef6\u79fb\u9664\u539f\u6709 ",a.a.createElement("code",null,"component")," \u53ca ",a.a.createElement("code",null,"render")," \u5c5e\u6027\uff0c\u7edf\u4e00\u901a\u8fc7 ",a.a.createElement("code",null,"element")," \u5c5e\u6027\u4f20\u9012\uff1a",a.a.createElement("code",null,"<Route element=","{","<Home />","}",">")),a.a.createElement("li",null,a.a.createElement("code",null,"Route")," \u7ec4\u4ef6\u652f\u6301\u5d4c\u5957\u5199\u6cd5\uff08v3 \u7248\u672c\u7528\u6cd5\u56de\u5f52\uff09"),a.a.createElement("li",null,a.a.createElement("code",null,"Route")," \u7ec4\u4ef6\u7684 ",a.a.createElement("code",null,"path")," \u89c4\u5219\u53d8\u66f4\uff0c",a.a.createElement("code",null,"\u4e0d\u518d\u652f\u6301\u7c7b\u6b63\u5219\u5199\u6cd5")),a.a.createElement("li",null,"\u6d88\u9664\u4e86 ",a.a.createElement("code",null,"v5")," \u7248\u672c\u4e2d",a.a.createElement("code",null,"\u5e26\u540e\u659c\u6760"),"\u7684\u8def\u5f84\u65f6\uff0cLink \u7ec4\u4ef6\u7684\u8df3\u8f6c\u6a21\u7cca\u7684\u95ee\u9898"),a.a.createElement("li",null,a.a.createElement("code",null,"Link")," \u7ec4\u4ef6\u652f\u6301\u81ea\u52a8\u643a\u5e26\u5f53\u524d\u7236\u8def\u7531\uff0c\u4ee5\u53ca\u76f8\u5bf9\u8def\u5f84\u5199\u6cd5",a.a.createElement("code",null,"../home")),a.a.createElement("li",null,"\u65b0\u589e ",a.a.createElement("code",null,"useRoutes")," \u65b9\u6cd5\uff0c\u4ee3\u66ff\u4e4b\u524d\u7684",a.a.createElement("code",null,"react-router-config"),"\u5199\u6cd5\uff0c\u540c\u6837\u652f\u6301\u5d4c\u5957"),a.a.createElement("li",null,"\u5176\u4ed6\u4e00\u4e9b API ",a.a.createElement("code",null,"\u540d\u79f0\u53d8\u66f4"))),a.a.createElement("h2",{id:"17\u4f7f\u7528-react-router-dom-v6-\u7248"},a.a.createElement(r["AnchorLink"],{to:"#17\u4f7f\u7528-react-router-dom-v6-\u7248","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"17.\u4f7f\u7528 react-router-dom v6 \u7248"),a.a.createElement("h3",{id:"1"},a.a.createElement(r["AnchorLink"],{to:"#1","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09"),a.a.createElement(c["a"],{code:"import React from 'react';\nimport { HashRouter, Route, Routes } from 'react-router-dom';\n\nimport Root from './pages/root';\nimport Home from './pages/home';\nimport Detail from './pages/detail';\n\nconst Routers = () => (\n  <HashRouter>\n    <Routes>\n      <Route path=\"/\" element={<Root />} />\n      <Route path=\"/home\" element={<Home />} />\n      <Route path=\"/detail\" element={<Detail />} />\n    </Routes>\n  </HashRouter>\n);\n\nexport default Routers;",lang:"js"}))))},"5yDY":function(e,t,n){e.exports=n.p+"static/5.4a33a5bc.png"},JjdP:function(e,t,n){"use strict";n.r(t),t["default"]={}},Zs1V:function(e){e.exports=JSON.parse("{}")},fFLz:function(e,t,n){e.exports=n.p+"static/6.ec5263f9.png"},kudJ:function(e,t,n){e.exports=n.p+"static/4.afc8097f.png"}}]);