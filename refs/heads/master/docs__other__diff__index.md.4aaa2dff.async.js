(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[218],{JjdP:function(e,n,a){"use strict";a.r(n),n["default"]={}},Zs1V:function(e){e.exports=JSON.parse("{}")},hZ1o:function(e,n,a){"use strict";a.r(n);var l=a("q1tI"),t=a.n(l),r=a("dEAq"),c=a("H1Ra");a("JjdP");n["default"]=e=>(t.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"virtual-dom-\u548c-dom-diff"},t.a.createElement(r["AnchorLink"],{to:"#virtual-dom-\u548c-dom-diff","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"Virtual DOM \u548c DOM-diff"),t.a.createElement("h2",{id:"1\u4ec0\u4e48\u662f-virtual-dom"},t.a.createElement(r["AnchorLink"],{to:"#1\u4ec0\u4e48\u662f-virtual-dom","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"1.\u4ec0\u4e48\u662f Virtual DOM"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"Virtual DOM \u662f\u5bf9 DOM \u7684\u62bd\u8c61,\u672c\u8d28\u4e0a\u662f JavaScript \u5bf9\u8c61")),t.a.createElement("li",null,t.a.createElement("p",null,"Virtual dom, \u5373\u865a\u62df DOM \u8282\u70b9\u3002\u901a\u8fc7 JS \u7684 Object \u5bf9\u8c61\u6a21\u62df DOM \u4e2d\u7684\u8282\u70b9\uff0c\u7136\u540e\u518d\u901a\u8fc7\u7279\u5b9a\u7684 render \u65b9\u6cd5\u5c06\u5176\u6e32\u67d3\u6210\u771f\u5b9e\u7684 DOM \u8282\u70b9")),t.a.createElement("li",null,t.a.createElement("p",null,"\u2f64 JavaScript \u5bf9\u8c61\u8868\u793a DOM \u4fe1\u606f\u548c\u7ed3\u6784\uff0c\u66f4\u65b0\u540e\u4f7f\u4e4b\u4e0e\u771f\u5b9e dom \u4fdd\u6301\u540c\u6b65\uff0c\u540c\u6b65\u8fc7\u7a0b\u5c31\u662f\u534f\u8c03\uff0c\u6838\u5fc3\u662f diff \u7b97\u6cd5"))),t.a.createElement("h2",{id:"2\u4e3a\u4ec0\u4e48\u64cd\u4f5c-dom-\u6027\u80fd\u5f00\u9500\u5927"},t.a.createElement(r["AnchorLink"],{to:"#2\u4e3a\u4ec0\u4e48\u64cd\u4f5c-dom-\u6027\u80fd\u5f00\u9500\u5927","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"2.\u4e3a\u4ec0\u4e48\u64cd\u4f5c dom \u6027\u80fd\u5f00\u9500\u5927"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u9891\u7e41\u64cd\u4f5c DOM \u4f1a\u8ba9\u6d4f\u89c8\u5668\u4ea7\u751f\u56de\u6d41\u548c\u91cd\u7ed8\uff0c\u6027\u80fd\u4f1a\u975e\u5e38\u4f4e")),t.a.createElement("h2",{id:"3\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528-virtual-dom"},t.a.createElement(r["AnchorLink"],{to:"#3\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528-virtual-dom","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3.\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528 Virtual DOM"),t.a.createElement("h3",{id:"1\u51cf\u5c11-dom-\u64cd\u4f5c"},t.a.createElement(r["AnchorLink"],{to:"#1\u51cf\u5c11-dom-\u64cd\u4f5c","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u51cf\u5c11 DOM \u64cd\u4f5c"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"DOM \u64cd\u4f5c\u5f88\u6162\uff0c\u8f7b\u5fae\u7684\u64cd\u4f5c\u90fd\u53ef\u80fd\u5bfc\u81f4\u2eda\u9762\u56de\u6d41\u548c\u91cd\u7ed8\uff0c\u2fae\u5e38\u8017\u6027\u80fd")),t.a.createElement("li",null,t.a.createElement("p",null,"\u76f8\u5bf9\u4e8e DOM \u5bf9\u8c61\uff0cjs \u5bf9\u8c61\u5904\u7406\u8d77\u6765\uf901\u5feb\uff0c\u800c\u4e14\uf901\u7b80\u5355")),t.a.createElement("li",null,t.a.createElement("p",null,"\u901a\u8fc7 diff \u7b97\u6cd5\u5bf9\u6bd4\u65b0\u65e7 vdom \u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u53ef\u4ee5 \u6279\uf97e\u7684\u3001\u6700\u2f29\u5316\u7684\u6267\ufa08 dom \u64cd\u4f5c\uff0c\u4ece\u800c\u63d0\u9ad8\u6027\u80fd")),t.a.createElement("li",null,t.a.createElement("p",null,"\u5728 patch \u8fc7\u7a0b\u4e2d\u5c3d\u53ef\u80fd\u5730\u4e00\u6b21\u6027\u5c06\u5dee\u5f02\u66f4\u65b0\u5230 DOM \u4e2d,\u8fd9\u6837\u4fdd\u8bc1\u4e86 DOM \u4e0d\u4f1a\u51fa\u73b0\u6027\u80fd\u5f88\u5dee\u7684\u60c5\u51b5"))),t.a.createElement("h3",{id:"2\u8de8\u5e73\u53f0\u6e32\u67d3"},t.a.createElement(r["AnchorLink"],{to:"#2\u8de8\u5e73\u53f0\u6e32\u67d3","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u8de8\u5e73\u53f0\u6e32\u67d3"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u865a\u62df DOM \u53ef\u4ee5\u5b9e\u73b0\u8de8\u5e73\u53f0\u6e32\u67d3\uff0c\u670d\u52a1\u5668\u6e32\u67d3 \u3001\u5c0f\u7a0b\u5e8f\u3001\u539f\u751f\u5e94\u7528\u90fd\u4f7f\u7528\u4e86\u865a\u62df DOM\uff0c\u56e0\u4e3a\u865a\u62df DOM \u672c\u8d28\u4e0a\u53ea\u662f\u4e00\u4e2a JS \u5bf9\u8c61")),t.a.createElement("h2",{id:"4virtual-dom-\u6709\u4ec0\u4e48\u7f3a\u70b9"},t.a.createElement(r["AnchorLink"],{to:"#4virtual-dom-\u6709\u4ec0\u4e48\u7f3a\u70b9","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.Virtual DOM \u6709\u4ec0\u4e48\u7f3a\u70b9"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u5e76\u4e0d\u662f\u6240\u6709\u60c5\u51b5\u4f7f\u7528\u865a\u62df DOM \u90fd\u63d0\u9ad8\u6027\u80fd\uff0c\u662f\u9488\u5bf9\u5728\u590d\u6742\u7684\u7684\u9879\u76ee\u4f7f\u7528")),t.a.createElement("li",null,t.a.createElement("p",null,"\u5982\u679c\u7b80\u5355\u7684\u64cd\u4f5c\uff0c\u4f7f\u7528\u865a\u62df DOM,\u8981\u521b\u5efa\u865a\u62df DOM \u5bf9\u8c61\u7b49\u7b49\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u8fd8\u4e0d\u5982\u666e\u901a\u7684 DOM \u64cd\u4f5c")),t.a.createElement("li",null,t.a.createElement("p",null,"\u9700\u8981\u989d\u5916\u7684\u521b\u5efa\u51fd\u6570\uff0c\u5982 createElement \u6216 h\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 JSX \u6765\u7b80\u5316\u6210 XML \u5199\u6cd5"))),t.a.createElement("h2",{id:"5virtual-dom-\u7684\u7ed3\u6784"},t.a.createElement(r["AnchorLink"],{to:"#5virtual-dom-\u7684\u7ed3\u6784","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"5.Virtual DOM \u7684\u7ed3\u6784"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u865a\u62df DOM \u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684 JavaScript \u5bf9\u8c61\uff0c\u5305\u542b\u4e86 tag\u3001props\u3001children \u4e09\u4e2a\u5c5e\u6027")),t.a.createElement("h2",{id:"6\u5982\u4f55\u521b\u5efa-virtual-dom"},t.a.createElement(r["AnchorLink"],{to:"#6\u5982\u4f55\u521b\u5efa-virtual-dom","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"6.\u5982\u4f55\u521b\u5efa Virtual DOM"),t.a.createElement("h3",{id:"1reactcreateelement"},t.a.createElement(r["AnchorLink"],{to:"#1reactcreateelement","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"1\uff09React.createElement"),t.a.createElement(c["a"],{code:"React.createElement('div', { className: 'red', onClick: () => {} }, [\n  React.createElement('span', {}, 'span1'),\n  React.createElement('span', {}, 'span2'),\n]);",lang:"js"}),t.a.createElement("h3",{id:"2vue\u53ea\u80fd\u5728-render-\u51fd\u6570\u91cc\u5f97\u5230-h"},t.a.createElement(r["AnchorLink"],{to:"#2vue\u53ea\u80fd\u5728-render-\u51fd\u6570\u91cc\u5f97\u5230-h","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"2\uff09Vue\uff08\u53ea\u80fd\u5728 render \u51fd\u6570\u91cc\u5f97\u5230 h\uff09"),t.a.createElement(c["a"],{code:"h(\n  'div',\n  {\n    class: 'red',\n    on: {\n      click: () => {},\n    },\n  },\n  [h('span', {}, 'span1'), h('span', {}, 'span2')],\n);",lang:"js"}),t.a.createElement("h2",{id:"7diff-\u7b97\u6cd5"},t.a.createElement(r["AnchorLink"],{to:"#7diff-\u7b97\u6cd5","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"7.diff \u7b97\u6cd5"),t.a.createElement("h3",{id:"1\u76ee\u7684"},t.a.createElement(r["AnchorLink"],{to:"#1\u76ee\u7684","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u76ee\u7684"),t.a.createElement("ul",null,t.a.createElement("li",null,"diff \u7684\u76ee\u7684\u5c31\u662f\u6bd4\u8f83\u65b0\u65e7 Virtual DOM Tree \u627e\u51fa\u5dee\u5f02\u5e76\u66f4\u65b0")),t.a.createElement("h3",{id:"2\u6811-diff-\u7684\u65f6\u95f4\u590d\u6742\u5ea6-on3"},t.a.createElement(r["AnchorLink"],{to:"#2\u6811-diff-\u7684\u65f6\u95f4\u590d\u6742\u5ea6-on3","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u6811 diff \u7684\u65f6\u95f4\u590d\u6742\u5ea6 O(n3)"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u8981\u6bd4\u8f83 Virtual DOM Tree \u7684\u5dee\u5f02,\u7406\u8bba\u4e0a\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u9ad8\u8fbe O(n^3)\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u9996\u5148\uff0c\u904d\u5386 tree1")),t.a.createElement("li",null,t.a.createElement("p",null,"\u5176\u6b21\uff0c\u904d\u5386 tree2")),t.a.createElement("li",null,t.a.createElement("p",null,"\u6700\u540e\uff0c\u5bf9\u6811\u8fdb\u884c\u6392\u5e8f")),t.a.createElement("li",null,t.a.createElement("p",null,"\u8fd9\u6837 n",t.a.createElement("em",null,"n"),"n \uff0c\u5c31\u8fbe\u5230\u4e86 O(n3)"))))),t.a.createElement("h3",{id:"3\u4f18\u5316\u65f6\u95f4\u590d\u6742\u5ea6\u5230-on"},t.a.createElement(r["AnchorLink"],{to:"#3\u4f18\u5316\u65f6\u95f4\u590d\u6742\u5ea6\u5230-on","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u4f18\u5316\u65f6\u95f4\u590d\u6742\u5ea6\u5230 O(n)"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u901a\u8fc7 diff \u7b97\u6cd5\uff0c\u53ef\u4ee5\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u4ece O(n3)\u4f18\u5316\u5230 O(n)\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u53ea\u6bd4\u8f83\u540c\u4e00\u5c42\u7ea7\uff0c\u4e0d\u8de8\u7ea7\u6bd4\u8f83")),t.a.createElement("li",null,t.a.createElement("p",null,"tag \u4e0d\u76f8\u540c\uff0c\u5219\u76f4\u63a5\u5220\u6389\u91cd\u5efa\uff0c\u4e0d\u518d\u6df1\u5ea6\u6bd4\u8f83")),t.a.createElement("li",null,t.a.createElement("p",null,"tag \u548c key \uff0c\u4e24\u8005\u90fd\u76f8\u540c\uff0c\u5219\u8ba4\u4e3a\u662f\u76f8\u540c\u8282\u70b9\uff0c\u4e0d\u518d\u6df1\u5ea6\u6bd4\u8f83"))))),t.a.createElement("h2",{id:"8react-diff-\u7b97\u6cd5\u7b56\u7565"},t.a.createElement(r["AnchorLink"],{to:"#8react-diff-\u7b97\u6cd5\u7b56\u7565","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"8.React diff \u7b97\u6cd5\u7b56\u7565"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u9488\u5bf9\u6811\u7ed3\u6784(tree diff)\uff1a\u5bf9 UI \u5c42\u7684 DOM \u8282\u70b9\u8de8\u5c42\u7ea7\u7684\u64cd\u4f5c\u8fdb\u884c\u5ffd\u7565\uff08\u6570\u91cf\u5c11\uff09")),t.a.createElement("li",null,t.a.createElement("p",null,"\u9488\u5bf9\u7ec4\u4ef6\u7ed3\u6784(component diff)\uff1a\u62e5\u6709\u76f8\u540c\u7c7b\u7684\u4e24\u4e2a\u7ec4\u4ef6\u751f\u6210\u76f8\u4f3c\u7684\u6811\u5f62\u7ed3\u6784\uff0c\u62e5\u6709\u4e0d\u540c\u7c7b\u7684\u4e24\u4e2a\u7ec4\u4ef6\u4f1a\u751f\u6210\u4e0d\u540c\u7684\u5c5e\u6027\u7ed3\u6784")),t.a.createElement("li",null,t.a.createElement("p",null,"\u9488\u5bf9\u5143\u7d20\u7ed3\u6784(element-diff): \u5bf9\u4e8e\u540c\u4e00\u5c42\u7ea7\u7684\u4e00\u7ec4\u8282\u70b9\uff0c\u4f7f\u7528\u5177\u6709\u552f\u4e00\u6027\u7684 id \u533a\u5206 (key \u5c5e\u6027)"))),t.a.createElement("h3",{id:"1tree-diff-\u7684\u7279\u70b9"},t.a.createElement(r["AnchorLink"],{to:"#1tree-diff-\u7684\u7279\u70b9","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"1\uff09tree diff \u7684\u7279\u70b9"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"React \u901a\u8fc7\u4f7f\u7528 updateDepth \u5bf9 \u865a\u62df DOM \u6811\u8fdb\u884c\u5c42\u6b21\u904d\u5386")),t.a.createElement("li",null,t.a.createElement("p",null,"\u4e24\u68f5\u6811\u53ea\u5bf9\u540c\u4e00\u5c42\u7ea7\u8282\u70b9\u8fdb\u884c\u6bd4\u8f83\uff0c\u53ea\u8981\u8be5\u8282\u70b9\u4e0d\u5b58\u5728\u4e86\uff0c\u90a3\u4e48\u8be5\u8282\u70b9\u4e0e\u5176\u6240\u6709\u5b50\u8282\u70b9\u4f1a\u88ab\u5b8c\u5168\u5220\u9664,\u4e0d\u5728\u8fdb\u884c\u8fdb\u4e00\u6b65\u6bd4\u8f83")),t.a.createElement("li",null,t.a.createElement("p",null,"\u53ea\u9700\u8981\u904d\u5386\u4e00\u6b21\uff0c\u4fbf\u5b8c\u6210\u5bf9\u6574\u4e2a DOM \u6811\u7684\u6bd4\u8f83"))),t.a.createElement("h3",{id:"2component-diff-\u7684\u7279\u70b9"},t.a.createElement(r["AnchorLink"],{to:"#2component-diff-\u7684\u7279\u70b9","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"2\uff09component diff \u7684\u7279\u70b9"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u540c\u4e00\u7c7b\u578b\u7684\u7ec4\u4ef6\uff0c\u6309\u7167\u539f\u7b56\u7565(tree diff)\u6bd4\u8f83 virtual DOM tree")),t.a.createElement("li",null,t.a.createElement("p",null,"\u540c\u7c7b\u578b\u7ec4\u4ef6\uff0c\u7ec4\u4ef6 A \u8f6c\u5316\u4e3a\u4e86\u7ec4\u4ef6 B\uff0c\u5982\u679c virtual DOM \u65e0\u53d8\u5316\uff0c\u53ef\u4ee5\u901a\u8fc7 shouldComponentUpdate()\u65b9\u6cd5\u6765\u5224\u65ad\u662f\u5426")),t.a.createElement("li",null,t.a.createElement("p",null,"\u4e0d\u540c\u7c7b\u578b\u7684\u7ec4\u4ef6\uff0c\u90a3\u4e48 diff \u7b97\u6cd5\u4f1a\u628a\u8981\u6539\u53d8\u7684\u7ec4\u4ef6\u5224\u65ad\u4e3a dirty component,\u4ece\u800c\u66ff\u6362\u6574\u4e2a\u7ec4\u4ef6\u7684\u6240\u6709\u8282\u70b9"))),t.a.createElement("h3",{id:"3element-diff-\u7279\u70b9"},t.a.createElement(r["AnchorLink"],{to:"#3element-diff-\u7279\u70b9","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3\uff09element diff \u7279\u70b9"),t.a.createElement("p",null,"\u5bf9\u4e8e\u5904\u4e8e\u540c\u4e00\u5c42\u7ea7\u7684\u8282\u70b9\uff0cReact diff \u63d0\u4f9b\u4e86\u4e09\u79cd\u8282\u70b9\u64cd\u4f5c: \u63d2\u5165\uff0c\u79fb\u52a8\uff0c\u5220\u9664"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u63d2\u5165\uff1a \u65b0\u7684\u7ec4\u4ef6\u4e0d\u5728\u539f\u6765\u7684\u96c6\u5408\u4e2d\uff0c\u800c\u662f\u5168\u65b0\u7684\u8282\u70b9\uff0c\u5219\u5bf9\u96c6\u5408\u8fdb\u884c\u63d2\u5165\u64cd\u4f5c\u3002"),t.a.createElement("li",null,"\u5220\u9664\uff1a\u7ec4\u4ef6\u5df2\u7ecf\u5728\u96c6\u5408\u4e2d\uff0c\u4f46\u96c6\u5408\u5df2\u7ecf\u66f4\u65b0\uff0c\u6b64\u65f6\u8282\u70b9\u5c31\u9700\u8981\u5220\u9664\u3002"),t.a.createElement("li",null,"\u79fb\u52a8\uff1a\u7ec4\u4ef6\u5df2\u7ecf\u5b58\u5728\u4e8e\u96c6\u5408\u4e2d\uff0c\u5e76\u4e14\u96c6\u5408\u66f4\u65b0\u65f6\uff0c\u7ec4\u4ef6\u5e76\u6ca1\u6709\u53d1\u751f\u66f4\u65b0\uff0c\u53ea\u662f\u4f4d\u7f6e\u53d1\u751f\u6539\u53d8\uff0c\u4f8b\u5982\uff1a(A,B,C,D) \u2192 (A,D,B,C), \u5982\u679c\u4e3a\u4f20\u7edf diff \u5219\u4f1a\u5728\u68c0\u6d4b\u5230\u65e7\u96c6\u5408\u4e2d\u7b2c\u4e8c\u4f4d\u4e3a B\uff0c\u65b0\u96c6\u5408\u7b2c\u4e8c\u4f4d\u4e3a D \u65f6\u5220\u9664 B\uff0c\u63d2\u5165 D\uff0c\u5e76\u4e14\u540e\u9762\u7684\u6240\u6709\u8282\u70b9\u90fd\u8981\u91cd\u65b0\u52a0\u8f7d\uff0c\u800c React diff \u5219\u662f\u901a\u8fc7\u5411\u540c\u4e00\u5c42\u7684\u8282\u70b9\u6dfb\u52a0 \u552f\u4e00 key \u8fdb\u884c\u533a\u5206\uff0c\u5e76\u4e14\u79fb\u52a8")),t.a.createElement("h2",{id:"9key-\u503c\u7684\u91cd\u8981\u6027"},t.a.createElement(r["AnchorLink"],{to:"#9key-\u503c\u7684\u91cd\u8981\u6027","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"9.key \u503c\u7684\u91cd\u8981\u6027"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"react key \u662f\u4e3a\u4e86\u63d0\u5347 diff \u8fc7\u7a0b\u4ee5\u53ca\u6700\u7ec8\u64cd\u4f5c dom \u7684\u6027\u80fd"),t.a.createElement("ul",null,t.a.createElement("li",null,"react \u7684 diff \u5b50\u5143\u7d20\u5217\u8868\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e\u5f53\u524d key \u503c\uff0c\u53bb\u65b0\u65e7\u6811\u4e2d\u5bfb\u627e\u5230\u5bf9\u5e94\u7684\u5b50\u5143\u7d20\u6765\u8fdb\u884c\u6bd4\u8f83"))),t.a.createElement("li",null,t.a.createElement("p",null,"key \u503c\u5fc5\u987b\u662f\u7a33\u5b9a\u7684\uff08\u4e0d\u80fd\u4f7f\u7528 Math.random \u53bb\u521b\u5efa key\uff09, \u53ef\u9884\u6d4b\u5e76\u4e14\u662f\u552f\u4e00\u7684\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u4fdd\u6301 DOM \u7ed3\u6784\u7684\u7a33\u5b9a\u6027")),t.a.createElement("li",null,t.a.createElement("p",null,"\u52a0\u552f\u4e00 key \u503c")))),t.a.createElement("li",null,t.a.createElement("p",null,"React \u4f1a\u6839\u636e key \u6765\u51b3\u5b9a\u662f\u9500\u6bc1\u91cd\u65b0\u521b\u5efa\u7ec4\u4ef6\u8fd8\u662f\u66f4\u65b0\u7ec4\u4ef6\uff0c\u539f\u5219\u662f\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"key \u76f8\u540c\uff0c\u7ec4\u4ef6\u6709\u6240\u53d8\u5316\uff0cReact \u4f1a\u53ea\u66f4\u65b0\u7ec4\u4ef6\u5bf9\u5e94\u53d8\u5316\u7684\u5c5e\u6027")),t.a.createElement("li",null,t.a.createElement("p",null,"key \u4e0d\u540c\uff0c\u7ec4\u4ef6\u4f1a\u9500\u6bc1\u4e4b\u524d\u7684\u7ec4\u4ef6\uff0c\u5c06\u6574\u4e2a\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3"))))),t.a.createElement("h2",{id:"10diff-\u7b80\u6613\u5b9e\u73b0"},t.a.createElement(r["AnchorLink"],{to:"#10diff-\u7b80\u6613\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"10.diff \u7b80\u6613\u5b9e\u73b0"),t.a.createElement("h3",{id:"1\u5c06-vdom-\u8f6c\u5316\u4e3a\u771f\u5b9e-dom"},t.a.createElement(r["AnchorLink"],{to:"#1\u5c06-vdom-\u8f6c\u5316\u4e3a\u771f\u5b9e-dom","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u5c06 vdom \u8f6c\u5316\u4e3a\u771f\u5b9e dom"),t.a.createElement(c["a"],{code:"const createElement = (vnode) => {\n  let tag = vnode.tag;\n  let attrs = vnode.attrs || {};\n  let children = vnode.children || [];\n  if (!tag) {\n    return null;\n  }\n  //\u521b\u5efa\u5143\u7d20\n  let elem = document.createElement(tag);\n  //\u5c5e\u6027\n  let attrName;\n  for (attrName in attrs) {\n    if (attrs.hasOwnProperty(attrName)) {\n      elem.setAttribute(attrName, attrs[attrName]);\n    }\n  }\n  //\u5b50\u5143\u7d20\n  children.forEach((childVnode) => {\n    //\u7ed9elem\u6dfb\u52a0\u5b50\u5143\u7d20\n    elem.appendChild(createElement(childVnode));\n  });\n\n  //\u8fd4\u56de\u771f\u5b9e\u7684dom\u5143\u7d20\n  return elem;\n};",lang:"js"}),t.a.createElement("h3",{id:"2\u7528\u7b80\u6613-diff-\u7b97\u6cd5\u505a\u66f4\u65b0\u64cd\u4f5c"},t.a.createElement(r["AnchorLink"],{to:"#2\u7528\u7b80\u6613-diff-\u7b97\u6cd5\u505a\u66f4\u65b0\u64cd\u4f5c","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u7528\u7b80\u6613 diff \u7b97\u6cd5\u505a\u66f4\u65b0\u64cd\u4f5c"),t.a.createElement(c["a"],{code:"function updateChildren(vnode, newVnode) {\n  let children = vnode.children || [];\n  let newChildren = newVnode.children || [];\n\n  children.forEach((childVnode, index) => {\n    let newChildVNode = newChildren[index];\n    if (childVnode.tag === newChildVNode.tag) {\n      //\u6df1\u5c42\u6b21\u5bf9\u6bd4, \u9012\u5f52\u8fc7\u7a0b\n      updateChildren(childVnode, newChildVNode);\n    } else {\n      //\u66ff\u6362\n      replaceNode(childVnode, newChildVNode);\n    }\n  });\n}",lang:"js"}),t.a.createElement("h2",{id:"react-\u7684-diff-\u548c-vue-\u7684-diff-\u6709\u4ec0\u4e48\u4e0d\u540c"},t.a.createElement(r["AnchorLink"],{to:"#react-\u7684-diff-\u548c-vue-\u7684-diff-\u6709\u4ec0\u4e48\u4e0d\u540c","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"react \u7684 diff \u548c vue \u7684 diff \u6709\u4ec0\u4e48\u4e0d\u540c"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"react \u662f\u4e24\u4e2a\u94fe\u8868\u8fdb\u884c\u6bd4\u8f83"),t.a.createElement("ul",null,t.a.createElement("li",null,"React \u7684\u601d\u8def\u662f\u9012\u589e\u6cd5\u3002\u901a\u8fc7\u5bf9\u6bd4\u65b0\u7684\u5217\u8868\u4e2d\u7684\u8282\u70b9\uff0c\u5728\u539f\u672c\u7684\u5217\u8868\u4e2d\u7684\u4f4d\u7f6e\u662f\u5426\u662f\u9012\u589e\uff0c\u6765\u5224\u65ad\u5f53\u524d\u8282\u70b9\u662f\u5426\u9700\u8981\u79fb\u52a8"))),t.a.createElement("li",null,t.a.createElement("p",null,"vue \u4e2d\u662f\u4e24\u4e2a\u6570\u7ec4\u8fdb\u884c\u6bd4\u8f83"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"vue2.x \u53cc\u7aef\u6bd4\u8f83\uff1a\u65b0\u5217\u8868\u548c\u65e7\u5217\u8868\u4e24\u4e2a\u5217\u8868\u7684\u5934\u4e0e\u5c3e\u4e92\u76f8\u5bf9\u6bd4\uff0c\uff0c\u5728\u5bf9\u6bd4\u7684\u8fc7\u7a0b\u4e2d\u6307\u9488\u4f1a\u9010\u6e10\u5411\u5185\u9760\u62e2\uff0c\u76f4\u5230\u67d0\u4e00\u4e2a\u5217\u8868\u7684\u8282\u70b9\u5168\u90e8\u904d\u5386\u8fc7\uff0c\u5bf9\u6bd4\u505c\u6b62")),t.a.createElement("li",null,t.a.createElement("p",null,"vue3.x \u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("p",null,"\u76f8\u540c\u7684\u524d\u7f6e\u4e0e\u540e\u7f6e\u5143\u7d20\u7684\u9884\u5904\u7406")),t.a.createElement("li",null,t.a.createElement("p",null,"\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217"))))))))))}}]);