(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[134],{JjdP:function(e,n,t){"use strict";t.r(n),n["default"]={}},Zs1V:function(e){e.exports=JSON.parse("{}")},dNHn:function(e,n,t){e.exports=t.p+"static/1.9105e266.png"},uJ9t:function(e,n,t){"use strict";t.r(n);var l=t("q1tI"),a=t.n(l),c=t("dEAq"),r=t("H1Ra");t("JjdP");n["default"]=e=>(a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"react-\u57fa\u7840"},a.a.createElement(c["AnchorLink"],{to:"#react-\u57fa\u7840","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"react \u57fa\u7840"),a.a.createElement("h2",{id:"1\u7b80\u53f2"},a.a.createElement(c["AnchorLink"],{to:"#1\u7b80\u53f2","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1.\u7b80\u53f2"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"2011")," \u5e74",a.a.createElement("code",null,"\u8bde\u751f")),a.a.createElement("li",null,"2015 \u5e74\u53d1\u5e03 ",a.a.createElement("code",null,"v0.14.0")," \u7248\u672c\uff1a\u62c6\u5206 react package into two\uff0creact and react-dom"),a.a.createElement("li",null,"2016 \u5e74\u53d1\u5e03 ",a.a.createElement("code",null,"v15.0")," \u7248\u672c\uff1a",a.a.createElement("code",null,"\u865a\u62df dom \u7684 diff \u64cd\u4f5c"),"\u540c\u6b65\u6267\u884c"),a.a.createElement("li",null,"2017 \u5e74\u53d1\u5e03 React ",a.a.createElement("code",null,"v16.0")," \u7248\u672c\uff1a\u4e3a\u4e86\u89e3\u51b3\u4e4b\u524d\u5927\u578b React \u5e94\u7528\u4e00\u6b21\u66f4\u65b0\u904d\u5386\u5927\u91cf\u865a\u62df DOM \u5e26\u6765\u4e2a\u5361\u987f\u95ee\u9898\uff0cReact \u91cd\u5199\u4e86\u6838\u5fc3\u6a21\u5757 Reconciler \uff0c\u542f\u7528\u4e86 ",a.a.createElement("code",null,"Fiber \u67b6\u6784(\u5206\u7247)"),"\uff1b\u4e3a\u4e86\u5728\u8ba9\u8282\u70b9\u6e32\u67d3\u5230\u6307\u5b9a\u5bb9\u5668\u5185\uff0c\u66f4\u597d\u7684\u5b9e\u73b0\u5f39\u7a97\u529f\u80fd\uff0c\u63a8\u51fa ",a.a.createElement("code",null,"createPortal")," API\uff1b\u4e3a\u4e86\u6355\u83b7\u6e32\u67d3\u4e2d\u7684\u5f02\u5e38\uff0c\u5f15\u5165 ",a.a.createElement("code",null,"componentDidCatch")," \u94a9\u5b50\uff0c\u5212\u5206\u4e86\u9519\u8bef\u8fb9\u754c"),a.a.createElement("li",null,"react ",a.a.createElement("code",null,"v16.2.0"),"\uff082017 \u5e74\uff09\uff1a\u589e\u52a0 ",a.a.createElement("code",null,"Fragment")," \u7ec4\u4ef6,\u89e3\u51b3\u6570\u7ec4\u5143\u7d20\u95ee\u9898"),a.a.createElement("li",null,"react ",a.a.createElement("code",null,"V16.3.0"),"\uff082018 \u5e74\uff09\uff1a\u589e\u52a0 React.",a.a.createElement("code",null,"createRef"),"() API\uff0c\u53ef\u4ee5\u901a\u8fc7 React.createRef \u53d6\u5f97 Ref \u5bf9\u8c61\u3002\u589e\u52a0 React.",a.a.createElement("code",null,"forwardRef"),"() API\uff0c\u89e3\u51b3\u9ad8\u9636\u7ec4\u4ef6 ref \u4f20\u9012\u95ee\u9898\uff1b\u63a8\u51fa\u65b0\u7248\u672c ",a.a.createElement("code",null,"context")," api\uff0c\u8fce\u63a5 Provider / Consumer \u65f6\u4ee3\uff1b\u589e\u52a0 getDerivedStateFromProps \u548c getSnapshotBeforeUpdate \u751f\u547d\u5468\u671f \u3002"),a.a.createElement("li",null,"react ",a.a.createElement("code",null,"V16.6.0"),"\uff082018 \u5e74\uff09\uff1a\u589e\u52a0 React.",a.a.createElement("code",null,"memo"),"() API\uff0c\u7528\u4e8e",a.a.createElement("code",null,"\u63a7\u5236\u5b50\u7ec4\u4ef6\u6e32\u67d3"),"\uff1b\u589e\u52a0 React.",a.a.createElement("code",null,"lazy"),"() API \u5b9e\u73b0",a.a.createElement("code",null,"\u4ee3\u7801\u5206\u5272"),"\uff1b\u589e\u52a0 ",a.a.createElement("code",null,"contextType")," \u8ba9\u7c7b\u7ec4\u4ef6\u66f4\u4fbf\u6377\u7684\u4f7f\u7528 context\uff1b\u589e\u52a0\u751f\u547d\u5468\u671f getDerivedStateFromError \u4ee3\u66ff componentDidCatch"),a.a.createElement("li",null,"react ",a.a.createElement("code",null,"V16.8.0"),"\uff082019 \u5e74\uff09\uff1a\u589e\u52a0 ",a.a.createElement("code",null,"React Hooks"),"\uff0c\u7528\u6765\u89e3\u51b3\u72b6\u6001\u903b\u8f91\u590d\u7528\u95ee\u9898\uff0c\u4e14\u4e0d\u4f1a\u4ea7\u751f JSX \u5d4c\u5957\u5730\u72f1"),a.a.createElement("li",null,"2020 \u5e74\u53d1\u5e03 React ",a.a.createElement("code",null,"v17.0")," \u7248\u672c\uff1a\u4e8b\u4ef6\u7ed1\u5b9a\u7531",a.a.createElement("code",null," document \u53d8\u6210 container")," \uff0c\u79fb\u9664\u4e8b\u4ef6\u6c60\u7b49")),a.a.createElement("h2",{id:"2\u751f\u6001"},a.a.createElement(c["AnchorLink"],{to:"#2\u751f\u6001","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2.\u751f\u6001"),a.a.createElement("h3",{id:"1\u811a\u624b\u67b6\u6846\u67b6"},a.a.createElement(c["AnchorLink"],{to:"#1\u811a\u624b\u67b6\u6846\u67b6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u811a\u624b\u67b6/\u6846\u67b6"),a.a.createElement("ul",null,a.a.createElement("li",null,"umi\uff1a\u53ef\u63d2\u62d4\u7684\u4f01\u4e1a\u7ea7 react \u5e94\u7528\u6846\u67b6"),a.a.createElement("li",null,"create react app\uff1a\u5b98\u65b9\u652f\u6301\u7684\u521b\u5efa react \u5355\u9875\u5e94\u7528\u7a0b\u5e8f\u7684\u65b9\u6cd5"),a.a.createElement("li",null,"Nextjs\uff1assr \u6846\u67b6"),a.a.createElement("li",null,"React-vr\uff1avr \u6846\u67b6\uff0c\u9002\u7528\u4e8e\u5c55\u5385\u3001\u623f\u5c4b\u8bbe\u8ba1"),a.a.createElement("li",null,"Reactxp\uff1a\u591a\u7aef\u6846\u67b6")),a.a.createElement("h3",{id:"2\u7ec4\u4ef6\u5e93"},a.a.createElement(c["AnchorLink"],{to:"#2\u7ec4\u4ef6\u5e93","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u7ec4\u4ef6\u5e93"),a.a.createElement("ul",null,a.a.createElement("li",null,"ant Design \u7cfb\u5217\uff1apc\u3001mobile\uff0c\u5f15\u5165 Ant Design \u8bbe\u8ba1\u6982\u5ff5"),a.a.createElement("li",null,"Material-UI\uff1a\u5b9e\u73b0\u4e86\u8c37\u6b4c Material Design \u8bbe\u8ba1\u89c4\u8303\uff0c\u4e16\u754c\u6d41\u884c\u754c\u9762")),a.a.createElement("h3",{id:"3\u5de5\u5177\u7c7b"},a.a.createElement(c["AnchorLink"],{to:"#3\u5de5\u5177\u7c7b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u5de5\u5177\u7c7b"),a.a.createElement("ul",null,a.a.createElement("li",null,"Redux\uff1a\u9075\u5faa\u51fd\u6570\u5f0f\u7f16\u7a0b\u601d\u60f3\u7684\u72b6\u6001\u7ba1\u7406\u63d2\u4ef6"),a.a.createElement("li",null,"Mobx\uff1a\u9762\u5411\u5bf9\u8c61\u53d8\u8fc1\u548c\u54cd\u5e94\u5f0f\u7f16\u7a0b\u7684\u72b6\u6001\u7ba1\u7406\u63d2\u4ef6"),a.a.createElement("li",null,"Immutable-js\uff1a\u89e3\u51b3 javasript Immutable Data \u7684\u95ee\u9898")),a.a.createElement("h3",{id:"4\u8de8\u7aef\u7c7b"},a.a.createElement(c["AnchorLink"],{to:"#4\u8de8\u7aef\u7c7b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09\u8de8\u7aef\u7c7b"),a.a.createElement("ul",null,a.a.createElement("li",null,"Remax\uff1a\u963f\u91cc\u7684 React \u8de8\u7aef\u6846\u67b6\uff0c\u76ee\u524d\u652f\u6301\u652f\u4ed8\u5b9d\u3001\u5fae\u4fe1\u3001\u5b57\u8282\u5c0f\u7a0b\u5e8f"),a.a.createElement("li",null,"Taro\uff1a\u7c7b React \u8de8\u7aef\u6846\u67b6\uff0c\u652f\u6301\u4e3b\u6d41\u5c0f\u7a0b\u5e8f\u53ca React Native"),a.a.createElement("li",null,"React Native\uff1ajs \u7f16\u5199\u539f\u751f\u7684 React \u6846\u67b6")),a.a.createElement("h3",{id:"5\u5176\u4ed6"},a.a.createElement(c["AnchorLink"],{to:"#5\u5176\u4ed6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5\uff09\u5176\u4ed6"),a.a.createElement("ul",null,a.a.createElement("li",null,"react-window \u548c react-virtualized\uff1a\u865a\u62df\u6eda\u52a8\u5e93\uff0c\u63d0\u4f9b\u53ef\u670d\u7528\u7ec4\u4ef6\uff0c\u7528\u4e8e\u5c55\u793a\u5217\u8868\u3001\u7f51\u7edc\u548c\u8868\u683c\u6570\u636e")),a.a.createElement("h2",{id:"3reactdom"},a.a.createElement(c["AnchorLink"],{to:"#3reactdom","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3.ReactDOM"),a.a.createElement("ul",null,a.a.createElement("li",null,"react-dom \u7684 package \u63d0\u4f9b\u4e86\u53ef\u5728\u5e94\u7528\u9876\u5c42\u4f7f\u7528\u7684 DOM\uff08DOM-specific\uff09\u65b9\u6cd5\uff0c\u53ef\u4ee5\u628a\u8fd9\u4e9b\u65b9\u6cd5\u7528\u4e8e ",a.a.createElement("code",null,"React \u6a21\u578b\u4ee5\u5916\u7684\u5730\u65b9"))),a.a.createElement("h3",{id:"1render"},a.a.createElement(c["AnchorLink"],{to:"#1render","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09render()"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u5f53",a.a.createElement("code",null,"\u9996\u6b21"),"\u8c03\u7528\u65f6\uff0c\u5bb9\u5668\u8282\u70b9\u91cc\u7684\u6240\u6709 DOM \u5143\u7d20\u90fd\u4f1a\u88ab",a.a.createElement("code",null,"\u66ff\u6362"),"\uff0c",a.a.createElement("code",null,"\u540e\u7eed"),"\u7684\u8c03\u7528\u5219\u4f1a\u4f7f\u7528 React \u7684 DOM \u5dee\u5206\u7b97\u6cd5 DOM diffing algorithm\uff09\u8fdb\u884c\u9ad8\u6548\u7684",a.a.createElement("code",null,"\u66f4\u65b0"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u4e0d\u4f1a\u4fee\u6539\u5bb9\u5668\u8282\u70b9\uff08\u53ea\u4f1a\u4fee\u6539\u5bb9\u5668\u7684\u5b50\u8282\u70b9\uff09"))),a.a.createElement(r["a"],{code:"ReactDOM.render(element, container[, callback]);",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"element\uff1a\u88ab\u6e32\u67d3\u7684 React \u5143\u7d20\uff0c\u4f8b\u5982\u7ec4\u4ef6")),a.a.createElement("li",null,a.a.createElement("p",null,"container\uff1a\u6e32\u67d3\u5bb9\u5668")),a.a.createElement("li",null,a.a.createElement("p",null,"callback\uff1a\u5728\u7ec4\u4ef6\u88ab\u6e32\u67d3\u6216\u66f4\u65b0\u4e4b\u540e\u88ab\u6267\u884c"))),a.a.createElement("h3",{id:"2unmountcomponentatnode"},a.a.createElement(c["AnchorLink"],{to:"#2unmountcomponentatnode","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09unmountComponentAtNode"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4ece DOM \u4e2d",a.a.createElement("code",null,"\u5378\u8f7d\u7ec4\u4ef6"),"\uff0c\u4f1a\u5c06\u5176\u4e8b\u4ef6\u5904\u7406\u5668\uff08event handlers\uff09\u548c state \u4e00\u5e76\u6e05\u9664\u3002\u5982\u679c\u6307\u5b9a\u5bb9\u5668\u4e0a\u6ca1\u6709\u5bf9\u5e94\u5df2\u6302\u8f7d\u7684\u7ec4\u4ef6\uff0c\u8fd9\u4e2a\u51fd\u6570\u4ec0\u4e48\u4e5f\u4e0d\u4f1a\u505a\u3002\u5982\u679c\u7ec4\u4ef6",a.a.createElement("code",null,"\u88ab\u79fb\u9664"),"\u5c06\u4f1a\u8fd4\u56de ",a.a.createElement("code",null,"true"),"\uff0c\u5982\u679c",a.a.createElement("code",null,"\u6ca1\u6709"),"\u7ec4\u4ef6",a.a.createElement("code",null,"\u53ef\u88ab\u79fb\u9664"),"\u5c06\u4f1a\u8fd4\u56de ",a.a.createElement("code",null,"false"))),a.a.createElement(r["a"],{code:"ReactDOM.unmountComponentAtNode(container);",lang:"js"}),a.a.createElement("h3",{id:"3createportal"},a.a.createElement(c["AnchorLink"],{to:"#3createportal","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09createPortal()"),a.a.createElement(r["a"],{code:"ReactDOM.createPortal(child, container);",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u521b\u5efa ",a.a.createElement("code",null,"portal"),"\u3002Portal \u5c06\u5b50\u8282\u70b9\u6e32\u67d3\u5230\u5b58\u5728\u4e8e",a.a.createElement("code",null,"\u7236\u7ec4\u4ef6\u4ee5\u5916\u7684 DOM \u8282\u70b9"),"\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5f53",a.a.createElement("code",null,"\u7236\u7ec4\u4ef6"),"\u6709 overflow: hidden \u6216 z-index \u6837\u5f0f\u65f6\uff0c\u4f46\u4f60\u9700\u8981",a.a.createElement("code",null,"\u5b50\u7ec4\u4ef6"),"\u80fd\u591f\u5728\u89c6\u89c9\u4e0a",a.a.createElement("code",null,"\u201c\u8df3\u51fa\u201d"),"\u5176\u5bb9\u5668\u3002\u4f8b\u5982\uff0c\u5bf9\u8bdd\u6846\u3001\u60ac\u6d6e\u5361\u4ee5\u53ca\u63d0\u793a\u6846"))),a.a.createElement(r["a"],{code:"render() {\n  // React \u6302\u8f7d\u4e86\u4e00\u4e2a\u65b0\u7684 div\uff0c\u5e76\u4e14\u628a\u5b50\u5143\u7d20\u6e32\u67d3\u5176\u4e2d\n  return (\n    <div>\n      {this.props.children}\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("p",null,"=>"),a.a.createElement(r["a"],{code:"render() {\n  // React \u5e76*\u6ca1\u6709*\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 div\u3002\u5b83\u53ea\u662f\u628a\u5b50\u5143\u7d20\u6e32\u67d3\u5230 `domNode` \u4e2d\n  // `domNode` \u662f\u4e00\u4e2a\u53ef\u4ee5\u5728\u4efb\u4f55\u4f4d\u7f6e\u7684\u6709\u6548 DOM \u8282\u70b9\n  return ReactDOM.createPortal(\n    this.props.children,\n    domNode\n  );\n}",lang:"js"}),a.a.createElement("h3",{id:"4\u4f7f\u7528"},a.a.createElement(c["AnchorLink"],{to:"#4\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09\u4f7f\u7528"),a.a.createElement(r["a"],{code:"// \u5c01\u88c5\nimport ReactDOM from 'react-dom';\nimport { ReactElement } from 'react';\n\nexport function renderToBody(element: ReactElement) {\n  const container = document.createElement('div');\n  document.body.appendChild(container);\n  function unmount() {\n    const unmountResult = ReactDOM.unmountComponentAtNode(container);\n    if (unmountResult && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  }\n  ReactDOM.render(element, container);\n  return unmount;\n}\n\n// \u4f7f\u7528\nimport renderToBody from './renderToBody';\n\nconst Wrapper = () => {\n  return <div>Wrapper</div>;\n};\nconst unmount = renderToBody(<Wrapper />);\n\n// \u9500\u6bc1\uff0c\u6267\u884cunmount\u5373\u53ef\nunmount();",lang:"ts"}),a.a.createElement("h2",{id:"4jsx"},a.a.createElement(c["AnchorLink"],{to:"#4jsx","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4.jsx"),a.a.createElement("ul",null,a.a.createElement("li",null,"Babel \u4f1a\u628a JSX \u8f6c\u8bd1\u6210\u4e00\u4e2a\u540d\u4e3a ",a.a.createElement("code",null,"React.createElement()")," \u51fd\u6570\u8c03\u7528")),a.a.createElement("h3",{id:"1-babel-\u5904\u7406\u540e"},a.a.createElement(c["AnchorLink"],{to:"#1-babel-\u5904\u7406\u540e","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09 babel \u5904\u7406\u540e"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"babel-plugin-transform-react-jsx")," \u63d2\u4ef6\uff0c\u53ef\u4ee5\u5c06 jsx \u7f16\u8bd1\u4e3a react \u7684\u5185\u90e8\u2f45\u6cd5 createElement")),a.a.createElement(r["a"],{code:"React.createElement(type, [props], [...children]);",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"type"),"\uff1a\u5982\u679c\u662f\u7ec4\u4ef6\u7c7b\u578b\uff0c\u4f1a\u4f20\u5165\u7ec4\u4ef6\u5bf9\u5e94\u7684\u7c7b\u6216\u51fd\u6570\uff1b\u5982\u679c\u662f dom \u5143\u7d20\u7c7b\u578b\uff0c\u4f20\u5165 div \u6216\u8005 span \u4e4b\u7c7b\u7684\u5b57\u7b26\u4e32")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"props"),"\uff1a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5728 dom \u7c7b\u578b\u4e2d\u4e3a\u6807\u7b7e\u5c5e\u6027\uff0c\u5728\u7ec4\u4ef6\u7c7b\u578b\u4e2d\u4e3a props")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"children"),"\uff1a\u4f9d\u6b21\u4e3a children\uff0c\u6839\u636e\u987a\u5e8f\u6392\u5217"))),a.a.createElement(r["a"],{code:"import React from 'react';\n\nfunction Index() {\n  return (\n    <div>\n      <div className=\"gree\">gree</div>\n      Hello {this.props.name}\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("p",null,"=>"),a.a.createElement(r["a"],{code:"import React from 'react';\n\nfunction Index() {\n  return React.createElement(\n    'div',\n    null,\n    React.createElement(\n      'div',\n      {\n        className: 'gree',\n      },\n      'gree',\n    ),\n    'Hello ',\n    this.props.name,\n  );\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u8001\u7248\u672c\u7684 React \u4e2d\uff0c\u4e3a\u4ec0\u4e48\u5199 jsx \u7684\u6587\u4ef6\u8981\u9ed8\u8ba4",a.a.createElement("code",null,"\u5f15\u5165")," React?"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u56e0\u4e3a jsx \u5728\u88ab babel \u7f16\u8bd1\u540e\uff0c\u5199\u7684 jsx \u4f1a\u53d8\u6210\u4e0a\u8ff0 React.createElement \u5f62\u5f0f\uff0c\u6240\u4ee5\u9700\u8981\u5f15\u5165 React\uff0c",a.a.createElement("code",null,"\u9632\u6b62\u627e\u4e0d\u5230 React")," \u5f15\u8d77\u62a5\u9519")))),a.a.createElement("h3",{id:"2createelement-\u5904\u7406\u540e"},a.a.createElement(c["AnchorLink"],{to:"#2createelement-\u5904\u7406\u540e","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09createElement \u5904\u7406\u540e"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5916\u5c42\u7684 div \u88ab react.createElement \u8f6c\u6362\u6210 ",a.a.createElement("code",null,"react element")," \u5bf9\u8c61\uff0cdiv \u91cc\u9762\u7684 8 \u4e2a\u5143\u7d20\u5206\u522b\u8f6c\u6362\u6210 children \u5b50\u5143\u7d20\u5217\u8868")),a.a.createElement("h3",{id:"3-react-\u5e95\u5c42\u8c03\u548c\u5904\u7406"},a.a.createElement(c["AnchorLink"],{to:"#3-react-\u5e95\u5c42\u8c03\u548c\u5904\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09 React \u5e95\u5c42\u8c03\u548c\u5904\u7406"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6700\u7ec8\uff0c\u5728\u8c03\u548c\u9636\u6bb5\uff0cReact element \u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u5b50\u8282\u70b9\u90fd\u4f1a\u5f62\u6210\u4e00\u4e2a\u4e0e\u4e4b\u5bf9\u5e94\u7684 fiber \u5bf9\u8c61\uff0c\u7136\u540e\u901a\u8fc7 sibling\u3001return\u3001child \u5c06\u6bcf\u4e00\u4e2a fiber \u5bf9\u8c61\u8054\u7cfb\u8d77\u6765")),a.a.createElement(r["a"],{code:"export const FunctionComponent = 0; // \u51fd\u6570\u7ec4\u4ef6\nexport const ClassComponent = 1; // \u7c7b\u7ec4\u4ef6\nexport const IndeterminateComponent = 2; // \u521d\u59cb\u5316\u7684\u65f6\u5019\u4e0d\u77e5\u9053\u662f\u51fd\u6570\u7ec4\u4ef6\u8fd8\u662f\u7c7b\u7ec4\u4ef6\nexport const HostRoot = 3; // Root Fiber \u53ef\u4ee5\u7406\u89e3\u4e3a\u6839\u5143\u7d20 \uff0c \u901a\u8fc7reactDom.render()\u4ea7\u751f\u7684\u6839\u5143\u7d20\nexport const HostPortal = 4; // \u5bf9\u5e94  ReactDOM.createPortal \u4ea7\u751f\u7684 Portal\nexport const HostComponent = 5; // dom \u5143\u7d20 \u6bd4\u5982 <div>\nexport const HostText = 6; // \u6587\u672c\u8282\u70b9\nexport const Fragment = 7; // \u5bf9\u5e94 <React.Fragment>\nexport const Mode = 8; // \u5bf9\u5e94 <React.StrictMode>\nexport const ContextConsumer = 9; // \u5bf9\u5e94 <Context.Consumer>\nexport const ContextProvider = 10; // \u5bf9\u5e94 <Context.Provider>\nexport const ForwardRef = 11; // \u5bf9\u5e94 React.ForwardRef\nexport const Profiler = 12; // \u5bf9\u5e94 <Profiler/ >\nexport const SuspenseComponent = 13; // \u5bf9\u5e94 <Suspense>\nexport const MemoComponent = 14; // \u5bf9\u5e94 React.memo \u8fd4\u56de\u7684\u7ec4\u4ef6",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"fiber \u5bf9\u5e94\u5173\u7cfb\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,"child\uff1a \u4e00\u4e2a\u7531\u7236\u7ea7 fiber \u6307\u5411\u5b50\u7ea7 fiber \u7684\u6307\u9488"),a.a.createElement("li",null,"return\uff1a\u4e00\u4e2a\u5b50\u7ea7 fiber \u6307\u5411\u7236\u7ea7 fiber \u7684\u6307\u9488"),a.a.createElement("li",null,"sibiling: \u4e00\u4e2a fiber \u6307\u5411\u4e0b\u4e00\u4e2a\u5144\u5f1f fiber \u7684\u6307\u9488"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5bf9\u4e8e\u4e0a\u8ff0\u5728 jsx \u4e2d\u5199\u7684 map \u6570\u7ec4\u7ed3\u6784\u7684\u5b50\u8282\u70b9\uff0c\u5916\u5c42\u4f1a\u88ab\u52a0\u4e0a fragment"),a.a.createElement("ul",null,a.a.createElement("li",null,"map \u8fd4\u56de\u6570\u7ec4\u7ed3\u6784\uff0c\u4f5c\u4e3a fragment \u7684\u5b50\u8282\u70b9")))),a.a.createElement("h3",{id:"4reactchildrentoarray-\u6241\u5e73\u5316\u89c4\u8303\u5316-children-\u6570\u7ec4"},a.a.createElement(c["AnchorLink"],{to:"#4reactchildrentoarray-\u6241\u5e73\u5316\u89c4\u8303\u5316-children-\u6570\u7ec4","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09React.Children.toArray \u6241\u5e73\u5316\uff0c\u89c4\u8303\u5316 children \u6570\u7ec4"),a.a.createElement("ul",null,a.a.createElement("li",null,"React.Children.toArray \u53ef\u4ee5",a.a.createElement("code",null,"\u6241\u5e73\u5316"),"\u3001",a.a.createElement("code",null,"\u89c4\u8303\u5316")," React.element \u7684 ",a.a.createElement("code",null,"children")," \u7ec4\u6210\u7684\u6570\u7ec4"),a.a.createElement("li",null,"React.Children.toArray \u8fd8\u53ef\u4ee5",a.a.createElement("code",null,"\u6df1\u5c42\u6b21 flat"))),a.a.createElement("h3",{id:"5cloneelement"},a.a.createElement(c["AnchorLink"],{to:"#5cloneelement","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5\uff09cloneElement"),a.a.createElement("ul",null,a.a.createElement("li",null,"cloneElement \u7684\u4f5c\u7528\u662f\u4ee5 element \u5143\u7d20\u4e3a\u6837\u677f\u514b\u9686\u5e76\u8fd4\u56de\u65b0\u7684 React element \u5143\u7d20\u3002\u8fd4\u56de\u5143\u7d20\u7684 props \u662f\u5c06\u65b0\u7684 props \u4e0e\u539f\u59cb\u5143\u7d20\u7684 props \u6d45\u5c42\u5408\u5e76\u540e\u7684\u7ed3\u679c")),a.a.createElement("h2",{id:"5\u4e8b\u4ef6\u7cfb\u7edf"},a.a.createElement(c["AnchorLink"],{to:"#5\u4e8b\u4ef6\u7cfb\u7edf","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5.\u4e8b\u4ef6\u7cfb\u7edf"),a.a.createElement("ul",null,a.a.createElement("li",null,"1.\u7ed9\u5143\u7d20\u7ed1\u5b9a\u7684\u4e8b\u4ef6\uff0c\u4e0d\u662f\u771f\u6b63\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"),a.a.createElement("li",null,"2.\u5728\u5192\u6ce1/\u6355\u83b7\u9636\u6bb5\u7ed1\u5b9a\u7684\u4e8b\u4ef6\uff0c\u4e5f\u4e0d\u662f\u5728\u5192\u6ce1/\u6355\u83b7\u9636\u6bb5\u6267\u884c\u7684"),a.a.createElement("li",null,"3.\u751a\u81f3\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\u62ff\u5230\u7684\u4e8b\u4ef6\u6e90 e \uff0c\u4e5f\u4e0d\u662f\u771f\u6b63\u7684\u4e8b\u4ef6\u6e90 e")),a.a.createElement("h3",{id:"1\u539f\u56e0"},a.a.createElement(c["AnchorLink"],{to:"#1\u539f\u56e0","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u539f\u56e0"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u5bf9\u4e8e\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\uff0c\u5bf9\u4e8b\u4ef6\u5b58\u5728\u4e0d\u540c\u7684\u517c\u5bb9\u6027\uff0cReact \u60f3\u5b9e\u73b0\u4e00\u4e2a",a.a.createElement("code",null,"\u517c\u5bb9\u5168\u6d4f\u89c8\u5668\u7684\u6846\u67b6"),"\uff0c \u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\u5c31\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u517c\u5bb9\u5168\u6d4f\u89c8\u5668\u7684\u4e8b\u4ef6\u7cfb\u7edf\uff0c\u4ee5\u6b64",a.a.createElement("code",null,"\u62b9\u5e73\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u5dee\u5f02"))),a.a.createElement("li",null,a.a.createElement("p",null,"v17 \u4e4b\u524d React \u4e8b\u4ef6\u90fd\u662f\u7ed1\u5b9a\u5728 ",a.a.createElement("code",null,"document")," \u4e0a\uff0cv17 \u4e4b\u540e React \u628a\u4e8b\u4ef6\u7ed1\u5b9a\u5728\u5e94\u7528\u5bf9\u5e94\u7684\u5bb9\u5668 ",a.a.createElement("code",null,"container"),"(#root) \u4e0a\uff0c\u5c06\u4e8b\u4ef6\u7ed1\u5b9a\u5728\u540c\u4e00\u5bb9\u5668\u7edf\u4e00\u7ba1\u7406\uff0c\u9632\u6b62\u5f88\u591a\u4e8b\u4ef6\u76f4\u63a5\u7ed1\u5b9a\u5728\u539f\u751f\u7684 DOM \u5143\u7d20\u4e0a\u3002\u9020\u6210\u4e00\u4e9b\u4e0d\u53ef\u63a7\u7684\u60c5\u51b5\u3002\u7531\u4e8e\u4e0d\u662f\u7ed1\u5b9a\u5728\u771f\u5b9e\u7684 DOM \u4e0a\uff0c\u6240\u4ee5 React \u9700\u8981\u6a21\u62df\u4e00\u5957\u4e8b\u4ef6\u6d41\uff1a\u4e8b\u4ef6\u6355\u83b7-> \u4e8b\u4ef6\u6e90 -> \u4e8b\u4ef6\u5192\u6ce1\uff0c\u4e5f\u5305\u62ec\u91cd\u5199\u4e00\u4e0b\u4e8b\u4ef6\u6e90\u5bf9\u8c61 event")),a.a.createElement("li",null,a.a.createElement("p",null,"\u8fd9\u79cd\u4e8b\u4ef6\u7cfb\u7edf\uff0c\u5927\u90e8\u5206\u5904\u7406\u903b\u8f91\u90fd\u5728\u5e95\u5c42\u5904\u7406\u4e86\uff0c\u8fd9\u5bf9\u540e\u671f\u7684 ",a.a.createElement("code",null,"ssr")," \u548c",a.a.createElement("code",null,"\u8de8\u7aef\u652f\u6301\u5ea6"),"\u5f88\u9ad8"))),a.a.createElement("h3",{id:"2\u5192\u6ce1\u9636\u6bb5\u548c\u6355\u83b7\u9636\u6bb5"},a.a.createElement(c["AnchorLink"],{to:"#2\u5192\u6ce1\u9636\u6bb5\u548c\u6355\u83b7\u9636\u6bb5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u5192\u6ce1\u9636\u6bb5\u548c\u6355\u83b7\u9636\u6bb5"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5192\u6ce1\u9636\u6bb5\uff1a\u5f00\u53d1\u8005\u6b63\u5e38\u7ed9 React \u7ed1\u5b9a\u7684\u4e8b\u4ef6\u6bd4\u5982 onClick\uff0conChange\uff0c\u9ed8\u8ba4\u4f1a\u5728\u6a21\u62df\u5192\u6ce1\u9636\u6bb5\u6267\u884c"),a.a.createElement("li",null,"\u6355\u83b7\u9636\u6bb5\uff1a\u5982\u679c\u60f3\u8981\u5728\u6355\u83b7\u9636\u6bb5\u6267\u884c\u53ef\u4ee5\u5c06\u4e8b\u4ef6\u540e\u9762\u52a0\u4e0a ",a.a.createElement("code",null,"Capture")," \u540e\u7f00\uff0c\u6bd4\u5982 onClickCapture\uff0conChangeCapture")),a.a.createElement(r["a"],{code:"export default function Index() {\n  const handleClick = () => {\n    console.log('\u6a21\u62df\u5192\u6ce1\u9636\u6bb5\u6267\u884c');\n  };\n  const handleClickCapture = () => {\n    console.log('\u6a21\u62df\u6355\u83b7\u9636\u6bb5\u6267\u884c');\n  };\n  return (\n    <div>\n      <button onClick={handleClick} onClickCapture={handleClickCapture}>\n        \u70b9\u51fb\n      </button>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("h3",{id:"3\u963b\u6b62\u5192\u6ce1"},a.a.createElement(c["AnchorLink"],{to:"#3\u963b\u6b62\u5192\u6ce1","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u963b\u6b62\u5192\u6ce1"),a.a.createElement("p",null,a.a.createElement("strong",null,"1.\u963b\u6b62 react \u5408\u6210\u4e8b\u4ef6")),a.a.createElement("ul",null,a.a.createElement("li",null,"e.stopPropagation()")),a.a.createElement("p",null,a.a.createElement("strong",null,"2.\u963b\u6b62 document.addEventListener \u6ce8\u518c\u7684\u539f\u751f\u4e8b\u4ef6")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7528 e.stopPropagation()\u662f\u4e0d\u80fd\u963b\u6b62\u4e0e document \u4e4b\u95f4\u7684\u5192\u6ce1"),a.a.createElement("li",null,"\u8fd9\u65f6\u5019\u9700\u8981\u7528\u5230",a.a.createElement("code",null,"e.nativeEvent.stopImmediatePropagation()"),"\u65b9\u6cd5\uff0c")),a.a.createElement("p",null,a.a.createElement("strong",null,"3.\u963b\u6b62\u5408\u6210\u4e8b\u4ef6\u4e0e\u975e\u5408\u6210\u4e8b\u4ef6\uff08\u9664\u4e86 document\uff09\u4e4b\u95f4\u7684\u5192\u6ce1")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u9700\u8981\u7528\u5230 e.target \u5224\u65ad"),a.a.createElement(r["a"],{code:"if (e.target && e.target === document.querySelector('#inner')) {\n  return;\n}",lang:"js"}))),a.a.createElement("h3",{id:"4\u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a"},a.a.createElement(c["AnchorLink"],{to:"#4\u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09\u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"\u539f\u751f\u4e8b\u4ef6"),"\uff1a",a.a.createElement("code",null," e.preventDefault()")," \u548c ",a.a.createElement("code",null,"return false")," \u53ef\u4ee5\u7528\u6765\u963b\u6b62\u4e8b\u4ef6\u9ed8\u8ba4\u884c\u4e3a")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"React\u4e8b\u4ef6"),"\uff1a \u5728 React \u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u7528 ",a.a.createElement("code",null,"e.preventDefault()")," \u963b\u6b62\u4e8b\u4ef6\u9ed8\u8ba4\u884c\u4e3a\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5e76\u975e\u662f\u539f\u751f\u4e8b\u4ef6\u7684 preventDefault \uff0c\u7531\u4e8e React \u4e8b\u4ef6\u6e90 e \u4e5f\u662f\u72ec\u7acb\u7ec4\u5efa\u7684\uff0c\u6240\u4ee5 preventDefault \u4e5f\u662f\u5355\u72ec\u5904\u7406\u7684"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7531\u4e8e\u5728 React \u4e2d\u7ed9\u5143\u7d20\u7684\u4e8b\u4ef6",a.a.createElement("code",null,"\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"),"\u3002\u6240\u4ee5\u5bfc\u81f4 ",a.a.createElement("code",null,"return false")," \u65b9\u6cd5\u5728 React \u5e94\u7528\u4e2d\u5b8c\u5168",a.a.createElement("code",null,"\u5931\u53bb"),"\u4e86",a.a.createElement("code",null,"\u4f5c\u7528"))))),a.a.createElement("h3",{id:"5\u4e8b\u4ef6\u5408\u6210"},a.a.createElement(c["AnchorLink"],{to:"#5\u4e8b\u4ef6\u5408\u6210","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5\uff09\u4e8b\u4ef6\u5408\u6210"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7b2c\u4e00\u4e2a\u90e8\u5206\u662f\u4e8b\u4ef6\u5408\u6210\u7cfb\u7edf\uff0c\u521d\u59cb\u5316\u4f1a\u6ce8\u518c\u4e0d\u540c\u7684\u4e8b\u4ef6\u63d2\u4ef6"),a.a.createElement("li",null,"\u7b2c\u4e8c\u4e2a\u5c31\u662f\u5728\u4e00\u6b21\u6e32\u67d3\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u4e8b\u4ef6\u6807\u7b7e\u4e2d\u4e8b\u4ef6\u7684\u6536\u96c6\uff0c\u5411 ",a.a.createElement("code",null,"container")," \u6ce8\u518c\u4e8b\u4ef6"),a.a.createElement("li",null,"\u7b2c\u4e09\u4e2a\u5c31\u662f\u4e00\u6b21\u7528\u6237\u4ea4\u4e92\uff0c\u4e8b\u4ef6\u89e6\u53d1\uff0c\u5230\u4e8b\u4ef6\u6267\u884c\u4e00\u7cfb\u5217\u8fc7\u7a0b")),a.a.createElement("h3",{id:"6\u4e8b\u4ef6\u5408\u6210\u6982\u5ff5"},a.a.createElement(c["AnchorLink"],{to:"#6\u4e8b\u4ef6\u5408\u6210\u6982\u5ff5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"6\uff09\u4e8b\u4ef6\u5408\u6210\u6982\u5ff5"),a.a.createElement("ul",null,a.a.createElement("li",null,"React \u7684\u4e8b\u4ef6\u4e0d\u662f\u7ed1\u5b9a\u5728\u5143\u7d20\u4e0a\u7684\uff0c\u800c\u662f",a.a.createElement("code",null,"\u7edf\u4e00\u7ed1\u5b9a\u5728\u9876\u90e8\u5bb9\u5668\u4e0a"),"\uff0c\u5728 v17 \u4e4b\u524d\u662f\u7ed1\u5b9a\u5728 ",a.a.createElement("code",null,"document")," \u4e0a\u7684\uff0c\u5728 v17 \u6539\u6210\u4e86 ",a.a.createElement("code",null,"app")," \u5bb9\u5668\u4e0a\u3002\u8fd9\u6837\u66f4\u5229\u4e8e\u4e00\u4e2a html \u4e0b\u5b58\u5728\u591a\u4e2a\u5e94\u7528\uff08",a.a.createElement("code",null,"\u5fae\u524d\u7aef"),"\uff09"),a.a.createElement("li",null,"\u7ed1\u5b9a\u4e8b\u4ef6\u5e76",a.a.createElement("code",null,"\u4e0d\u662f\u4e00\u6b21\u6027\u7ed1\u5b9a\u6240\u6709\u4e8b\u4ef6"),"\uff0c\u6bd4\u5982\u53d1\u73b0\u4e86 onClick \u4e8b\u4ef6\uff0c\u5c31\u4f1a\u7ed1\u5b9a click \u4e8b\u4ef6\uff0c\u6bd4\u5982\u53d1\u73b0 onChange \u4e8b\u4ef6\uff0c\u4f1a\u7ed1\u5b9a [blur\uff0cchange \uff0cfocus \uff0ckeydown\uff0ckeyup] \u591a\u4e2a\u4e8b\u4ef6"),a.a.createElement("li",null,"React \u4e8b\u4ef6\u5408\u6210\u7684\u6982\u5ff5\uff1aReact \u5e94\u7528\u4e2d\uff0c\u5143\u7d20\u7ed1\u5b9a\u7684",a.a.createElement("code",null,"\u4e8b\u4ef6"),"\u5e76",a.a.createElement("code",null,"\u4e0d\u662f\u539f\u751f\u4e8b\u4ef6"),"\uff0c\u800c",a.a.createElement("code",null,"\u662f React \u5408\u6210\u7684\u4e8b\u4ef6"),"\uff0c\u6bd4\u5982 onClick \u662f\u7531 click \u5408\u6210\uff0conChange \u662f\u7531 blur \uff0cchange \uff0cfocus \u7b49\u591a\u4e2a\u4e8b\u4ef6\u5408\u6210")),a.a.createElement("h3",{id:"7\u4e8b\u4ef6\u63d2\u4ef6\u673a\u5236"},a.a.createElement(c["AnchorLink"],{to:"#7\u4e8b\u4ef6\u63d2\u4ef6\u673a\u5236","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"7\uff09\u4e8b\u4ef6\u63d2\u4ef6\u673a\u5236"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e0d\u540c\u7684\u4e8b\u4ef6\u4f1a\u6709\u4e0d\u540c\u7684\u4e8b\u4ef6\u63d2\u4ef6\u5904\u7406")),a.a.createElement("p",null,a.a.createElement("strong",null,"1.registrationNameModules")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u8bb0\u5f55\u4e86 React \u4e8b\u4ef6\uff08\u6bd4\u5982 onBlur \uff09\u548c\u4e0e\u4e4b\u5bf9\u5e94\u7684\u5904\u7406\u63d2\u4ef6\u7684\u6620\u5c04")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5e94\u7528\u4e8e\u4e8b\u4ef6\u89e6\u53d1\u9636\u6bb5\uff0c\u6839\u636e\u4e0d\u540c\u4e8b\u4ef6\u4f7f\u7528\u4e0d\u540c\u7684\u63d2\u4ef6")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5bf9\u4e8e\u4e0d\u540c\u7684\u4e8b\u4ef6\uff0c\u6709\u4e0d\u540c\u7684\u5904\u7406\u903b\u8f91\uff1b\u5bf9\u5e94\u7684\u4e8b\u4ef6\u6e90\u5bf9\u8c61\u4e5f\u6709\u6240\u4e0d\u540c\uff0cReact \u7684\u4e8b\u4ef6\u548c\u4e8b\u4ef6\u6e90\u662f\u81ea\u5df1\u5408\u6210\u7684\uff0c\u6240\u4ee5\u5bf9\u4e8e\u4e0d\u540c\u4e8b\u4ef6\u9700\u8981\u4e0d\u540c\u7684\u4e8b\u4ef6\u63d2\u4ef6\u5904\u7406"))),a.a.createElement("p",null,a.a.createElement("strong",null,"2.registrationNameDependencies")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u8fd9\u4e2a\u5bf9\u8c61\u4fdd\u5b58\u4e86 React \u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6",a.a.createElement("code",null,"\u5bf9\u5e94\u5173\u7cfb"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5728\u4e8b\u4ef6\u7ed1\u5b9a\u9636\u6bb5\uff0c\u5982\u679c\u53d1\u73b0\u6709 React \u4e8b\u4ef6\uff0c\u6bd4\u5982 onChange \uff0c\u5c31\u4f1a\u627e\u5230",a.a.createElement("code",null,"\u5bf9\u5e94\u7684\u539f\u751f\u4e8b\u4ef6\u6570\u7ec4"),"\uff0c",a.a.createElement("code",null,"\u9010\u4e00\u7ed1\u5b9a")))),a.a.createElement("h3",{id:"8\u4e8b\u4ef6\u7ed1\u5b9a"},a.a.createElement(c["AnchorLink"],{to:"#8\u4e8b\u4ef6\u7ed1\u5b9a","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"8\uff09\u4e8b\u4ef6\u7ed1\u5b9a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"1.\u5728 React ",a.a.createElement("code",null,"\u5904\u7406 props")," \u65f6\u5019\uff0c\u5982\u679c\u9047\u5230\u4e8b\u4ef6\u6bd4\u5982 onClick \uff0c\u5c31\u4f1a\u901a\u8fc7 ",a.a.createElement("code",null,"addEventListener")," \u6ce8\u518c\u539f\u751f\u4e8b\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,"onClick \u4f1a\u4fdd\u5b58\u5728\u5bf9\u5e94 DOM \u5143\u7d20\u7c7b\u578b ",a.a.createElement("code",null,"fiber")," \u5bf9\u8c61\uff08 ",a.a.createElement("code",null,"hostComponent")," \uff09\u7684 ",a.a.createElement("code",null,"memoizedProps")," \u5c5e\u6027\u4e0a"))),a.a.createElement("li",null,a.a.createElement("p",null,"2.React \u6839\u636e\u4e8b\u4ef6\u6ce8\u518c\u4e8b\u4ef6\u76d1\u542c\u5668"),a.a.createElement("ul",null,a.a.createElement("li",null,"diffProperties \u51fd\u6570\u5728 diff props \u5982\u679c\u53d1\u73b0\u662f\u5408\u6210\u4e8b\u4ef6( onClick ) \u5c31\u4f1a\u8c03\u7528 legacyListenToEvent \u51fd\u6570")),a.a.createElement(r["a"],{code:"function diffProperties(){\n  /* \u5224\u65ad\u5f53\u524d\u7684 propKey \u662f\u4e0d\u662f React\u5408\u6210\u4e8b\u4ef6 */\n  if(registrationNameModules.hasOwnProperty(propKey)){\n    /* \u8fd9\u91cc\u591a\u4e2a\u51fd\u6570\u7b80\u5316\u4e86\uff0c\u5982\u679c\u662f\u5408\u6210\u4e8b\u4ef6\uff0c \u4f20\u5165\u6210\u4e8b\u4ef6\u540d\u79f0 onClick \uff0c\u5411document\u6ce8\u518c\u4e8b\u4ef6  */\n    legacyListenToEvent(registrationName, document\uff09;\n  }\n}",lang:"js"})),a.a.createElement("li",null,a.a.createElement("p",null,"3.",a.a.createElement("code",null,"egacyListenToEvent")," \u6ce8\u518c\u4e8b\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5bf9 React \u5408\u6210\u4e8b\u4ef6\uff0c\u5206\u522b\u7ed1\u5b9a\u539f\u751f\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u76d1\u542c\u5668"),a.a.createElement("li",null,"\u904d\u5386\u7ed1\u5b9a")))),a.a.createElement(r["a"],{code:"function legacyListenToEvent(registrationName\uff0cmountAt){\n   const dependencies = registrationNameDependencies[registrationName]; // \u6839\u636e onClick \u83b7\u53d6  onClick \u4f9d\u8d56\u7684\u4e8b\u4ef6\u6570\u7ec4 [ 'click' ]\u3002\n    for (let i = 0; i < dependencies.length; i++) {\n    const dependency = dependencies[i];\n    //  addEventListener \u7ed1\u5b9a\u4e8b\u4ef6\u76d1\u542c\u5668\n    ...\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"4.\u7ed1\u5b9a\u5728 ",a.a.createElement("code",null,"document")," \u7684\u4e8b\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u662f React \u7edf\u4e00\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570 ",a.a.createElement("code",null,"dispatchEvent")," \uff0cReact \u9700\u8981\u4e00\u4e2a\u7edf\u4e00\u6d41\u7a0b\u53bb\u4ee3\u7406\u4e8b\u4ef6\u903b\u8f91\uff0c\u5305\u62ec React \u6279\u91cf\u66f4\u65b0\u7b49\u903b\u8f91"),a.a.createElement("li",null,"React \u4e8b\u4ef6\u89e6\u53d1\uff0c\u9996\u5148\u6267\u884c\u7684\u5c31\u662f dispatchEvent"),a.a.createElement("li",null,"dispatchEvent \u662f\u5982\u4f55\u77e5\u9053\u662f\u4ec0\u4e48\u4e8b\u4ef6\u89e6\u53d1\u7684\u5462?",a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u6ce8\u518c\u7684\u65f6\u5019\uff0c\u5c31\u5df2\u7ecf\u901a\u8fc7 bind \uff0c\u628a\u53c2\u6570\u7ed1\u5b9a\u7ed9 dispatchEvent \u4e86")))))),a.a.createElement("h3",{id:"9\u4e8b\u4ef6\u89e6\u53d1"},a.a.createElement(c["AnchorLink"],{to:"#9\u4e8b\u4ef6\u89e6\u53d1","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"9\uff09\u4e8b\u4ef6\u89e6\u53d1"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u6279\u91cf\u66f4\u65b0")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5408\u6210\u4e8b\u4ef6\u6e90"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4f1a\u901a\u8fc7 onClick \u627e\u5230\u5bf9\u5e94\u7684\u5904\u7406\u63d2\u4ef6 SimpleEventPlugin \uff0c\u5408\u6210\u65b0\u7684\u4e8b\u4ef6\u6e90 e \uff0c\u91cc\u9762\u5305\u542b\u4e86 preventDefault \u548c stopPropagation \u7b49\u65b9\u6cd5"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5f62\u6210\u4e8b\u4ef6\u6267\u884c\u961f\u5217"))),a.a.createElement("h3",{id:"10react-\u5982\u4f55\u6a21\u62df\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1"},a.a.createElement(c["AnchorLink"],{to:"#10react-\u5982\u4f55\u6a21\u62df\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"10\uff09React \u5982\u4f55\u6a21\u62df\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1"),a.a.createElement(r["a"],{code:"export default function Index() {\n  const handleClick1 = () => console.log(1);\n  const handleClick2 = () => console.log(2);\n  const handleClick3 = () => console.log(3);\n  const handleClick4 = () => console.log(4);\n  return (\n    <div onClick={handleClick3} onClickCapture={handleClick4}>\n      <button onClick={handleClick1} onClickCapture={handleClick2}>\n        \u70b9\u51fb\n      </button>\n    </div>\n  );\n}\n\nfunction runEventsInBatch() {\n  const dispatchListeners = event._dispatchListeners;\n  if (Array.isArray(dispatchListeners)) {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        /* \u5224\u65ad\u662f\u5426\u5df2\u7ecf\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1 */\n        break;\n      }\n      dispatchListeners[i](event); /* \u6267\u884c\u771f\u6b63\u7684\u5904\u7406\u51fd\u6570 \u53cahandleClick1... */\n    }\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5047\u8bbe\u5728\u4e0a\u8ff0\u961f\u5217\u4e2d\uff0chandleClick2 \u4e2d\u8c03\u7528 e.stopPropagation()\uff0c\u90a3\u4e48\u4e8b\u4ef6\u6e90\u91cc\u5c06\u6709\u72b6\u6001\u8bc1\u660e\u6b64\u6b21\u4e8b\u4ef6\u5df2\u7ecf\u505c\u6b62\u5192\u6ce1\uff0c\u90a3\u4e48\u4e0b\u6b21\u904d\u5386\u7684\u65f6\u5019\uff0c event.",a.a.createElement("code",null,"isPropagationStopped"),"() \u5c31\u4f1a\u8fd4\u56de true \uff0c\u6240\u4ee5\u8df3\u51fa\u5faa\u73af\uff0chandleClick1, handleClick3 \u5c06\u4e0d\u518d\u6267\u884c\uff0c\u6a21\u62df\u4e86\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\u7684\u8fc7\u7a0b\u3002")),a.a.createElement("h2",{id:"6\u51fd\u6570\u7ec4\u4ef6\u548c-class-\u7ec4\u4ef6"},a.a.createElement(c["AnchorLink"],{to:"#6\u51fd\u6570\u7ec4\u4ef6\u548c-class-\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"6.\u51fd\u6570\u7ec4\u4ef6\u548c class \u7ec4\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ec4\u4ef6\u672c\u8d28\u4e0a\u5c31\u662f\u7c7b\u548c\u51fd\u6570")),a.a.createElement(r["a"],{code:"//\u51fd\u6570\u7ec4\u4ef6\nfunction Foo(props) {\n  return <div>{props.text || 'Foo'}</div>;\n}\n\n//\u7c7b\u7ec4\u4ef6\nclass Bar extends React.Component {\n  render() {\n    return <div>{this.props.text || 'Bar'}</div>;\n  }\n}",lang:"js"}),a.a.createElement("h3",{id:"1class-\u7c7b\u7ec4\u4ef6"},a.a.createElement(c["AnchorLink"],{to:"#1class-\u7c7b\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09class \u7c7b\u7ec4\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7c7b\u7ec4\u4ef6\u6267\u884c\u6784\u9020\u51fd\u6570\u8fc7\u7a0b\u4e2d\u4f1a\u5728\u5b9e\u4f8b\u4e0a\u7ed1\u5b9a props \u548c context"),a.a.createElement("li",null,"\u521d\u59cb\u5316\u7f6e\u7a7a refs \u5c5e\u6027\uff0c\u539f\u578b\u94fe\u4e0a\u7ed1\u5b9a setState\u3001forceUpdate \u65b9\u6cd5"),a.a.createElement("li",null,"\u5bf9\u4e8e updater\uff0cReact \u5728\u5b9e\u4f8b\u5316\u7c7b\u7ec4\u4ef6\u4e4b\u540e\u4f1a\u5355\u72ec\u7ed1\u5b9a update \u5bf9\u8c61")),a.a.createElement(r["a"],{code:"function Component(props, context, updater) {\n  this.props = props; // \u7ed1\u5b9aprops\n  this.context = context; // \u7ed1\u5b9acontext\n  this.refs = emptyObject; // \u7ed1\u5b9aref\n  this.updater = updater || ReactNoopUpdateQueue; // \u4e0a\u9762\u6240\u5c5e\u7684updater \u5bf9\u8c61\n}\n/* \u7ed1\u5b9asetState \u65b9\u6cd5 */\nComponent.prototype.setState = function (partialState, callback) {\n  this.updater.enqueueSetState(this, partialState, callback, 'setState');\n};\n/* \u7ed1\u5b9aforceupdate \u65b9\u6cd5 */\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, 'forceUpdate');\n};",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"props \u662f\u5728\u7236\u7c7b Component \u6784\u9020\u51fd\u6570\u4e2d\uff0c\u6267\u884c super \u7b49\u4e8e\u6267\u884c Component \u51fd\u6570")),a.a.createElement("li",null,a.a.createElement("p",null,"class \u7ec4\u4ef6",a.a.createElement("code",null,"\u9700\u8981"),"\u4f7f\u7528 ",a.a.createElement("code",null,"new")," \u5b9e\u4f8b\u5316"))),a.a.createElement("h3",{id:"2\u51fd\u6570\u7ec4\u4ef6"},a.a.createElement(c["AnchorLink"],{to:"#2\u51fd\u6570\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u51fd\u6570\u7ec4\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e0d\u8981\u5c1d\u8bd5\u7ed9\u51fd\u6570\u7ec4\u4ef6 prototype \u7ed1\u5b9a\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5373\u4f7f\u7ed1\u5b9a\u4e86\u4e5f\u6ca1\u6709\u4efb\u4f55\u4f5c\u7528\uff0c\u56e0\u4e3a React \u662f\u91c7\u7528",a.a.createElement("code",null,"\u76f4\u63a5\u6267\u884c\u51fd\u6570\u7684\u65b9\u5f0f"),"\uff0c\u800c",a.a.createElement("code",null,"\u4e0d\u662f"),"\u901a\u8fc7 ",a.a.createElement("code",null,"new")," \u7684\u65b9\u5f0f")),a.a.createElement("h3",{id:"3\u533a\u522b"},a.a.createElement(c["AnchorLink"],{to:"#3\u533a\u522b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u533a\u522b"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u5bf9\u4e8e",a.a.createElement("code",null,"\u7c7b\u7ec4\u4ef6"),"\u6765\u8bf4\uff0c\u5e95\u5c42",a.a.createElement("code",null,"\u53ea"),"\u9700\u8981",a.a.createElement("code",null,"\u5b9e\u4f8b\u5316\u4e00\u6b21"),"\uff0c\u5b9e\u4f8b\u4e2d\u4fdd\u5b58\u4e86\u7ec4\u4ef6\u7684 state \u7b49\u72b6\u6001\u3002\u5bf9\u4e8e\u6bcf\u4e00\u6b21\u66f4\u65b0\u53ea\u9700\u8981\u8c03\u7528 render \u65b9\u6cd5\u4ee5\u53ca\u5bf9\u5e94\u7684\u751f\u547d\u5468\u671f\u5c31\u53ef\u4ee5\u4e86")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5728",a.a.createElement("code",null,"\u51fd\u6570\u7ec4\u4ef6"),"\u4e2d\uff0c",a.a.createElement("code",null,"\u6bcf\u4e00\u6b21\u66f4\u65b0\u90fd\u662f\u4e00\u6b21\u65b0\u7684\u51fd\u6570\u6267\u884c"),"\uff0c\u4e00\u6b21\u51fd\u6570\u7ec4\u4ef6\u7684\u66f4\u65b0\uff0c\u91cc\u9762\u7684",a.a.createElement("code",null,"\u53d8\u91cf\u4f1a\u91cd\u65b0\u58f0\u660e"))),a.a.createElement("li",null,a.a.createElement("p",null,"React Hooks \u53ef\u4ee5\u5e2e\u52a9",a.a.createElement("code",null,"\u8bb0\u5f55")," React \u4e2d\u7ec4\u4ef6\u7684",a.a.createElement("code",null,"\u72b6\u6001"),"\uff0c\u5904\u7406\u4e00\u4e9b\u989d\u5916\u7684\u526f\u4f5c\u7528"))),a.a.createElement("h2",{id:"7\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6"},a.a.createElement(c["AnchorLink"],{to:"#7\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"7.\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u53d7\u63a7\u7ec4\u4ef6\uff1a\u8868\u5355",a.a.createElement("code",null,"\u6570\u636e"),"\u662f\u7531 ",a.a.createElement("code",null,"React")," \u7ec4\u4ef6\u6765",a.a.createElement("code",null,"\u7ba1\u7406"),"\u7684\uff0c\u63a8\u8350\u4f7f\u7528")),a.a.createElement("li",null,a.a.createElement("p",null,"\u975e\u53d7\u63a7\u7ec4\u4ef6\uff1a\u8868\u5355",a.a.createElement("code",null,"\u6570\u636e"),"\u5c06\u4ea4",a.a.createElement("code",null,"\u7531 DOM \u8282\u70b9\u6765\u5904\u7406"),"\uff0c\u53ef\u4ee5\u901a\u8fc7 ref \u83b7\u53d6\u8868\u5355\u4e2d\u6570\u636e"))),a.a.createElement(r["a"],{code:'//\u53d7\u63a7\u7ec4\u4ef6\nclass Form extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \'\',\n    };\n  }\n\n  handleNameChange = (event) => {\n    this.setState({ name: event.target.value });\n  };\n\n  render() {\n    return (\n      <div>\n        <input\n          type="text"\n          value={this.state.name}\n          onChange={this.handleNameChange}\n        />\n      </div>\n    );\n  }\n}\n\n//\u975e\u53d7\u63a7\u7ec4\u4ef6\nclass Form extends Component {\n  handleSubmitClick = () => {\n    const name = this._name.value;\n    // do something with `name`\n  };\n\n  render() {\n    return (\n      <div>\n        {/* defaultValue\u4e3a\u521d\u59cb\u503c\uff0c\u901a\u8fc7ref\u53ef\u83b7\u53d6input\u503c */}\n        <input\n          type="text"\n          ref={(input) => (this._name = input)}\n          defaultValue="Jian"\n        />\n        <button onClick={this.handleSubmitClick}>Sign up</button>\n      </div>\n    );\n  }\n}',lang:"js"}),a.a.createElement("h2",{id:"8\u6709\u65e0\u72b6\u6001\u7ec4\u4ef6"},a.a.createElement(c["AnchorLink"],{to:"#8\u6709\u65e0\u72b6\u6001\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"8.\u6709/\u65e0\u72b6\u6001\u7ec4\u4ef6"),a.a.createElement("h3",{id:"1\u6709\u72b6\u6001\u7ec4\u4ef6"},a.a.createElement(c["AnchorLink"],{to:"#1\u6709\u72b6\u6001\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u6709\u72b6\u6001\u7ec4\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u7279\u70b9"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u662f\u7c7b\u7ec4\u4ef6"),a.a.createElement("li",null,"\u6709\u7ee7\u627f"),a.a.createElement("li",null,"\u53ef\u4ee5\u4f7f\u7528 this"),a.a.createElement("li",null,"\u53ef\u4ee5\u4f7f\u7528 react \u7684\u751f\u547d\u5468\u671f"),a.a.createElement("li",null,"\u4f7f\u7528\u8f83\u591a\uff0c\u5bb9\u6613\u9891\u7e41\u89e6\u53d1\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\uff0c\u5f71\u54cd\u6027\u80fd"),a.a.createElement("li",null,"\u5185\u90e8\u4f7f\u7528 state\uff0c\u7ef4\u62a4\u81ea\u8eab\u72b6\u6001\u7684\u53d8\u5316\uff0c\u6709\u72b6\u6001\u7ec4\u4ef6\u6839\u636e\u5916\u90e8\u7ec4\u4ef6\u4f20\u5165\u7684 props \u548c\u81ea\u8eab\u7684 state \u8fdb\u884c\u6e32\u67d3"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u4f7f\u7528\u573a\u666f"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u9700\u8981\u4f7f\u7528\u5230\u72b6\u6001\u7684"),a.a.createElement("li",null,"\u9700\u8981\u4f7f\u7528\u72b6\u6001\u64cd\u4f5c\u7ec4\u4ef6\u7684\uff08\u65e0\u72b6\u6001\u7ec4\u4ef6\u7684\u4e5f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u901a\u8fc7\u65b0\u7248\u672c react hooks \u4e5f\u53ef\u5b9e\u73b0\uff09"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u603b\u7ed3"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7c7b\u7ec4\u4ef6\u53ef\u4ee5\u7ef4\u62a4\u81ea\u8eab\u7684\u72b6\u6001\u53d8\u91cf\uff0c\u5373\u7ec4\u4ef6\u7684 state \uff0c\u7c7b\u7ec4\u4ef6\u8fd8\u6709\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u80fd\u591f\u5728\u7ec4\u4ef6\u7684\u4e0d\u540c\u9636\u6bb5\uff08\u6302\u8f7d\u3001\u66f4\u65b0\u3001\u5378\u8f7d\uff09\u5bf9\u7ec4\u4ef6\u505a\u66f4\u591a\u7684\u63a7\u5236\u3002\u7c7b\u7ec4\u4ef6\u5219\u65e2\u53ef\u4ee5\u5145\u5f53\u65e0\u72b6\u6001\u7ec4\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u5145\u5f53\u6709\u72b6\u6001\u7ec4\u4ef6\u3002\u5f53\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u4e0d\u9700\u8981\u7ba1\u7406\u81ea\u8eab\u72b6\u6001\u65f6\uff0c\u4e5f\u53ef\u79f0\u4e3a\u65e0\u72b6\u6001\u7ec4\u4ef6")))),a.a.createElement("h3",{id:"2\u65e0\u72b6\u6001\u7ec4\u4ef6"},a.a.createElement(c["AnchorLink"],{to:"#2\u65e0\u72b6\u6001\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u65e0\u72b6\u6001\u7ec4\u4ef6"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u7279\u70b9"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e0d\u4f9d\u8d56\u81ea\u8eab\u7684\u72b6\u6001 state"),a.a.createElement("li",null,"\u53ef\u4ee5\u662f\u7c7b\u7ec4\u4ef6\u6216\u8005\u51fd\u6570\u7ec4\u4ef6"),a.a.createElement("li",null,"\u53ef\u4ee5\u5b8c\u5168\u907f\u514d\u4f7f\u7528 this \u5173\u952e\u5b57\uff08\u7531\u4e8e\u4f7f\u7528\u7684\u662f\u7bad\u5934\u51fd\u6570\u4e8b\u4ef6\u65e0\u9700\u7ed1\u5b9a\uff09"),a.a.createElement("li",null,"\u6709\u66f4\u9ad8\u7684\u6027\u80fd\uff0c\u5f53\u4e0d\u9700\u8981\u4f7f\u7528\u751f\u547d\u5468\u671f\u94a9\u5b50\u65f6\uff0c\u5e94\u8be5\u9996\u5148\u4f7f\u7528\u65e0\u72b6\u6001\u51fd\u6570\u7ec4\u4ef6"),a.a.createElement("li",null,"\u7ec4\u4ef6\u5185\u90e8\u4e0d\u7ef4\u62a4 state \uff0c\u53ea\u6839\u636e\u5916\u90e8\u7ec4\u4ef6\u4f20\u5165\u7684 props \u8fdb\u884c\u6e32\u67d3\u7684\u7ec4\u4ef6\uff0c\u5f53 props \u6539\u53d8\u65f6\uff0c\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u4f7f\u7528\u573a\u666f"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ec4\u4ef6\u4e0d\u9700\u8981\u7ba1\u7406 state\uff0c\u7eaf\u5c55\u793a"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u4f18\u70b9"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7b80\u5316\u4ee3\u7801\u3001\u4e13\u6ce8\u4e8e render"),a.a.createElement("li",null,"\u7ec4\u4ef6\u4e0d\u9700\u8981\u88ab\u5b9e\u4f8b\u5316\uff0c\u65e0\u751f\u547d\u5468\u671f\uff0c\u63d0\u5347\u6027\u80fd\u3002 \u8f93\u51fa\uff08\u6e32\u67d3\uff09\u53ea\u53d6\u51b3\u4e8e\u8f93\u5165\uff08\u5c5e\u6027\uff09\uff0c\u65e0\u526f\u4f5c\u7528"),a.a.createElement("li",null,"\u89c6\u56fe\u548c\u6570\u636e\u7684\u89e3\u8026\u5206\u79bb"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u7f3a\u70b9"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u65e0\u6cd5\u4f7f\u7528 ref"),a.a.createElement("li",null,"\u65e0\u751f\u547d\u5468\u671f\u65b9\u6cd5"),a.a.createElement("li",null,"\u65e0\u6cd5\u63a7\u5236\u7ec4\u4ef6\u7684\u91cd\u6e32\u67d3\uff0c\u56e0\u4e3a\u65e0\u6cd5\u4f7f\u7528 shouldComponentUpdate \u65b9\u6cd5\uff0c\u5f53\u7ec4\u4ef6\u63a5\u53d7\u5230\u65b0\u7684\u5c5e\u6027\u65f6\u5219\u4f1a\u91cd\u6e32\u67d3"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u603b\u7ed3"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ec4\u4ef6\u5185\u90e8\u72b6\u6001\u4e14\u4e0e\u5916\u90e8\u65e0\u5173\u7684\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u72b6\u6001\u7ec4\u4ef6\uff0c\u8fd9\u6837\u72b6\u6001\u6811\u5c31\u4e0d\u4f1a\u8fc7\u4e8e\u590d\u6742\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u7ba1\u7406\u3002\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u4e0d\u9700\u8981\u7ba1\u7406\u81ea\u8eab\u72b6\u6001\u65f6\uff0c\u4e5f\u5c31\u662f\u65e0\u72b6\u6001\u7ec4\u4ef6\uff0c\u5e94\u8be5\u4f18\u5148\u8bbe\u8ba1\u4e3a\u51fd\u6570\u7ec4\u4ef6\uff0c\u6bd4\u5982\u81ea\u5b9a\u4e49\u7684 Button\u3001Input \u7b49\u7ec4\u4ef6")))),a.a.createElement("h2",{id:"9class-\u7ec4\u4ef6\u751f\u547d\u5468\u671f"},a.a.createElement(c["AnchorLink"],{to:"#9class-\u7ec4\u4ef6\u751f\u547d\u5468\u671f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"9.class \u7ec4\u4ef6\u751f\u547d\u5468\u671f"),a.a.createElement("h3",{id:"1\u8001\u7248\u672c"},a.a.createElement(c["AnchorLink"],{to:"#1\u8001\u7248\u672c","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u8001\u7248\u672c"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u6302\u8f7d"),a.a.createElement("ul",null,a.a.createElement("li",null,"constructor"),a.a.createElement("li",null,a.a.createElement("code",null,"componentWillMount"),"\uff1a\u5728\u65b0\u8282\u70b9\u63d2\u5165 DOM \u7ed3\u6784\u4e4b\u524d\u89e6\u53d1"),a.a.createElement("li",null,"render: componentWillMount \u548c componentDidMount \u4e4b\u95f4\u89e6\u53d1"),a.a.createElement("li",null,a.a.createElement("code",null,"componentDidMount"),"\uff1a\u5728\u65b0\u8282\u70b9\u63d2\u5165 DOM \u7ed3\u6784\u4e4b\u540e\u89e6\u53d1",a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u8fd9\u53d1\u9001\u521d\u59cb\u5316\u63a5\u53e3\u8bf7\u6c42\uff1a\u8bf7\u6c42\u4e2d\u53ef\u80fd\u6709\u64cd\u4f5c dom \u64cd\u4f5c\uff0c\u786e\u4fdd dom \u5df2\u7ecf\u6302\u8f7d"))))),a.a.createElement("li",null,a.a.createElement("p",null,"\u66f4\u65b0"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"componentWillReceiveProps"),"\uff1a\u5df2\u52a0\u8f7d\u7684\u7ec4\u4ef6\u6536\u5230\u65b0\u7684\u53c2\u6570\u65f6\u8c03\u7528\uff0c\u53ea\u6709 props \u53c2\u6570\u66f4\u65b0\u65f6\u624d\u4f1a\u89e6\u53d1"),a.a.createElement("li",null,a.a.createElement("code",null,"shouldComponentUpdate"),"\uff1a\u7ec4\u4ef6\u5224\u65ad\u662f\u5426\u91cd\u65b0\u6e32\u67d3\u65f6\u8c03\u7528\uff0c\u8fd4\u56de false \u53d6\u6d88\u66f4\u65b0\u7ec4\u4ef6\uff0c\u4e0d\u4f1a\u8c03\u7528 render"),a.a.createElement("li",null,a.a.createElement("code",null,"componentWillUpdate"),"\uff1a\u5f53\u7ec4\u4ef6\u518d\u6b21\u6e32\u67d3\u65f6\uff0c\u5728 render \u65b9\u6cd5\u524d\u8c03\u7528\uff08\u5728\u7ec4\u4ef6\u7684 props \u6216\u8005 state \u53d1\u751f\u6539\u53d8\u65f6\u4f1a\u89e6\u53d1\u8be5\u65b9\u6cd5\uff09"),a.a.createElement("li",null,"render"),a.a.createElement("li",null,a.a.createElement("code",null,"componentDidUpdate"),"\uff1a\u5728 render \u51fd\u6570\u6267\u884c\u5b8c\u6bd5\uff0c\u4e14\u66f4\u65b0\u7684\u7ec4\u4ef6\u5df2\u88ab\u540c\u6b65\u5230 DOM \u540e\u7acb\u5373\u8c03\u7528\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u89e6\u53d1"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5378\u8f7d"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"componentWillUnmount"),"\uff1a\u5728\u7ec4\u4ef6\u4ece DOM \u4e2d\u79fb\u9664\u65f6\u7acb\u5373\u89e6\u53d1"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u52a0\u8f7d\u987a\u5e8f\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u9996\u6b21\u52a0\u8f7d\u65f6\uff1acomponentWillMount -> render -> componentDidMount")),a.a.createElement("li",null,a.a.createElement("p",null,"\u53c2\u6570\u53d8\u5316\u65f6\uff1acomponentWillReceiveProps(props \u53c2\u6570\u53d8\u5316) -> shouldComponentUpdate -> componentWillUpdate -> render -> componentDidUpdate")),a.a.createElement("li",null,a.a.createElement("p",null,"\u7ec4\u4ef6\u5378\u8f7d\uff1acomponentWillUnMount"))))),a.a.createElement("h3",{id:"2\u65b0\u7248\u672c"},a.a.createElement(c["AnchorLink"],{to:"#2\u65b0\u7248\u672c","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u65b0\u7248\u672c"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u6302\u8f7d"),a.a.createElement("ul",null,a.a.createElement("li",null,"constructor"),a.a.createElement("li",null,a.a.createElement("code",null,"getDerivedStateFromProps"),"\uff1a\u5728\u8c03\u7528 render \u65b9\u6cd5\u4e4b\u524d\u8c03\u7528\uff0c\u5e76\u4e14\u5728\u521d\u59cb\u6302\u8f7d\u53ca\u540e\u7eed\u66f4\u65b0\u65f6\u90fd\u4f1a\u88ab\u8c03\u7528\u3002\u5b83\u5e94\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0 state\uff0c\u5982\u679c\u8fd4\u56de null \u5219\u4e0d\u66f4\u65b0\u4efb\u4f55\u5185\u5bb9\u3002\u6761\u4ef6\uff1a state \u7684\u503c\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53d6\u51b3\u4e8e props"),a.a.createElement("li",null,"render"),a.a.createElement("li",null,a.a.createElement("code",null,"componentDidMount")))),a.a.createElement("li",null,a.a.createElement("p",null,"\u66f4\u65b0"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"getDerivedStateFromProps")),a.a.createElement("li",null,a.a.createElement("code",null,"shouldComponentUpdate")),a.a.createElement("li",null,"render"),a.a.createElement("li",null,a.a.createElement("code",null,"getSnapshotBeforeUpdate"),"\uff1a \u5728\u6700\u8fd1\u4e00\u6b21\u6e32\u67d3\u8f93\u51fa\uff08\u63d0\u4ea4\u5230 DOM \u8282\u70b9\uff09\u4e4b\u524d\u8c03\u7528\u3002\u5b83\u4f7f\u5f97\u7ec4\u4ef6\u80fd\u5728\u53d1\u751f\u66f4\u6539\u4e4b\u524d\u4ece DOM \u4e2d\u6355\u83b7\u4e00\u4e9b\u4fe1\u606f\uff08\u4f8b\u5982\uff0c\u6eda\u52a8\u4f4d\u7f6e\uff09\u3002\u6b64\u751f\u547d\u5468\u671f\u7684\u4efb\u4f55\u8fd4\u56de\u503c\u5c06\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 componentDidUpdate()"),a.a.createElement("li",null,a.a.createElement("code",null,"componentDidUpdate")))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5378\u8f7d"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"componentWillUnmount")))),a.a.createElement("li",null,a.a.createElement("p",null,"\u52a0\u8f7d\u987a\u5e8f\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6302\u8f7d\u65f6\uff1aconstructor() -> getDerivedStateFromProps() -> render() -> componentDidMount()"),a.a.createElement("li",null,"\u66f4\u65b0\u65f6\uff1astatic getDerivedStateFromProps() -> shouldComponentUpdate() -> render() -> getSnapshotBeforeUpdate() -> componentDidUpdate()"),a.a.createElement("li",null,"\u5378\u8f7d\u65f6\uff1acomponentWillUnmount()"),a.a.createElement("li",null,"\u9519\u8bef\u5904\u7406\uff1a\u5f53\u6e32\u67d3\u8fc7\u7a0b\uff0c\u751f\u547d\u5468\u671f\uff0c\u6216\u5b50\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u4e2d\u629b\u51fa\u9519\u8bef\u65f6 getDerivedStateFromError() -> componentDidCatch()"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5982\u679c\u5b58\u5728 ",a.a.createElement("code",null,"getDerivedStateFromProps")," \u548c ",a.a.createElement("code",null,"getSnapshotBeforeUpdate")," \u5c31\u4e0d\u4f1a\u6267\u884c\u751f\u547d\u5468\u671f ",a.a.createElement("code",null,"componentWillMount")))),a.a.createElement("h3",{id:"3\u5e9f\u5f03\u539f\u56e0"},a.a.createElement(c["AnchorLink"],{to:"#3\u5e9f\u5f03\u539f\u56e0","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u5e9f\u5f03\u539f\u56e0"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"React ",a.a.createElement("code",null,"Fiber")," \u7684\u673a\u5236: \u5229\u7528\u6d4f\u89c8\u5668 ",a.a.createElement("code",null,"requestIdleCallback")," \u5c06\u53ef\u4e2d\u65ad\u7684\u4efb\u52a1\u8fdb\u884c",a.a.createElement("code",null,"\u5206\u7247\u5904\u7406"),"\uff0c\u6bcf\u4e00\u4e2a\u5c0f\u7247\u7684\u8fd0\u884c\u65f6\u95f4\u5f88\u77ed\uff0c\u8fd9\u6837\u552f\u4e00\u7684\u7ebf\u7a0b\u5c31\u4e0d\u4f1a\u88ab\u72ec\u5360")),a.a.createElement("li",null,a.a.createElement("p",null,"\u56e0\u4e3a React Fiber Reconciliation \u8fd9\u4e2a\u8fc7\u7a0b\u6709\u53ef\u80fd",a.a.createElement("code",null,"\u6682\u505c"),"\u7136\u540e",a.a.createElement("code",null,"\u7ee7\u7eed\u6267\u884c"),"\uff0c\u6240\u4ee5\u6302\u8f7d\u548c\u66f4\u65b0\u4e4b\u524d\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u5c31\u6709\u53ef\u80fd\u4e0d\u6267\u884c\u6216\u8005\u591a\u6b21\u6267\u884c"))),a.a.createElement("h2",{id:"10setstate-\u66f4\u65b0\u673a\u5236"},a.a.createElement(c["AnchorLink"],{to:"#10setstate-\u66f4\u65b0\u673a\u5236","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"10.setState \u66f4\u65b0\u673a\u5236"),a.a.createElement("h3",{id:"1\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684-setstate"},a.a.createElement(c["AnchorLink"],{to:"#1\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684-setstate","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684 setState"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7531\u4e8e\u662f",a.a.createElement("code",null,"\u5408\u6210\u4e8b\u4ef6"),'\uff0ctry \u4ee3\u7801\u5757\u6267\u884c\u5b8c state \u5e76\u6ca1\u6709\u66f4\u65b0\uff0c\u6240\u4ee5\u4f60\u8f93\u5165\u7684\u7ed3\u679c\u662f\u66f4\u65b0\u524d\u7684 state \u503c\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e86\u6240\u8c13\u7684"',a.a.createElement("code",null,"\u5f02\u6b65"),'"'),a.a.createElement("li",null,"\u4f46\u662f\u5f53\u4f60\u7684 try \u4ee3\u7801\u5757\u6267\u884c\u5b8c\u7684\u65f6\u5019\uff08\u4e5f\u5c31\u662f\u4f60\u7684 increment \u5408\u6210\u4e8b\u4ef6\uff09\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f1a\u53bb\u6267\u884c finally \u91cc\u7684\u4ee3\u7801\uff0c\u5728 finally \u4e2d\u6267\u884c\u4e86 performSyncWork \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65f6\u5019\u624d\u4f1a\u53bb\u66f4\u65b0\u4f60\u7684 state \u5e76\u4e14\u6e32\u67d3\u5230 UI \u4e0a")),a.a.createElement("h3",{id:"2\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u7684-setstate"},a.a.createElement(c["AnchorLink"],{to:"#2\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u7684-setstate","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u7684 setState"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"\u5f02\u6b65"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5f53 componentDidmount \u6267\u884c\u7684\u65f6\u5019\uff0creact \u5185\u90e8\u5e76\u6ca1\u6709\u66f4\u65b0\uff0c\u6267\u884c\u5b8c componentDidmount \u540e\u624d\u53bb commitUpdateQueue \u66f4\u65b0\u3002\u8fd9\u5c31\u5bfc\u81f4\u4f60\u5728 componentDidmount \u4e2d setState \u5b8c\u53bb console.log \u62ff\u7684\u7ed3\u679c\u8fd8\u662f\u66f4\u65b0\u524d\u7684\u503c"))),a.a.createElement("h3",{id:"3\u539f\u751f\u4e8b\u4ef6\u4e2d\u7684-setstate"},a.a.createElement(c["AnchorLink"],{to:"#3\u539f\u751f\u4e8b\u4ef6\u4e2d\u7684-setstate","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u539f\u751f\u4e8b\u4ef6\u4e2d\u7684 setState"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u539f\u751f\u4e8b\u4ef6\u662f\u6307\u975e react \u5408\u6210\u4e8b\u4ef6\uff0c\u539f\u751f\u81ea\u5e26\u7684\u4e8b\u4ef6\u76d1\u542c addEventListener")),a.a.createElement("li",null,a.a.createElement("p",null,"\u539f\u751f\u4e8b\u4ef6\u76f4\u63a5\u89e6\u53d1 click \u4e8b\u4ef6\uff0c\u53ef\u4ee5",a.a.createElement("code",null,"\u540c\u6b65"),"\u62ff\u5230\u66f4\u65b0\u540e\u7684 state \u503c"))),a.a.createElement("h3",{id:"4\u5f02\u6b65\u51fd\u6570-settimeout-\u4e2d\u7684-setstate"},a.a.createElement(c["AnchorLink"],{to:"#4\u5f02\u6b65\u51fd\u6570-settimeout-\u4e2d\u7684-setstate","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09\u5f02\u6b65\u51fd\u6570 setTimeout \u4e2d\u7684 setState"),a.a.createElement("ul",null,a.a.createElement("li",null,"setTimeout \u4e2d\u91cc\u53bb setState \u603b\u80fd\u62ff\u5230\u6700\u65b0\u7684 state \u503c, \u53ef\u4ee5",a.a.createElement("code",null,"\u540c\u6b65"),"\u62ff\u5230\u6700\u65b0\u7684 state \u503c")),a.a.createElement("h3",{id:"5setstate-\u4e2d\u7684\u6279\u91cf\u66f4\u65b0"},a.a.createElement(c["AnchorLink"],{to:"#5setstate-\u4e2d\u7684\u6279\u91cf\u66f4\u65b0","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5\uff09setState \u4e2d\u7684\u6279\u91cf\u66f4\u65b0"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728 setState \u7684\u65f6\u5019 react \u5185\u90e8\u4f1a\u521b\u5efa\u4e00\u4e2a updateQueue \uff0c\u901a\u8fc7 firstUpdate \u3001 lastUpdate \u3001 lastUpdate.next \u53bb\u7ef4\u62a4\u4e00\u4e2a\u66f4\u65b0\u7684\u961f\u5217\uff0c\u5728\u6700\u7ec8\u7684 performWork \u4e2d\uff0c\u76f8\u540c\u7684 key \u4f1a\u88ab\u8986\u76d6\uff0c",a.a.createElement("code",null,"\u53ea\u4f1a\u5bf9\u6700\u540e\u4e00\u6b21\u7684 setState \u8fdb\u884c\u66f4\u65b0"))),a.a.createElement(r["a"],{code:"class App extends React.Component {\n  state = { val: 0 };\n\n  componentDidMount() {\n    this.setState({ val: this.state.val + 1 });\n    console.log(this.state.val); // 0\n\n    this.setState({ val: this.state.val + 1 });\n    console.log(this.state.val); // 0\n\n    setTimeout((_) => {\n      // \u524d\u4e24\u6b21\u7684setState\u5408\u5e76\uff0c\u53ea\u6267\u884c\u4e86\u4e00\u6b21\uff0c\u7ed3\u679c\u4e3a1\n      this.setState({ val: this.state.val + 1 });\n      console.log(this.state.val); // 2\n\n      this.setState({ val: this.state.val + 1 });\n      console.log(this.state.val); // 3\n    }, 0);\n  }\n\n  render() {\n    return <div>{this.state.val}</div>;\n  }\n}",lang:"js"}),a.a.createElement("h2",{id:"11\u51fd\u6570\u7ed1\u5b9a\u7684\u65b9\u6cd5"},a.a.createElement(c["AnchorLink"],{to:"#11\u51fd\u6570\u7ed1\u5b9a\u7684\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"11.\u51fd\u6570\u7ed1\u5b9a\u7684\u65b9\u6cd5"),a.a.createElement(r["a"],{code:"class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      num: 1,\n      title: 'Jian',\n    };\n    // \u63a8\u8350\u5199\u6cd51\uff0c\u5728constructor\u4e2d\u4f7f\u7528bind\n    this.handleClick2 = this.handleClick1.bind(this);\n  }\n\n  handleClick1() {\n    this.setState({\n      num: this.state.num + 1,\n    });\n  }\n  // \u63a8\u8350\u5199\u6cd52\uff0c\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u7ed1\u5b9a\n  handleClick3 = () => {\n    this.setState({\n      num: this.state.num + 1,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        {/* \u4e0d\u63a8\u8350\u5199\u6cd5 */}\n        <div onClick={this.handleClick1.bind(this)}></div>\n        <div onClick={() => this.handleClick1()}></div>\n\n        {/* \u8003\u70b91\u89e3\u51b3\u65b9\u6cd5\uff1a\u63d0\u53d6\u51fd\u6570 */}\n        <div onClick={this.handleClick2}></div>\n        <div onClick={this.handleClick3}></div>\n      </div>\n    );\n  }\n}",lang:"js"}),a.a.createElement("h3",{id:"1render-\u51fd\u6570\u4e2d"},a.a.createElement(c["AnchorLink"],{to:"#1render-\u51fd\u6570\u4e2d","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09render \u51fd\u6570\u4e2d"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u6216\u8005 bind \u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u51fd\u6570\u65f6\uff0c\u6bcf\u6b21\u4f1a\u91cd\u65b0\u521b\u5efa\u51fd\u6570\uff0c\u5bfc\u81f4\u5b50\u7ec4\u4ef6\u8fdb\u884c\u6e32\u67d3\uff0c\u5f71\u54cd\u6027\u80fd\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528")),a.a.createElement("h3",{id:"2\u5199\u5728-constructor-\u4e2d"},a.a.createElement(c["AnchorLink"],{to:"#2\u5199\u5728-constructor-\u4e2d","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u5199\u5728 constructor \u4e2d"),a.a.createElement("h3",{id:"3\u5916\u90e8\u63d0\u53d6\u4f7f\u7528\u7bad\u5934\u51fd\u6570"},a.a.createElement(c["AnchorLink"],{to:"#3\u5916\u90e8\u63d0\u53d6\u4f7f\u7528\u7bad\u5934\u51fd\u6570","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09\u5916\u90e8\u63d0\u53d6\u4f7f\u7528\u7bad\u5934\u51fd\u6570"),a.a.createElement("h2",{id:"12fragments"},a.a.createElement(c["AnchorLink"],{to:"#12fragments","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"12.Fragments"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"Fragments \u5141\u8bb8\u5c06\u5b50\u5217\u8868\u5206\u7ec4\uff0c\u800c\u65e0\u9700\u5411 DOM \u6dfb\u52a0\u989d\u5916\u8282\u70b9"),a.a.createElement(r["a"],{code:"render() {\n  return (\n    <div>\n      {arr.map((item, i) => {\n        return (\n          <React.Fragment key={item.id}>\n            <ChildA />\n            <ChildB />\n            <ChildC />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n}",lang:"js"})),a.a.createElement("li",null,a.a.createElement("p",null,"\u77ed\u8bed\u6cd5"),a.a.createElement(r["a"],{code:"render() {\n  return (\n    <>\n      <ChildA />\n      <ChildB />\n      <ChildC />\n    </>\n  );\n}",lang:"js"}))),a.a.createElement("h2",{id:"13\u7ec4\u4ef6\u61d2\u52a0\u8f7d"},a.a.createElement(c["AnchorLink"],{to:"#13\u7ec4\u4ef6\u61d2\u52a0\u8f7d","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"13.\u7ec4\u4ef6\u61d2\u52a0\u8f7d"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u8fd0\u884c\u65f6\u52a8\u6001\u52a0\u8f7d")),a.a.createElement("li",null,a.a.createElement("p",null,"\u901a\u8fc7 ",a.a.createElement("code",null,"import()"),"\u3001",a.a.createElement("code",null,"React.lazy")," \u548c ",a.a.createElement("code",null,"Suspense")," \u5171\u540c\u4e00\u8d77\u5b9e\u73b0\u4e86 React \u7684",a.a.createElement("code",null,"\u61d2\u52a0\u8f7d"))),a.a.createElement("li",null,a.a.createElement("p",null,"OtherComponent \u7ec4\u4ef6\u6587\u4ef6\u88ab",a.a.createElement("code",null,"\u62c6\u5206\u6253\u5305"),"\u4e3a\u4e00\u4e2a",a.a.createElement("code",null,"\u65b0\u7684\u5305"),"\uff08bundle\uff09\u6587\u4ef6\uff0c\u5e76\u4e14\u53ea\u4f1a\u5728 OtherComponent ",a.a.createElement("code",null,"\u7ec4\u4ef6\u6e32\u67d3\u65f6"),"\uff0c",a.a.createElement("code",null,"\u624d"),"\u4f1a\u88ab",a.a.createElement("code",null,"\u4e0b\u8f7d"),"\u5230\u672c\u5730")),a.a.createElement("li",null,a.a.createElement("p",null,"\u53ef\u4ee5\u4f7f\u7528\u5728\u7b49\u5f85\u52a0\u8f7d lazy \u7ec4\u4ef6\u65f6\u505a",a.a.createElement("code",null,"\u4f18\u96c5\u964d\u7ea7"),"\uff08\u5982 loading \u6307\u793a\u5668\u7b49\uff09"))),a.a.createElement(r["a"],{code:"import React, { Suspense } from 'react';\n\nconst OtherComponent = React.lazy(() => import('./OtherComponent'));\n\nfunction MyComponent() {\n  return (\n    <div>\n      <Suspense fallback={<div>Loading...</div>}>\n        <OtherComponent />\n      </Suspense>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"React \u5229\u7528 ",a.a.createElement("code",null,"React.lazy")," \u4e0e ",a.a.createElement("code",null,"import()"),"\u5b9e\u73b0\u4e86",a.a.createElement("code",null,"\u6e32\u67d3\u65f6\u7684\u52a8\u6001\u52a0\u8f7d")," \uff0c\u5e76\u5229\u7528 ",a.a.createElement("code",null,"Suspense")," \u6765",a.a.createElement("code",null,"\u5904\u7406\u5f02\u6b65\u52a0\u8f7d\u8d44\u6e90\u65f6\u9875\u9762\u5e94\u8be5\u5982\u4f55\u663e\u793a"),"\u7684\u95ee\u9898\u3002")),a.a.createElement("h3",{id:"1import-\u539f\u7406"},a.a.createElement(c["AnchorLink"],{to:"#1import-\u539f\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09import() \u539f\u7406"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"import()")," \u51fd\u6570\u662f\u7531 TS39 \u63d0\u51fa\u7684\u4e00\u79cd",a.a.createElement("code",null,"\u52a8\u6001\u52a0\u8f7d\u6a21\u5757"),"\u7684\u89c4\u8303\u5b9e\u73b0\uff0c\u5176\u8fd4\u56de\u662f\u4e00\u4e2a ",a.a.createElement("code",null,"promise"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u5f53 Webpack \u89e3\u6790\u5230\u8be5 import()\u8bed\u6cd5\u65f6\uff0c\u4f1a\u81ea\u52a8\u8fdb\u884c\u4ee3\u7801\u5206\u5272"))),a.a.createElement(r["a"],{code:'function import(url) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement("script");\n    const tempGlobal = "__tempModuleLoadingVariable" + Math.random().toString(32).substring(2);\n    script.type = "module";\n    script.textContent = `import * as m from "${url}"; window.${tempGlobal} = m;`;\n\n    script.onload = () => {\n      resolve(window[tempGlobal]);\n      delete window[tempGlobal];\n      script.remove();\n    };\n\n    script.onerror = () => {\n      reject(new Error("Failed to load module script with URL " + url));\n      delete window[tempGlobal];\n      script.remove();\n    };\n\n    document.documentElement.appendChild(script);\n  });\n}',lang:"js"}),a.a.createElement("h3",{id:"2reactlazy-\u539f\u7406"},a.a.createElement(c["AnchorLink"],{to:"#2reactlazy-\u539f\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09React.lazy \u539f\u7406"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8fd4\u56de\u4e86\u4e00\u4e2a LazyComponent \u5bf9\u8c61")),a.a.createElement(r["a"],{code:"export function lazy<T, R>(ctor: () => Thenable<T, R>): LazyComponent<T> {\n  let lazyType = {\n    ?typeof: REACT_LAZY_TYPE,\n    _ctor: ctor,\n    // React uses these fields to store the result.\n    _status: -1,\n    _result: null,\n  };\n\n  return lazyType;\n}",lang:"js"}),a.a.createElement("h3",{id:"3suspense-\u539f\u7406"},a.a.createElement(c["AnchorLink"],{to:"#3suspense-\u539f\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09Suspense \u539f\u7406"),a.a.createElement("ul",null,a.a.createElement("li",null,"React \u6355\u83b7\u5230\u5f02\u5e38\u4e4b\u540e\uff0c\u4f1a\u5224\u65ad\u5f02\u5e38\u662f\u4e0d\u662f\u4e00\u4e2a thenable\uff0c\u5982\u679c\u662f\u5219\u4f1a\u627e\u5230 SuspenseComponent \uff0c\u5982\u679c thenable \u5904\u4e8e pending \u72b6\u6001\uff0c\u5219\u4f1a\u5c06\u5176 children \u90fd\u6e32\u67d3\u6210 fallback \u7684\u503c\uff0c\u4e00\u65e6 thenable \u88ab resolve \u5219 SuspenseComponent \u7684\u5b50\u7ec4\u4ef6\u4f1a\u91cd\u65b0\u6e32\u67d3\u4e00\u6b21")),a.a.createElement("h2",{id:"14\u8def\u7531\u61d2\u52a0\u8f7d"},a.a.createElement(c["AnchorLink"],{to:"#14\u8def\u7531\u61d2\u52a0\u8f7d","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"14.\u8def\u7531\u61d2\u52a0\u8f7d"),a.a.createElement(r["a"],{code:"import React, { Suspense, lazy } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nconst Home = lazy(() => import('./routes/Home'));\nconst About = lazy(() => import('./routes/About'));\n\nconst App = () => (\n  <Router>\n    <Suspense fallback={<div>Loading...</div>}>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/about\" component={About} />\n      </Switch>\n    </Suspense>\n  </Router>\n);",lang:"js"}),a.a.createElement("h2",{id:"15purecomponent"},a.a.createElement(c["AnchorLink"],{to:"#15purecomponent","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"15.PureComponent"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"React.PureComponent \u4e2d\u4ee5\u6d45\u5c42\u5bf9\u6bd4 prop \u548c state \u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u4e86 shouldComponentUpdate()")),a.a.createElement("li",null,a.a.createElement("p",null,"React.PureComponent \u4e2d\u7684 shouldComponentUpdate() \u4ec5\u4f5c\u5bf9\u8c61\u7684\u6d45\u5c42\u6bd4\u8f83\u3002\u5982\u679c\u5bf9\u8c61\u4e2d\u5305\u542b\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5219\u6709\u53ef\u80fd\u56e0\u4e3a\u65e0\u6cd5\u68c0\u67e5\u6df1\u5c42\u7684\u5dee\u522b\uff0c\u4ea7\u751f\u9519\u8bef\u7684\u6bd4\u5bf9\u7ed3\u679c\u3002\u4ec5\u5728\u4f60\u7684 props \u548c state \u8f83\u4e3a\u7b80\u5355\u65f6\uff0c\u624d\u4f7f\u7528")),a.a.createElement("li",null,a.a.createElement("p",null,"\u6d45\u6bd4\u8f83 state \u548c props \u662f\u5426\u76f8\u7b49")),a.a.createElement("li",null,a.a.createElement("p",null,"PureComponent \u539f\u7406\u53ca\u5176\u6d45\u6bd4\u8f83\u539f\u5219:"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u57fa\u4e8e PureComponent \u7ee7\u627f\u7684\u7ec4\u4ef6,\u539f\u578b\u94fe\u4e0a\u4f1a\u6709 ",a.a.createElement("code",null,"isPureReactComponent")," \u5c5e\u6027"),a.a.createElement("li",null,"isPureReactComponent \u8fd9\u4e2a\u5c5e\u6027\u5728\u66f4\u65b0\u7ec4\u4ef6 ",a.a.createElement("code",null,"updateClassInstance")," \u65b9\u6cd5\u4e2d\u4f7f\u7528\u7684"),a.a.createElement("li",null,"\u8fd9\u4e2a\u51fd\u6570\u5728\u66f4\u65b0\u7ec4\u4ef6\u7684\u65f6\u5019\u88ab\u8c03\u7528\uff0c\u5728\u8fd9\u4e2a\u51fd\u6570\u5185\u90e8\uff0c\u6709\u4e00\u4e2a\u4e13\u95e8\u8d1f\u8d23\u68c0\u67e5\u662f\u5426\u66f4\u65b0\u7684\u51fd\u6570 ",a.a.createElement("code",null,"checkShouldComponentUpdate"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"isPureReactComponent")," \u5c31\u662f\u5224\u65ad\u5f53\u524d\u7ec4\u4ef6\u662f\u4e0d\u662f\u7eaf\u7ec4\u4ef6\u7684\uff0c\u5982\u679c\u662f PureComponent \u4f1a\u6d45\u6bd4\u8f83 props \u548c state \u662f\u5426\u76f8\u7b49"),a.a.createElement("li",null,"shouldComponentUpdate \u7684\u6743\u91cd\uff0c\u4f1a\u5927\u4e8e PureComponent"),a.a.createElement("li",null,a.a.createElement("code",null,"shallowEqual")," \u6d45\u6bd4\u8f83\u6d41\u7a0b\uff1a",a.a.createElement("ul",null,a.a.createElement("li",null,"\u7b2c\u4e00\u6b65\uff0c\u9996\u5148\u4f1a\u76f4\u63a5\u6bd4\u8f83\u65b0\u8001 props \u6216\u8005\u65b0\u8001 state \u662f\u5426\u76f8\u7b49\u3002\u5982\u679c\u76f8\u7b49\u90a3\u4e48\u4e0d\u66f4\u65b0\u7ec4\u4ef6"),a.a.createElement("li",null,"\u7b2c\u4e8c\u6b65\uff0c\u5224\u65ad\u65b0\u8001 state \u6216\u8005 props \uff0c\u6709\u4e0d\u662f\u5bf9\u8c61\uff0c\u6216\u8005\u4e3a null \u7684\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de false \uff0c\u66f4\u65b0\u7ec4\u4ef6"),a.a.createElement("li",null,"\u7b2c\u4e09\u6b65\uff0c\u901a\u8fc7 Object.keys \u5c06\u65b0\u8001 props \u6216\u8005\u65b0\u8001 state \u7684\u5c5e\u6027\u540d key \u53d8\u6210\u6570\u7ec4\uff0c\u5224\u65ad\u6570\u7ec4\u7684\u957f\u5ea6\u662f\u5426\u76f8\u7b49\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\uff0c\u8bc1\u660e\u6709\u5c5e\u6027\u589e\u52a0\u6216\u8005\u51cf\u5c11\uff0c\u90a3\u4e48\u66f4\u65b0\u7ec4\u4ef6"),a.a.createElement("li",null,"\u7b2c\u56db\u6b65\uff0c\u904d\u5386\u8001 props \u6216\u8005\u8001 state \uff0c\u5224\u65ad\u5bf9\u5e94\u7684\u65b0 props \u6216\u65b0 state \uff0c\u6709\u6ca1\u6709\u4e0e\u4e4b\u5bf9\u5e94\u5e76\u4e14\u76f8\u7b49\u7684\uff08\u8fd9\u4e2a\u76f8\u7b49\u662f\u6d45\u6bd4\u8f83\uff09\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u4e0d\u5bf9\u5e94\u6216\u8005\u4e0d\u76f8\u7b49\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de false \uff0c\u66f4\u65b0\u7ec4\u4ef6")))))),a.a.createElement(r["a"],{code:"function checkShouldComponentUpdate() {\n  if (typeof instance.shouldComponentUpdate === 'function') {\n    return instance.shouldComponentUpdate(\n      newProps,\n      newState,\n      nextContext,\n    ); /* shouldComponentUpdate \u903b\u8f91 */\n  }\n  if (ctor.prototype && ctor.prototype.isPureReactComponent) {\n    return (\n      !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n    );\n  }\n}",lang:"js"}))),a.a.createElement("h2",{id:"16reactmemo"},a.a.createElement(c["AnchorLink"],{to:"#16reactmemo","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"16.React.memo"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u5728",a.a.createElement("code",null,"\u76f8\u540c props")," \u7684\u60c5\u51b5\u4e0b\u6e32\u67d3",a.a.createElement("code",null,"\u76f8\u540c\u7684\u7ed3\u679c"),"\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u901a\u8fc7\u5c06\u5176\u5305\u88c5\u5728 React.",a.a.createElement("code",null,"memo")," \u4e2d\u8c03\u7528\uff0c\u4ee5\u6b64\u901a\u8fc7\u8bb0\u5fc6\u7ec4\u4ef6\u6e32\u67d3\u7ed3\u679c\u7684\u65b9\u5f0f\u6765",a.a.createElement("code",null,"\u63d0\u9ad8\u7ec4\u4ef6\u7684\u6027\u80fd"),"\u8868\u73b0\u3002\u8fd9\u610f\u5473\u7740\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cReact \u5c06\u8df3\u8fc7\u6e32\u67d3\u7ec4\u4ef6\u7684\u64cd\u4f5c\u5e76\u76f4\u63a5\u590d\u7528\u6700\u8fd1\u4e00\u6b21\u6e32\u67d3\u7684\u7ed3\u679c")),a.a.createElement("li",null,a.a.createElement("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5176\u53ea\u4f1a\u5bf9\u590d\u6742\u5bf9\u8c61\u505a",a.a.createElement("code",null,"\u6d45\u5c42\u5bf9\u6bd4"))),a.a.createElement("li",null,a.a.createElement("p",null,"React.memo \u65e2\u5229\u7528\u4e86 shouldComponentUpdate\uff0c\u53c8\u4e0d\u8981\u6c42\u6211\u4eec\u5199\u4e00\u4e2a class"))),a.a.createElement("h3",{id:"reactmemo-\u548c-usememo-\u7684\u4e3b\u8981\u533a\u522b"},a.a.createElement(c["AnchorLink"],{to:"#reactmemo-\u548c-usememo-\u7684\u4e3b\u8981\u533a\u522b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"React.memo() \u548c useMemo() \u7684\u4e3b\u8981\u533a\u522b"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"React.memo()")," \u662f\u4e00\u4e2a",a.a.createElement("code",null,"\u9ad8\u9636\u7ec4\u4ef6"),"\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u5305\u88c5\u6211\u4eec\u4e0d\u60f3\u91cd\u65b0\u6e32\u67d3\u7684\u7ec4\u4ef6\uff0c\u9664\u975e\u5176\u4e2d\u7684 props \u53d1\u751f\u53d8\u5316"),a.a.createElement("li",null,a.a.createElement("code",null,"useMemo()")," \u662f\u4e00\u4e2a ",a.a.createElement("code",null,"React Hook"),"\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u5728\u7ec4\u4ef6\u4e2d",a.a.createElement("code",null,"\u5305\u88c5\u51fd\u6570"),"\u3002 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u786e\u4fdd\u8be5\u51fd\u6570\u4e2d\u7684\u503c\u4ec5\u5728\u5176\u4f9d\u8d56\u9879\u4e4b\u4e00\u53d1\u751f\u53d8\u5316\u65f6\u624d\u91cd\u65b0\u8ba1\u7b97")),a.a.createElement("h2",{id:"17state"},a.a.createElement(c["AnchorLink"],{to:"#17state","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"17.state"),a.a.createElement("h3",{id:"1setstate-\u7528\u6cd5"},a.a.createElement(c["AnchorLink"],{to:"#1setstate-\u7528\u6cd5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09setState \u7528\u6cd5"),a.a.createElement(r["a"],{code:"setState(obj, callback);",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u5f53 obj \u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u4e3a\u5373\u5c06\u5408\u5e76\u7684 state \uff1b\u5982\u679c obj \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u90a3\u4e48\u5f53\u524d\u7ec4\u4ef6\u7684 state \u548c props \u5c06\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u503c\u7528\u4e8e\u5408\u5e76\u65b0\u7684 state")),a.a.createElement("li",null,a.a.createElement("p",null,"\u7b2c\u4e8c\u4e2a\u53c2\u6570 callback \uff1acallback \u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u51fd\u6570\u6267\u884c\u4e0a\u4e0b\u6587\u4e2d\u53ef\u4ee5\u83b7\u53d6\u5f53\u524d setState \u66f4\u65b0\u540e\u7684\u6700\u65b0 state \u7684\u503c\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4f9d\u8d56 state \u53d8\u5316\u7684\u526f\u4f5c\u7528\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u505a\u4e00\u4e9b\u57fa\u4e8e DOM \u7684\u64cd\u4f5c"))),a.a.createElement(r["a"],{code:"/* \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3afunction\u7c7b\u578b */\nthis.setState((state, props) => {\n  return { number: 1 };\n});\n/* \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3aobject\u7c7b\u578b */\nthis.setState({ number: 1 }, () => {\n  console.log(this.state.number); // \u83b7\u53d6\u6700\u65b0\u7684number\n});",lang:"js"}),a.a.createElement("h3",{id:"2\u89e6\u53d1\u4e00\u6b21-setstatereact-\u5e95\u5c42\u505a\u7684\u4e8b\u60c5"},a.a.createElement(c["AnchorLink"],{to:"#2\u89e6\u53d1\u4e00\u6b21-setstatereact-\u5e95\u5c42\u505a\u7684\u4e8b\u60c5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09\u89e6\u53d1\u4e00\u6b21 setState\uff0cReact \u5e95\u5c42\u505a\u7684\u4e8b\u60c5"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u9996\u5148\uff0csetState \u4f1a",a.a.createElement("code",null,"\u4ea7\u751f"),"\u5f53\u524d\u66f4\u65b0\u7684",a.a.createElement("code",null,"\u4f18\u5148\u7ea7"),"\uff08\u8001\u7248\u672c\u7528 ",a.a.createElement("code",null,"expirationTime")," \uff0c\u65b0\u7248\u672c\u7528 ",a.a.createElement("code",null,"lane")," \uff09"),a.a.createElement("li",null,"\u63a5\u4e0b\u6765 React \u4f1a\u4ece fiber Root \u6839\u90e8 fiber \u5411\u4e0b\u8c03\u548c\u5b50\u8282\u70b9\uff0c\u8c03\u548c\u9636\u6bb5\u5c06\u5bf9\u6bd4\u53d1\u751f\u66f4\u65b0\u7684\u5730\u65b9\uff0c\u66f4\u65b0\u5bf9\u6bd4 expirationTime \uff0c\u627e\u5230\u53d1\u751f\u66f4\u65b0\u7684\u7ec4\u4ef6\uff0c\u5408\u5e76 state\uff0c\u7136\u540e\u89e6\u53d1 render \u51fd\u6570\uff0c\u5f97\u5230\u65b0\u7684 UI \u89c6\u56fe\u5c42\uff0c\u5b8c\u6210 render \u9636\u6bb5"),a.a.createElement("li",null,"\u63a5\u4e0b\u6765\u5230 commit \u9636\u6bb5\uff0ccommit \u9636\u6bb5\uff0c\u66ff\u6362\u771f\u5b9e DOM \uff0c\u5b8c\u6210\u6b64\u6b21\u66f4\u65b0\u6d41\u7a0b"),a.a.createElement("li",null,"\u6b64\u65f6\u4ecd\u7136\u5728 commit \u9636\u6bb5\uff0c\u4f1a\u6267\u884c setState \u4e2d callback \u51fd\u6570,\u5982\u4e0a\u7684",a.a.createElement("code",null,"()=>","{"," console.log(this.state.number) ","}"),"\uff0c\u5230\u6b64\u4e3a\u6b62\u5b8c\u6210\u4e86\u4e00\u6b21 setState \u5168\u8fc7\u7a0b")),a.a.createElement("p",null,a.a.createElement("img",{src:t("dNHn"),alt:"image"})),a.a.createElement("h3",{id:"3setstate-\u548c-usestate-\u5f02\u540c"},a.a.createElement(c["AnchorLink"],{to:"#3setstate-\u548c-usestate-\u5f02\u540c","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09setState \u548c useState \u5f02\u540c"),a.a.createElement("p",null,a.a.createElement("strong",null,"1.\u76f8\u540c\u70b9")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5e95\u5c42\u90fd\u8c03\u7528\u4e86 ",a.a.createElement("code",null,"scheduleUpdateOnFiber")," \u65b9\u6cd5\uff0c\u800c\u4e14\u4e8b\u4ef6\u9a71\u52a8\u60c5\u51b5\u4e0b\u90fd\u6709\u6279\u91cf\u66f4\u65b0\u89c4\u5219")),a.a.createElement("p",null,a.a.createElement("strong",null,"2.\u4e0d\u540c\u70b9")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u5728\u4e0d\u662f pureComponent \u7ec4\u4ef6\u6a21\u5f0f\u4e0b\uff0c ",a.a.createElement("code",null,"setState\u4e0d\u4f1a\u6d45\u6bd4\u8f83"),"\u4e24\u6b21 state \u7684\u503c\uff0c\u53ea\u8981\u8c03\u7528 setState\uff0c\u5728\u6ca1\u6709\u5176\u4ed6\u4f18\u5316\u624b\u6bb5\u7684\u524d\u63d0\u4e0b\uff0c\u5c31",a.a.createElement("code",null,"\u4f1a\u6267\u884c\u66f4\u65b0"),"\u3002\u4f46\u662f ",a.a.createElement("code",null,"useState")," \u4e2d\u7684 dispatchAction \u4f1a\u9ed8\u8ba4",a.a.createElement("code",null,"\u6bd4\u8f83\u4e24\u6b21 state \u662f\u5426\u76f8\u540c"),"\uff0c\u7136\u540e\u51b3\u5b9a\u662f\u5426\u66f4\u65b0\u7ec4\u4ef6")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"setState")," \u6709\u4e13\u95e8\u76d1\u542c state \u53d8\u5316\u7684\u56de\u8c03\u51fd\u6570 ",a.a.createElement("code",null,"callback"),"\uff0c\u53ef\u4ee5\u83b7\u53d6\u6700\u65b0 state\uff1b\u4f46\u662f\u5728",a.a.createElement("code",null,"\u51fd\u6570\u7ec4\u4ef6"),"\u4e2d\uff0c\u53ea\u80fd\u901a\u8fc7 ",a.a.createElement("code",null,"useEffect")," \u6765\u6267\u884c ",a.a.createElement("code",null,"state")," \u53d8\u5316\u5f15\u8d77\u7684\u526f\u4f5c\u7528")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"setState")," \u5728\u5e95\u5c42\u5904\u7406\u903b\u8f91\u4e0a\u4e3b\u8981\u662f\u548c\u8001 state \u8fdb\u884c",a.a.createElement("code",null,"\u5408\u5e76\u5904\u7406"),"\uff0c\u800c ",a.a.createElement("code",null,"useState")," \u66f4\u503e\u5411\u4e8e",a.a.createElement("code",null,"\u91cd\u65b0\u8d4b\u503c")))),a.a.createElement("h2",{id:"18ref"},a.a.createElement(c["AnchorLink"],{to:"#18ref","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"18.ref"),a.a.createElement("h3",{id:"1\u521b\u5efa\u548c\u4f7f\u7528"},a.a.createElement(c["AnchorLink"],{to:"#1\u521b\u5efa\u548c\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u521b\u5efa\u548c\u4f7f\u7528"),a.a.createElement("p",null,a.a.createElement("strong",null,"1.\u7c7b\u7ec4\u4ef6 React.createRef")),a.a.createElement(r["a"],{code:"export function createRef() {\n  const refObject = {\n    current: null,\n  };\n  return refObject;\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"createRef")," \u521b\u5efa\u4e86\u4e00\u4e2a",a.a.createElement("code",null,"\u5bf9\u8c61"),"\uff0c\u5bf9\u8c61\u4e0a\u7684 ",a.a.createElement("code",null,"current")," \u5c5e\u6027\uff0c\u7528\u4e8e\u4fdd\u5b58\u901a\u8fc7 ref \u83b7\u53d6\u7684 DOM \u5143\u7d20\uff0c\u7ec4\u4ef6\u5b9e\u4f8b\u7b49")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"\u4e0d\u8981\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u4f7f\u7528 createRef"),"\uff0c\u5426\u5219\u4f1a\u9020\u6210 Ref \u5bf9\u8c61\u5185\u5bb9\u4e22\u5931\u7b49\u60c5\u51b5"))),a.a.createElement("p",null,a.a.createElement("strong",null,"2.\u51fd\u6570\u7ec4\u4ef6 useRef")),a.a.createElement(r["a"],{code:"export default function Index() {\n  const currentDom = React.useRef(null);\n  React.useEffect(() => {\n    console.log(currentDom.current); // div\n  }, []);\n  return <div ref={currentDom}>ref\u5bf9\u8c61\u6a21\u5f0f\u83b7\u53d6\u5143\u7d20\u6216\u7ec4\u4ef6</div>;\n}",lang:"js"}),a.a.createElement("h3",{id:"2ref-\u9ad8\u9636\u7528\u6cd5"},a.a.createElement(c["AnchorLink"],{to:"#2ref-\u9ad8\u9636\u7528\u6cd5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09ref \u9ad8\u9636\u7528\u6cd5"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"1.forwardRef \u8f6c\u53d1 Ref")),a.a.createElement("li",null,a.a.createElement("p",null,"2.ref \u5b9e\u73b0\u7ec4\u4ef6\u901a\u4fe1"))),a.a.createElement(r["a"],{code:"// \u5b50\u7ec4\u4ef6\nfunction Son(props, ref) {\n  const inputRef = useRef(null);\n  const [inputValue, setInputValue] = useState('');\n  useImperativeHandle(\n    ref,\n    () => {\n      const handleRefs = {\n        onFocus() {\n          /* \u58f0\u660e\u65b9\u6cd5\u7528\u4e8e\u805a\u7126input\u6846 */\n          inputRef.current.focus();\n        },\n        onChangeValue(value) {\n          /* \u58f0\u660e\u65b9\u6cd5\u7528\u4e8e\u6539\u53d8input\u7684\u503c */\n          setInputValue(value);\n        },\n      };\n      return handleRefs;\n    },\n    [],\n  );\n  return (\n    <div>\n      <input placeholder=\"\u8bf7\u8f93\u5165\u5185\u5bb9\" ref={inputRef} value={inputValue} />\n    </div>\n  );\n}\n\nconst ForwarSon = forwardRef(Son);\n// \u7236\u7ec4\u4ef6\nclass Index extends React.Component {\n  cur = null;\n  handerClick() {\n    const { onFocus, onChangeValue } = this.cur;\n    onFocus(); // \u8ba9\u5b50\u7ec4\u4ef6\u7684\u8f93\u5165\u6846\u83b7\u53d6\u7126\u70b9\n    onChangeValue('let us learn React!'); // \u8ba9\u5b50\u7ec4\u4ef6input\n  }\n  render() {\n    return (\n      <div style={{ marginTop: '50px' }}>\n        <ForwarSon ref={(cur) => (this.cur = cur)} />\n        <button onClick={this.handerClick.bind(this)}>\u64cd\u63a7\u5b50\u7ec4\u4ef6</button>\n      </div>\n    );\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"3.\u51fd\u6570\u7ec4\u4ef6\u7f13\u5b58\u6570\u636e")),a.a.createElement("h2",{id:"19context"},a.a.createElement(c["AnchorLink"],{to:"#19context","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"19.context"),a.a.createElement("h3",{id:"1createcontext"},a.a.createElement(c["AnchorLink"],{to:"#1createcontext","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09createContext"),a.a.createElement(r["a"],{code:"const ThemeContext = React.createContext(null); //\nconst ThemeProvider = ThemeContext.Provider; //\u63d0\u4f9b\u8005\nconst ThemeConsumer = ThemeContext.Consumer; // \u8ba2\u9605\u6d88\u8d39\u8005",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"createContext")," \u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u4f5c\u4e3a",a.a.createElement("code",null,"\u521d\u59cb\u5316")," context \u7684\u5185\u5bb9\uff0c\u8fd4\u56de\u4e00\u4e2a context \u5bf9\u8c61"),a.a.createElement("li",null,"Context \u5bf9\u8c61\u4e0a\u7684 ",a.a.createElement("code",null,"Provider")," \u4f5c\u4e3a",a.a.createElement("code",null,"\u63d0\u4f9b\u8005")),a.a.createElement("li",null,"Context \u5bf9\u8c61\u4e0a\u7684 ",a.a.createElement("code",null,"Consumer")," \u4f5c\u4e3a",a.a.createElement("code",null,"\u6d88\u8d39\u8005"))),a.a.createElement("h3",{id:"2provider"},a.a.createElement(c["AnchorLink"],{to:"#2provider","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09Provider"),a.a.createElement(r["a"],{code:"const ThemeProvider = ThemeContext.Provider; //\u63d0\u4f9b\u8005\nexport default function ProviderDemo() {\n  const [contextValue, setContextValue] = React.useState({\n    color: '#ccc',\n    background: 'pink',\n  });\n  return (\n    <div>\n      <ThemeProvider value={contextValue}>\n        <Son />\n      </ThemeProvider>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"provider \u4f5c\u7528\u6709\u4e24\u4e2a\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,"value \u5c5e\u6027\u4f20\u9012 context\uff0c\u4f9b\u7ed9 Consumer \u4f7f\u7528"),a.a.createElement("li",null,"value \u5c5e\u6027\u6539\u53d8\uff0cThemeProvider \u4f1a\u8ba9\u6d88\u8d39 Provider value \u7684\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3")))),a.a.createElement("h3",{id:"3consumer"},a.a.createElement(c["AnchorLink"],{to:"#3consumer","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09Consumer"),a.a.createElement("p",null,a.a.createElement("strong",null,"1.\u7c7b\u7ec4\u4ef6 contextType \u65b9\u5f0f")),a.a.createElement(r["a"],{code:"const ThemeContext = React.createContext(null);\n// \u7c7b\u7ec4\u4ef6 - contextType \u65b9\u5f0f\nclass ConsumerDemo extends React.Component {\n  render() {\n    const { color, background } = this.context;\n    return <div style={{ color, background }}>\u6d88\u8d39\u8005</div>;\n  }\n}\nConsumerDemo.contextType = ThemeContext;\n\nconst Son = () => <ConsumerDemo />;",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ec4\u4ef6\u7684\u9759\u6001\u5c5e\u6027\u4e0a\u7684 ",a.a.createElement("code",null,"contextType")," \u5c5e\u6027\uff0c",a.a.createElement("code",null,"\u6307\u5411"),"\u9700\u8981\u83b7\u53d6\u7684 ",a.a.createElement("code",null,"context"),"\uff08 demo \u4e2d\u7684 ThemeContext \uff09\uff0c\u5c31\u53ef\u4ee5\u65b9\u4fbf\u83b7\u53d6\u5230\u6700\u8fd1\u4e00\u5c42 Provider \u63d0\u4f9b\u7684 contextValue \u503c")),a.a.createElement("p",null,a.a.createElement("strong",null,"2.\u51fd\u6570\u7ec4\u4ef6 useContext \u65b9\u5f0f")),a.a.createElement(r["a"],{code:"const ThemeContext = React.createContext(null);\n// \u51fd\u6570\u7ec4\u4ef6 - useContext\u65b9\u5f0f\nfunction ConsumerDemo() {\n  const contextValue = React.useContext(ThemeContext); /*  */\n  const { color, background } = contextValue;\n  return <div style={{ color, background }}>\u6d88\u8d39\u8005</div>;\n}\nconst Son = () => <ConsumerDemo />;",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"useContext")," \u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u60f3\u8981\u83b7\u53d6\u7684 ",a.a.createElement("code",null,"context")," \uff0c\u8fd4\u56de\u4e00\u4e2a ",a.a.createElement("code",null,"value")," \u503c\uff0c\u5c31\u662f\u6700\u8fd1\u7684 provider \u63d0\u4f9b contextValue \u503c")),a.a.createElement("p",null,a.a.createElement("strong",null,"3.\u8ba2\u9605\u8005 Consumer \u65b9\u5f0f")),a.a.createElement(r["a"],{code:"const ThemeConsumer = ThemeContext.Consumer; // \u8ba2\u9605\u6d88\u8d39\u8005\n\nfunction ConsumerDemo(props) {\n  const { color, background } = props;\n  return <div style={{ color, background }}>\u6d88\u8d39\u8005</div>;\n}\nconst Son = () => (\n  <ThemeConsumer>\n    {/* \u5c06 context \u5185\u5bb9\u8f6c\u5316\u6210 props  */}\n    {(contextValue) => <ConsumerDemo {...contextValue} />}\n  </ThemeConsumer>\n);",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"Consumer \u8ba2\u9605\u8005\u91c7\u53d6 ",a.a.createElement("code",null,"render props")," \u65b9\u5f0f\uff0c\u63a5\u53d7\u6700\u8fd1\u4e00\u5c42 provider \u4e2d value \u5c5e\u6027\uff0c\u4f5c\u4e3a render props \u51fd\u6570\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u5c06\u53c2\u6570\u53d6\u51fa\u6765\uff0c\u4f5c\u4e3a props \u6df7\u5165 ConsumerDemo \u7ec4\u4ef6")),a.a.createElement("h3",{id:"4context-\u5bf9\u8c61"},a.a.createElement(c["AnchorLink"],{to:"#4context-\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09context \u5bf9\u8c61"),a.a.createElement(r["a"],{code:"export function createContext(defaultValue, calculateChangedBits) {\n  /* context \u5bf9\u8c61\u672c\u8d28  */\n  const context = {\n    $$typeof: REACT_CONTEXT_TYPE /* \u672c\u8d28\u4e0a\u5c31\u662f Consumer element \u7c7b\u578b */,\n    _calculateChangedBits: calculateChangedBits,\n    _currentValue: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null,\n  };\n  /* \u672c\u8d28\u4e0a\u5c31\u662f Provider element \u7c7b\u578b\u3002  */\n  context.Provider = {\n    $$typeof: REACT_PROVIDER_TYPE,\n    _context: context,\n  };\n  context.Consumer = context;\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"Provider")," \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a element \u5bf9\u8c61 $$typeof -> REACT_PROVIDER_TYPE"),a.a.createElement("li",null,a.a.createElement("code",null,"Consumer")," \u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a element \u5bf9\u8c61 $$typeof -> REACT_CONTEXT_TYPE"),a.a.createElement("li",null,a.a.createElement("code",null,"_currentValue")," \u8fd9\u4e2a\u7528\u6765",a.a.createElement("code",null,"\u4fdd\u5b58\u4f20\u9012"),"\u7ed9 Provider \u7684 ",a.a.createElement("code",null,"value"))),a.a.createElement("h2",{id:"20\u6a21\u5757\u5316-css"},a.a.createElement(c["AnchorLink"],{to:"#20\u6a21\u5757\u5316-css","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"20.\u6a21\u5757\u5316 css"),a.a.createElement("h3",{id:"1\u4f5c\u7528"},a.a.createElement(c["AnchorLink"],{to:"#1\u4f5c\u7528","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1\uff09\u4f5c\u7528"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u9632\u6b62\u5168\u5c40\u6c61\u67d3\uff0c\u6837\u5f0f\u88ab\u8986\u76d6")),a.a.createElement("li",null,a.a.createElement("p",null,"\u89e3\u51b3\u547d\u540d\u6df7\u4e71")),a.a.createElement("li",null,a.a.createElement("p",null,"css \u4ee3\u7801\u5197\u4f59\uff0c\u4f53\u79ef\u5e9e\u5927"))),a.a.createElement("h3",{id:"2css-\u6a21\u5757\u5316\u601d\u8def"},a.a.createElement(c["AnchorLink"],{to:"#2css-\u6a21\u5757\u5316\u601d\u8def","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2\uff09css \u6a21\u5757\u5316\u601d\u8def"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u7b2c\u4e00\u79cd ",a.a.createElement("code",null,"css module")," \uff0c\u4f9d\u8d56\u4e8e webpack \u6784\u5efa\u548c css-loader \u7b49 loader \u5904\u7406\uff0c\u5c06 css \u4ea4\u7ed9 js \u6765\u52a8\u6001\u52a0\u8f7d")),a.a.createElement("li",null,a.a.createElement("p",null,"\u7b2c\u4e8c\u79cd\u5c31\u662f\u76f4\u63a5\u653e\u5f03 css \uff0c",a.a.createElement("code",null,"css in js"),"\u7528 js \u5bf9\u8c61\u65b9\u5f0f\u5199 css \uff0c\u7136\u540e\u4f5c\u4e3a style \u65b9\u5f0f\u8d4b\u4e88\u7ed9 React \u7ec4\u4ef6\u7684 DOM \u5143\u7d20\uff0c\u8fd9\u79cd\u5199\u6cd5\u5c06\u4e0d\u9700\u8981 .css .less .scss \u7b49\u6587\u4ef6\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u6709\u4e00\u4e2a\u5199\u5bf9\u5e94\u6837\u5f0f\u7684 js \u6587\u4ef6"))),a.a.createElement("h3",{id:"3css-module"},a.a.createElement(c["AnchorLink"],{to:"#3css-module","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3\uff09css module"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"1.css-loader \u914d\u7f6e"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u81ea\u5b9a\u4e49\u89c4\u5219\u547d\u540d")))),a.a.createElement(r["a"],{code:"{\n  test: /\\.css$/ /* \u5bf9\u4e8e css \u6587\u4ef6\u7684\u5904\u7406 */,\n  use: [\n    {\n      loader: 'css-loader',\n      options: {\n        modules: {\n          localIdentName:\n            '[path][name]__[local]--[hash:base64:5]' /* \u547d\u540d\u89c4\u5219  [path][name]__[local] \u5f00\u53d1\u73af\u5883 - \u4fbf\u4e8e\u8c03\u8bd5   */,\n        },\n      },\n    },\n  ],\n};",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"2.css \u6587\u4ef6")),a.a.createElement(r["a"],{code:".text {\n  color: blue;\n}",lang:"css"}),a.a.createElement("ul",null,a.a.createElement("li",null,"3.js \u6587\u4ef6")),a.a.createElement(r["a"],{code:"import style from './style.css';\nexport default () => (\n  <div>\n    <div className={style.text}>\u9a8c\u8bc1 css modules </div>\n  </div>\n);",lang:"js"}),a.a.createElement("h3",{id:"4\u5168\u5c40\u53d8\u91cf"},a.a.createElement(c["AnchorLink"],{to:"#4\u5168\u5c40\u53d8\u91cf","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4\uff09\u5168\u5c40\u53d8\u91cf"),a.a.createElement("ul",null,a.a.createElement("li",null,"css")),a.a.createElement(r["a"],{code:".text {\n  color: blue;\n}\n:global(.text_bg) {\n  background-color: pink;\n}",lang:"less"}),a.a.createElement("ul",null,a.a.createElement("li",null,"js")),a.a.createElement(r["a"],{code:"import style from './style.css';\nexport default () => (\n  <div>\n    <div className={style.text + ' text_bg'}>\u9a8c\u8bc1 CSS Modules </div>\n  </div>\n);",lang:"js"}),a.a.createElement("h3",{id:"5\u7ec4\u5408\u6837\u5f0f"},a.a.createElement(c["AnchorLink"],{to:"#5\u7ec4\u5408\u6837\u5f0f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"5\uff09\u7ec4\u5408\u6837\u5f0f"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"CSS Modules \u63d0\u4f9b\u4e86\u4e00\u79cd ",a.a.createElement("code",null,"composes")," \u7ec4\u5408\u65b9\u5f0f")),a.a.createElement("li",null,a.a.createElement("p",null,"css"))),a.a.createElement(r["a"],{code:".base {\n  /* \u57fa\u7840\u6837\u5f0f */\n  color: blue;\n}\n.text {\n  /* \u7ee7\u627f\u57fa\u7840\u6837\u5f0f \uff0c\u589e\u52a0\u989d\u5916\u7684\u6837\u5f0f backgroundColor */\n  composes: base;\n  background-color: pink;\n}",lang:"less"}),a.a.createElement("ul",null,a.a.createElement("li",null,"js")),a.a.createElement(r["a"],{code:"import style from './style.css';\nexport default () => (\n  <div>\n    <div className={style.text}>\u9a8c\u8bc1 css modules </div>\n  </div>\n);",lang:"js"}),a.a.createElement("h3",{id:"6\u914d\u7f6e-less-\u548c-sass"},a.a.createElement(c["AnchorLink"],{to:"#6\u914d\u7f6e-less-\u548c-sass","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"6\uff09\u914d\u7f6e less \u548c sass"),a.a.createElement(r["a"],{code:"{\n  test: /\\.less$/,\n  use: [\n    {\n      loader: 'css-loader',\n      options: {\n        modules: {\n          localIdentName: '[path][name]---[local]---[hash:base64:5]',\n        },\n      },\n    },\n    {\n      // \u53ef\u80fd\u662f\u5176\u4ed6 loader, \u4e0d\u8fc7\u4e0d\u91cd\u8981\u3002\n    },\n    'less-loader',\n  ],\n};",lang:"js"}),a.a.createElement("h3",{id:"7\u7ec4\u5408\u65b9\u6848"},a.a.createElement(c["AnchorLink"],{to:"#7\u7ec4\u5408\u65b9\u6848","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"7\uff09\u7ec4\u5408\u65b9\u6848"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u5b9a\u5bf9\u4e8e\u5168\u5c40\u6837\u5f0f\u6216\u8005\u662f\u516c\u5171\u7ec4\u4ef6\u6837\u5f0f\uff0c\u53ef\u4ee5\u7528 .css \u6587\u4ef6\uff0c\u4e0d\u9700\u8981\u505a CSS Modules \u5904\u7406\uff0c\u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u5199 :global \u7b49\u7e41\u7410\u8bed\u6cd5")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5bf9\u4e8e\u9879\u76ee\u4e2d\u5f00\u53d1\u7684\u9875\u9762\u548c\u4e1a\u52a1\u7ec4\u4ef6\uff0c\u7edf\u4e00\u7528 scss \u6216\u8005 less \u7b49\u505a CSS Module"))),a.a.createElement(r["a"],{code:"import React from 'react';\n\nimport Style from './index.less'; /*  less css module */\n\nexport default () => (\n  <div>\n    {/* \u516c\u5171\u6837\u5f0f */}\n    <button className=\"searchbtn\">\u516c\u5171\u6309\u94ae\u7ec4\u4ef6</button>\n    <div className={Style.text}>\u9a8c\u8bc1 less + css modules </div>\n  </div>\n);",lang:"js"}),a.a.createElement("h3",{id:"8\u52a8\u6001\u6dfb\u52a0-class"},a.a.createElement(c["AnchorLink"],{to:"#8\u52a8\u6001\u6dfb\u52a0-class","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"8\uff09\u52a8\u6001\u6dfb\u52a0 class"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ec4\u4ef6\u4e2d\u4f7f\u7528 ",a.a.createElement("code",null,"classnames")," \u5e93")),a.a.createElement("h3",{id:"9css-modules-\u4f18\u70b9"},a.a.createElement(c["AnchorLink"],{to:"#9css-modules-\u4f18\u70b9","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"9\uff09CSS Modules \u4f18\u70b9"),a.a.createElement("ul",null,a.a.createElement("li",null,"CSS Modules \u7684\u7c7b\u540d\u90fd\u6709\u81ea\u5df1\u7684",a.a.createElement("code",null,"\u79c1\u6709\u57df"),"\uff0c\u53ef\u4ee5",a.a.createElement("code",null,"\u907f\u514d"),"\u7c7b\u540d",a.a.createElement("code",null,"\u91cd\u590d"),"/",a.a.createElement("code",null,"\u8986\u76d6"),"\uff0c",a.a.createElement("code",null,"\u5168\u5c40\u6c61\u67d3"),"\u95ee\u9898"),a.a.createElement("li",null,"\u5f15\u5165 css \u66f4\u52a0\u7075\u6d3b\uff0ccss \u6a21\u5757\u4e4b\u95f4\u53ef\u4ee5",a.a.createElement("code",null,"\u4e92\u76f8\u7ec4\u5408")),a.a.createElement("li",null,"class \u7c7b\u540d\u751f\u6210\u89c4\u5219\u914d\u7f6e\u7075\u6d3b\uff0c\u65b9\u4fbf",a.a.createElement("code",null,"\u538b\u7f29")," class \u540d")),a.a.createElement("h3",{id:"10css-in-js"},a.a.createElement(c["AnchorLink"],{to:"#10css-in-js","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"10\uff09CSS IN JS"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7528 js \u5bf9\u8c61\u5f62\u5f0f\u76f4\u63a5\u5199 style")),a.a.createElement(r["a"],{code:"// \u5b9a\u4e49\nconst boxStyle = {\n  backgroundColor: 'blue',\n};\nconst textStyle = {\n  color: 'orange',\n};\nexport default {\n  boxStyle,\n  textStyle\n}\n\n// \u4f7f\u7528\nimport React from 'react';\nimport Style from './style';\n\nexport default function Index() {\n  return (\n    <div style={Style.boxStyle}>\n      <span style={Style.textStyle}>hi , i am CSS IN JS!</span>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7075\u6d3b\u8fd0\u7528")),a.a.createElement(r["a"],{code:"const baseStyle = {\n  /* \u57fa\u7840\u6837\u5f0f */\n};\n\nconst containerStyle = {\n  ...baseStyle, // \u7ee7\u627f  baseStyle \u6837\u5f0f\n  color: '#ccc', // \u6dfb\u52a0\u7684\u989d\u5916\u6837\u5f0f\n};",lang:"js"}),a.a.createElement("h3",{id:"11style-components"},a.a.createElement(c["AnchorLink"],{to:"#11style-components","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"11\uff09style-components"),a.a.createElement(r["a"],{code:"import styled from 'styled-components';\n\nconst Button = styled.button`\n  background: ${(props) => (props.theme ? props.theme : '#6a8bad')};\n  color: #fff;\n  min-width: 96px;\n  height: 36px;\n  border: none;\n  border-radius: 18px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  margin-left: 20px !important;\n`;\n\nexport default function Index() {\n  return (\n    <div>\n      <Button theme={'#fc4838'}>props\u4e3b\u9898\u6309\u94ae</Button>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ee7\u627f\u6837\u5f0f")),a.a.createElement(r["a"],{code:"const NewButton = styled(Button)`\n  background: orange;\n  color: pink;\n`;\nexport default function Index() {\n  return (\n    <div>\n      <NewButton> \u7ee7\u627f\u6309\u94ae</NewButton>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("h3",{id:"12css-in-js-\u7279\u70b9"},a.a.createElement(c["AnchorLink"],{to:"#12css-in-js-\u7279\u70b9","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"12\uff09CSS IN JS \u7279\u70b9"),a.a.createElement("ul",null,a.a.createElement("li",null,"CSS IN JS \u672c\u8d28\u4e0a",a.a.createElement("code",null,"\u653e\u5f03\u4e86 css")," \uff0c\u53d8\u6210\u4e86 css in line \u5f62\u5f0f\uff0c\u6240\u4ee5",a.a.createElement("code",null,"\u6839\u672c\u4e0a\u89e3\u51b3\u4e86\u5168\u5c40\u6c61\u67d3"),"\uff0c",a.a.createElement("code",null,"\u6837\u5f0f\u6df7\u4e71"),"\u7b49\u95ee\u9898"),a.a.createElement("li",null,"\u8fd0\u7528\u8d77\u6765",a.a.createElement("code",null,"\u7075\u6d3b"),"\uff0c\u53ef\u4ee5\u8fd0\u7528 ",a.a.createElement("code",null,"js \u7279\u6027"),"\uff0c\u66f4\u7075\u6d3b\u5730\u5b9e\u73b0\u6837\u5f0f",a.a.createElement("code",null,"\u7ee7\u627f"),"\uff0c",a.a.createElement("code",null,"\u52a8\u6001\u6dfb\u52a0"),"\u6837\u5f0f\u7b49\u573a\u666f"),a.a.createElement("li",null,"\u7531\u4e8e\u7f16\u8bd1\u5668\u5bf9 js \u6a21\u5757\u5316\u652f\u6301\u5ea6\u66f4\u9ad8\uff0c\u4f7f\u5f97\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u66f4\u5feb\u5730\u627e\u5230 style.js \u6837\u5f0f\u6587\u4ef6\uff0c\u4ee5\u53ca\u5feb\u6377\u5f15\u5165\u6587\u4ef6\u4e2d\u7684\u6837\u5f0f\u5e38\u91cf"),a.a.createElement("li",null,a.a.createElement("code",null,"\u65e0\u987b webpack \u989d\u5916\u914d\u7f6e")," css\uff0cless \u7b49\u6587\u4ef6\u7c7b\u578b")),a.a.createElement("h2",{id:"21\u7f13\u5b58-reactelement-\u5bf9\u8c61"},a.a.createElement(c["AnchorLink"],{to:"#21\u7f13\u5b58-reactelement-\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"21.\u7f13\u5b58 React.element \u5bf9\u8c61"),a.a.createElement(r["a"],{code:"/* \u5b50\u7ec4\u4ef6 */\nfunction Children({ number }) {\n  console.log('\u5b50\u7ec4\u4ef6\u6e32\u67d3');\n  return <div>let us learn React! {number} </div>;\n}\n/* \u7236\u7ec4\u4ef6 */\nexport default class Index extends React.Component {\n  state = {\n    numberA: 0,\n    numberB: 0,\n  };\n  render() {\n    return (\n      <div>\n        <Children number={this.state.numberA} />\n        <button\n          onClick={() => this.setState({ numberA: this.state.numberA + 1 })}\n        >\n          \u6539\u53d8numberA -{this.state.numberA}{' '}\n        </button>\n        <button\n          onClick={() => this.setState({ numberB: this.state.numberB + 1 })}\n        >\n          \u6539\u53d8numberB -{this.state.numberB}\n        </button>\n      </div>\n    );\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u95ee\u9898\uff1a\u65e0\u8bba\u6539\u53d8 numberA \u8fd8\u662f\u6539\u53d8 numberB \uff0c\u5b50\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u663e\u7136\u8fd9\u4e0d\u662f\u60f3\u8981\u7684\u7ed3\u679c")),a.a.createElement("li",null,a.a.createElement("p",null,"\u89e3\u51b3\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,"useMemo")),a.a.createElement(r["a"],{code:"export default function Index() {\n  const [numberA, setNumberA] = React.useState(0);\n  const [numberB, setNumberB] = React.useState(0);\n  return (\n    <div>\n      {useMemo(\n        () => (\n          <Children number={numberA} />\n        ),\n        [numberA],\n      )}\n      <button onClick={() => setNumberA(numberA + 1)}>\u6539\u53d8numberA</button>\n      <button onClick={() => setNumberB(numberB + 1)}>\u6539\u53d8numberB</button>\n    </div>\n  );\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u539f\u7406\u63ed\u79d8\uff1a",a.a.createElement("ul",null,a.a.createElement("li",null,"\u6bcf\u6b21\u6267\u884c render \u672c\u8d28\u4e0a createElement \u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 props\uff0c\u8fd9\u4e2a props \u5c06\u4f5c\u4e3a\u5bf9\u5e94 fiber \u7684 pendingProps"),a.a.createElement("li",null,"\u5728\u6b64 fiber \u66f4\u65b0\u8c03\u548c\u9636\u6bb5\uff0cReact \u4f1a\u5bf9\u6bd4 fiber \u4e0a\u8001 oldProps \u548c\u65b0\u7684 newProp \uff08 pendingProps \uff09\u662f\u5426\u76f8\u7b49\uff0c\u5982\u679c\u76f8\u7b49\u51fd\u6570\u7ec4\u4ef6\u5c31\u4f1a\u653e\u5f03\u5b50\u7ec4\u4ef6\u7684\u8c03\u548c\u66f4\u65b0\uff0c\u4ece\u800c\u5b50\u7ec4\u4ef6\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3"),a.a.createElement("li",null,"\u5982\u679c\u4e0a\u8ff0\u628a element \u5bf9\u8c61\u7f13\u5b58\u8d77\u6765\uff0c\u4e0a\u9762 props \u4e5f\u5c31\u548c fiber \u4e0a oldProps \u6307\u5411\u76f8\u540c\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4e5f\u5c31\u662f\u76f8\u7b49\uff0c\u4ece\u800c\u8df3\u8fc7\u4e86\u672c\u6b21\u66f4\u65b0")))))),a.a.createElement("h2",{id:"22npm-\u6309\u9700\u5f15\u5165"},a.a.createElement(c["AnchorLink"],{to:"#22npm-\u6309\u9700\u5f15\u5165","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"22.npm \u6309\u9700\u5f15\u5165"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u901a\u8fc7 ",a.a.createElement("code",null,".babelrc")," \u5b9e\u73b0\u6309\u9700\u5f15\u5165")),a.a.createElement(r["a"],{code:"[\n  'import',\n  {\n    libraryName: 'antd',\n    libraryDirectory: 'es',\n    style: true,\n  },\n];",lang:"js"}))))}}]);